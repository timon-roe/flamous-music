{"version":3,"sources":["../node_modules/hyperapp/src/index.js","../node_modules/amplitudejs/dist/amplitude.js","../node_modules/picostyle/src/index.js","../node_modules/tslib/tslib.es6.js","../node_modules/framesync/dist/framesync.es.js","../node_modules/style-value-types/dist/style-value-types.es.js","../node_modules/hey-listen/dist/hey-listen.es.js","../node_modules/stylefire/dist/stylefire.es.js","../node_modules/popmotion/dist/popmotion.es.js","../node_modules/popmotion/lib/calc.js","../node_modules/popmotion/lib/transformers.js","components/ScrubBar.js","albums.js","components/Home.js","songs.js","index.js"],"names":["h","app","name","attributes","rest","children","length","arguments","push","node","pop","nodeName","key","state","actions","view","container","map","rootElement","oldNode","recycleElement","lifecycle","skipRender","isRecycling","globalState","clone","wiredActions","wireStateToActions","scheduleRender","element","toLowerCase","call","childNodes","nodeType","nodeValue","resolveNode","render","patch","setTimeout","target","source","out","i","setPartialState","path","value","slice","getPartialState","action","data","result","then","concat","getKey","eventListener","event","currentTarget","events","type","updateAttribute","oldValue","isSvg","style","setProperty","addEventListener","removeEventListener","setAttribute","removeAttribute","createElement","document","createTextNode","createElementNS","oncreate","appendChild","updateElement","oldAttributes","cb","onupdate","removeChildren","ondestroy","removeElement","parent","done","removeChild","onremove","newElement","insertBefore","oldKeyed","newKeyed","oldElements","oldChildren","oldKey","k","newKey","keyedNode","cache","decls","nodeDecls","JSON","stringify","createStyle","class","filter","Boolean","join","keyframes","_id","sheet","head","hyphenate","str","replace","insert","rule","insertRule","cssRules","obj","id","parse","forEach","wrap","stringToWrap","wrapper","classname","isInsideObj","arr","prop","sub","test","__extends","__rest","__decorate","__param","__metadata","__awaiter","__generator","__exportStar","__values","__read","__spread","__await","__asyncGenerator","__asyncDelegator","__asyncValues","__makeTemplateObject","__importStar","__importDefault","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__assign","assign","t","s","n","apply","e","indexOf","getOwnPropertySymbols","decorators","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","paramIndex","decorator","metadataKey","metadataValue","metadata","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","body","_","label","sent","trys","ops","f","y","g","verb","Symbol","iterator","v","op","TypeError","m","exports","o","ar","error","asyncIterator","q","a","resume","settle","fulfill","shift","cooked","raw","mod","__esModule","default","hasRAF","window","requestAnimationFrame","undefined","prevTime","onNextFrame","callback","currentTime","Date","now","timeToCall","Math","max","createRenderStep","startRenderLoop","functionsToRun","functionsToRunNextFrame","numThisFrame","isProcessing","cancel","indexOfCallback","splice","process","_a","schedule","immediate","addToCurrentBuffer","buffer","HAS_PERFORMANCE_NOW","performance","willRenderNextFrame","MAX_ELAPSED","defaultElapsed","useDefaultElapsed","currentFramestamp","elapsed","processFrame","frameStart","frameUpdate","frameRender","frameEnd","framestamp","min","onFrameStart","onFrameUpdate","onFrameRender","onFrameEnd","cancelOnFrameStart","cancelOnFrameUpdate","cancelOnFrameRender","cancelOnFrameEnd","timeSinceLastFrame","currentFrameTime","clamp","contains","term","isFirstChars","getValueFromFunctionString","substring","lastIndexOf","splitCommaDelimited","split","number","parseFloat","transform","alpha","scale","createUnitType","unit","containsUnit","degrees","percent","px","vh","vw","clampRgbUnit","onlyColorRegex","isRgba","red","isHsla","hue","splitColorValues","terms","numTerms","values","valuesArray","rgbaTemplate","green","blue","_b","alpha$$1","hslaTemplate","saturation","lightness","rgbUnit","round","testRgbaString","rgba","testHslaString","hsla","hex","substr","parseInt","color","floatRegex","colorRegex","COLOR_TOKEN","NUMBER_TOKEN","complex","numValues","foundNumbers","match","foundColors","input","parsed","createTransformer","template","token","numColors","numNumbers","output","HEY_LISTEN","warning","invariant","check","message","console","warn","Error","toUpperCase","createStyler","onRead","onRender","aliasMap","_c","useCache","props","changedValues","hasChanged","setValue","unmappedKey","currentValue","forceRender","get","set","CAMEL_CASE_PATTERN","REPLACE_TEMPLATE","camelToDash","setDomAttrs","attrs","camelCache","Map","dashCache","prefixes","numPrefixes","testElement","testPrefix","prefix","noPrefix","prefixedPropertyName","charAt","prefixer","asDashCase","has","axes","order","TRANSFORM_ORIGIN_X","TRANSFORM_ORIGIN_Y","transformProps","reduce","acc","axesAcc","axesKey","transformPropDictionary","dict","isTransformProp","sortTransformProps","isTransformOriginProp","valueTypes","backgroundColor","outlineColor","fill","stroke","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","borderRadius","width","maxWidth","height","maxHeight","top","left","bottom","right","rotate","rotateX","rotateY","rotateZ","scaleX","scaleY","scaleZ","skewX","skewY","distance","translateX","translateY","translateZ","perspective","opacity","transformOriginX","transformOriginY","transformOriginZ","getValueType","x","z","originX","originY","originZ","NUMBER","OBJECT","COLON","SEMI_COLON","TRANSFORM_ORIGIN","TRANSFORM","TRANSLATE_Z","TRANSFORM_NONE","styleRule","buildStylePropertyString","enableHardwareAcceleration","blacklist","valuesToChange","keys","propertyString","transformString","hasTransformOrigin","transformIsDefault","hasTransform","transformHasZ","numChangedValues","stateKey","sort","totalNumChangedValues","isTransformKey","valueType","SCROLL_LEFT","SCROLL_TOP","scrollValues","Set","cssStyler","preparseOutput","domValue","getComputedStyle","getPropertyValue","cssText","scrollLeft","scrollTop","uncachedValues","css","ZERO_NOT_ZERO","percentToPixels","percent$$1","build","dimensions","isPath","pathLength","hasDashArray","dashArrayStyles","pathSpacing","scale$$1","scaleTransformX","scaleTransformY","scaleReplaceX","scaleReplaceY","translate","defaultValue","valueTypes$1","fillOpacity","strokeOpacity","getValueType$1","svgStyler","getAttribute","background","svg","getBBox","tagName","getTotalLength","viewport","pageYOffset","pageXOffset","scrollTo","WeakMap","createDOMStyler","styler","HTMLElement","SVGElement","getStyler","index","nodeOrSelector","querySelector","createStylerFactory","buildStyles","styleValueTypes","isNum","isPoint","point","isPoint3D","toDecimal","num","precision","pow","ZERO_POINT","distance1D","abs","angle","radiansToDegrees","atan2","degreesToRadians","degrees$$1","PI","dilate","dilation","xDelta","yDelta","zDelta","sqrt","getProgressFromValue","from","to","toFromDifference","getValueFromProgress","progress","pointFromAngleAndDistance","origin","cos","sin","radians","smooth","newValue","duration","smoothing","speedPerFrame","xps","frameDuration","speedPerSecond","velocity","stepProgress","steps","segment","progressOfTarget","floor","calc","freeze","noop","appendUnit","applyOffset","hasReceivedFrom","getOffset","applyOffsetTo","blend","fromExpo","toExpo","blendColor","fromColor","toColor","blended","blendFunc","blendArray","blendValue","fromThis","toThis","combineFunctions","pipe","transformers","_i","conditional","slowInterpolate","rangeLength","rangeEasing","finalIndex","reverse","progressInRange","easedProgress","fastInterpolate","minA","maxA","minB","maxB","interpolate","generateStaticSpring","alterDisplacement","constant","displacement","springModifiedDisplacement","linearSpring","nonlinearSpring","rangeSize","smooth$1","strength","previousValue","lastUpdated","timeDelta","snap","points","i_1","numPoints_1","lastDistance","distance$$1","st","transformMap","childTransformers","childTransformer","Chainable","applyMiddleware","middleware","funcs","pipedUpdate","update","while","predicate","complete","Observer","observer","onComplete","_this","isActive","updateObserver","err","createObserver","observerCandidate","Action","_super","start","isComplete","subscription","stop","init","observerProps","api","registerParent","BaseMulticast","subscribers","subscriber","subscribe","unsubscribe","Multicast","multicast","isValueList","isArray","isSingleValue","typeOfV","ValueReaction","scheduleVelocityCheck","velocityCheck","prev","current","updateCurrent","getVelocityOfCurrent","getSingleVelocity","getListVelocity","getMapVelocity","initialSubscription","getVelocity","multi","getCount","getFirst","getOutput","mapApi","setProp","startActions","numActions","updateOutput","numCompletedActions","subs","hasCompleted","methodName","composite","args","propKey","starter","parallel","parallel$1","createVectorTests","typeTests","testNames","isVectorProp","getVectorKeys","vectorKeys","testVectorProps","isVector","unitTypes","findUnitType","find","isUnitProp","createAction","reduceArrayValue","createArrayAction","firstVectorKey","actionList","childActionProps","getActionCreator","reduceObjectValue","createObjectAction","actionMap","createUnitAction","unitType","createColorAction","createComplexAction","valueTemplate","createVectorAction","vectorAction","testKey","testProp","actionCreator","frame","startTime","nextFrame","decay","_d","power","_e","timeConstant","_f","restDelta","modifyTarget","amplitude","idealTarget","timer","delta","exp","isMoving","vectorDecay","func","DEFAULT_OVERSHOOT_STRENGTH","createReversedEasing","easing","createMirroredEasing","linear","createExpoIn","easeIn","easeOut","easeInOut","circIn","acos","circOut","circInOut","createBackIn","backIn","backOut","backInOut","createAnticipateEasing","backEasing","anticipate","NEWTON_ITERATIONS","NEWTON_MIN_SLOPE","SUBDIVISION_PRECISION","SUBDIVISION_MAX_ITERATIONS","K_SPLINE_TABLE_SIZE","K_SAMPLE_STEP_SIZE","FLOAT_32_SUPPORTED","Float32Array","a1","a2","getSlope","calcBezier","cubicBezier","mX1","mY1","mX2","mY2","sampleValues","_precomputed","binarySubdivide","aX","aA","aB","currentX","currentT","newtonRaphsonIterate","aGuessT","currentSlope","calcSampleValues","getTForX","intervalStart","currentSample","lastSample","dist","guessForT","initialSlope","precompute","resolver","returnValue","scrubber","ease","seek","vectorScrubber","clampProgress","tween","flip","loop","yoyo","_g","_h","_j","_k","playDirection","_l","flipCount","_m","yoyoCount","_o","loopCount","playhead","tweenTimer","reverseTween","isTweenComplete","isStepTaken","updateTween","startTimer","stopTimer","getElapsed","getProgress","pause","newProgress","clampProgress$1","defaultEasings","defaultTimings","interpolateScrubbers","scrubbers","finalInputIndex","finalScrubberIndex","scrub","easings","times","tweenProps","physics","acceleration","friction","springStrength","restSpeed","distanceToTarget","setAcceleration","setFriction","setSpringStrength","setSpringTarget","setVelocity","vectorPhysics","spring","stiffness","damping","mass","initialVelocity","position","prevPosition","springTimer","dampingRatio","angularFreq","envelope","expoDecay","isBelowVelocityThreshold","isBelowDisplacementThreshold","vectorSpring","DEFAULT_DURATION","flattenTimings","instructions","flatInstructions","lastArg","isStaggered","staggerDelay","segments","numSegments","offset","item","flattenArrayInstructions","instruction","convertDefToProps","def","prevTimeTo","timeFrom","at","timeTo","timeline","calculatedDuration","animationDefs","tracks","numDefs","track","trackKeyframes","keyframeProps","listen","options","eventNames","eventName","defaultPointerPos","clientX","clientY","pageX","pageY","eventToPoint","isTouchDevice","updatePointsLocation","touches","numTouches","thisTouch","multitouch","preventDefault","initialDistance","initialRotation","isGesture","firstTouch","secondTouch","updatePoint","newDistance","newRotation","onMove","updateOnMove","passive","getIsTouchDevice","isMouseDevice","updatePointLocation","mouse","getFirstTouch","pointer","applyXOffset_1","applyYOffset_1","delta_1","chain","playCurrent","crossfade","balance","fadable","va","vb","setBalance","delay","timeToDelay","timeout","clearTimeout","merge","thisAction","scheduler","schedulee","latest","schedulerSub","scheduleeSub","stagger","interval","intervalIsNumber","actionsWithDelay","everyFrame","makeInteractive","playPause","nextSong","previousSong","THRESHOLD","handleStyler","handle","oneDirectionalPointer","axis","currentHandle","direction","stopPointer","springCurve","log","Bubble","playingState","transition","border","padding","display","cursor","boxShadow","Indicator","justifyContent","marginTop","SongCover","boxSizing","pointerEvents","Song","fontWeight","Artist","Info","paddingLeft","alignSelf","Wrapper","ScrubBar","image","artist","albumCoverUrl","placeholder","Header","fontSize","margin","Gallery","marginBottom","FlexWrapper","flexWrap","Item","textAlign","minWidth","flexGrow","Cover","src","Page","overflowY","Home","albums","album","url","songs","cover_art_url","images","AppShell","Amplitude","setDebug","songList","default_album_art","callbacks","song_change","meta","getActiveSongMetadata","Image","onload","flamous","updateMetaData","before_play","setPlayState","before_pause","playingContext","getDefaultAlbumArt","metaData","navigator","mediaSession","MediaMetadata","title","artwork","isPlaying","audio","paused","info","play","setActionHandler"],"mappings":"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AAYhD,CAAZ,CAAvC;AACD;AACDA;AACD;;AAED,WAAK,IAAIA,CAAT,IAAc6C,QAAd,EAAwB;AACtB,YAAI,CAACC,SAAS9C,CAAT,CAAL,EAAkB;AAChBsC,wBAAcnD,OAAd,EAAuB0D,SAAS7C,CAAT,EAAY,CAAZ,CAAvB,EAAuC6C,SAAS7C,CAAT,EAAY,CAAZ,CAAvC;AACD;AACF;AACF;AACD,WAAOb,OAAP;AACD;AACF;;;AC7YD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;kBChiOe,UAAS7B,CAAT,EAAY;AACzB,SAAO,UAASW,QAAT,EAAmB;AACxB,QAAIoF,QAAQ,EAAZ;AACA,WAAO,UAASC,KAAT,EAAgB;AACrB,aAAO,UAAS7F,UAAT,EAAqBE,QAArB,EAA+B;AACpCF,qBAAaA,cAAc,EAA3B;AACAE,mBAAWF,WAAWE,QAAX,IAAuBA,QAAlC;AACA,YAAI4F,YAAY,OAAOD,KAAP,IAAgB,UAAhB,GAA6BA,MAAM7F,UAAN,CAA7B,GAAiD6F,KAAjE;AACA,YAAIpF,MAAMsF,KAAKC,SAAL,CAAeF,SAAf,CAAV;AACAF,cAAMnF,GAAN,MAAemF,MAAMnF,GAAN,IAAawF,YAAYH,SAAZ,CAA5B;AACA9F,mBAAWkG,KAAX,GAAmB,CAAClG,WAAWkG,KAAZ,EAAmBN,MAAMnF,GAAN,CAAnB,EAChB0F,MADgB,CACTC,OADS,EAEhBC,IAFgB,CAEX,GAFW,CAAnB;AAGA,eAAOxG,EAAEW,QAAF,EAAYR,UAAZ,EAAwBE,QAAxB,CAAP;AACD,OAVD;AAWD,KAZD;AAaD,GAfD;AAgBD;;QACeoG,YAAAA;AA9DhB,IAAIC,MAAM,CAAV;AACA,IAAIC,QAAQtC,SAASuC,IAAT,CAAcnC,WAAd,CAA0BJ,SAASD,aAAT,CAAuB,OAAvB,CAA1B,EAA2DuC,KAAvE;;AAEA,SAASE,SAAT,CAAmBC,GAAnB,EAAwB;AACtB,SAAOA,IAAIC,OAAJ,CAAY,QAAZ,EAAsB,KAAtB,EAA6BjF,WAA7B,EAAP;AACD;;AAED,SAASkF,MAAT,CAAgBC,IAAhB,EAAsB;AACpBN,QAAMO,UAAN,CAAiBD,IAAjB,EAAuBN,MAAMQ,QAAN,CAAe7G,MAAtC;AACD;AACD,SAAS8F,WAAT,CAAqBgB,GAArB,EAA0B;AACxB,MAAIC,KAAK,MAAMX,KAAf;AACAY,QAAMF,GAAN,EAAW,MAAMC,EAAjB,EAAqBE,OAArB,CAA6BP,MAA7B;AACA,SAAOK,EAAP;AACD;AACD,SAASG,IAAT,CAAcC,YAAd,EAA4BC,OAA5B,EAAqC;AACnC,SAAOA,UAAU,GAAV,GAAgBD,YAAhB,GAA+B,GAAtC;AACD;;AAED,SAASH,KAAT,CAAeF,GAAf,EAAoBO,SAApB,EAA+BC,WAA/B,EAA4C;AAC1C,MAAIC,MAAM,CAAC,EAAD,CAAV;AACAD,gBAAcA,eAAe,CAA7B;AACA,OAAK,IAAIE,IAAT,IAAiBV,GAAjB,EAAsB;AACpB,QAAIvE,QAAQuE,IAAIU,IAAJ,CAAZ;AACAA,WAAOjB,UAAUiB,IAAV,CAAP;AACA;AACA,QAAI,CAACjF,MAAMkF,GAAX,EAAgB;AACd,UAAI,eAAeC,IAAf,CAAoBF,IAApB,CAAJ,EAA+B;AAC7BA,eAAOH,YAAYG,IAAnB;AACD;AACD;AACAA,aAAOA,KAAKf,OAAL,CAAa,IAAb,EAAmBY,SAAnB,CAAP;AACAE,UAAIrH,IAAJ,CACEgH,KAAKF,MAAMzE,KAAN,EAAa8E,SAAb,EAAwB,KAAK,CAAC,KAAKK,IAAL,CAAUF,IAAV,CAA9B,EAA+CtB,IAA/C,CAAoD,EAApD,CAAL,EAA8DsB,IAA9D,CADF;AAGD,KATD,MASO;AACLD,UAAI,CAAJ,KAAUC,OAAO,GAAP,GAAajF,KAAb,GAAqB,GAA/B;AACD;AACF;AACD,MAAI,CAAC+E,WAAL,EAAkB;AAChBC,QAAI,CAAJ,IAASL,KAAKK,IAAI,CAAJ,CAAL,EAAaF,SAAb,CAAT;AACD;AACD,SAAOE,GAAP;AACD;AAmBM,SAASpB,SAAT,CAAmBW,GAAnB,EAAwB;AAC7B,MAAIC,KAAK,MAAMX,KAAf;AACAM,SAAOQ,KAAKF,MAAMF,GAAN,EAAWC,EAAX,EAAe,CAAf,EAAkBb,IAAlB,CAAuB,EAAvB,CAAL,EAAiC,gBAAgBa,EAAjD,CAAP;AACA,SAAOA,EAAP;AACD;;;;;;;QC3CeY,YAAAA;QAiBAC,SAAAA;QAUAC,aAAAA;QAOAC,UAAAA;QAIAC,aAAAA;QAIAC,YAAAA;QASAC,cAAAA;QA4BAC,eAAAA;QAIAC,WAAAA;QAWAC,SAAAA;QAiBAC,WAAAA;QAMAC,UAAAA;QAIAC,mBAAAA;QAYAC,mBAAAA;QAMAC,gBAAAA;QAQAC,uBAAAA;QAKAC,eAAAA;QAQAC,kBAAAA;AAvLhB;;;;;;;;;;;;;;AAcA;;AAEA,IAAIC,gBAAgB,UAASC,CAAT,EAAYC,CAAZ,EAAe;AAC/BF,oBAAgBG,OAAOC,cAAP,IACX,EAAEC,WAAW,EAAb,cAA6BC,KAA7B,IAAsC,UAAUL,CAAV,EAAaC,CAAb,EAAgB;AAAED,UAAEI,SAAF,GAAcH,CAAd;AAAkB,KAD/D,IAEZ,UAAUD,CAAV,EAAaC,CAAb,EAAgB;AAAE,aAAK,IAAIK,CAAT,IAAcL,CAAd,EAAiB,IAAIA,EAAEM,cAAF,CAAiBD,CAAjB,CAAJ,EAAyBN,EAAEM,CAAF,IAAOL,EAAEK,CAAF,CAAP;AAAc,KAF9E;AAGA,WAAOP,cAAcC,CAAd,EAAiBC,CAAjB,CAAP;AACH,CALD;;AAOO,SAASpB,SAAT,CAAmBmB,CAAnB,EAAsBC,CAAtB,EAAyB;AAC5BF,kBAAcC,CAAd,EAAiBC,CAAjB;AACA,aAASO,EAAT,GAAc;AAAE,aAAKC,WAAL,GAAmBT,CAAnB;AAAuB;AACvCA,MAAEU,SAAF,GAAcT,MAAM,IAAN,GAAaC,OAAOS,MAAP,CAAcV,CAAd,CAAb,IAAiCO,GAAGE,SAAH,GAAeT,EAAES,SAAjB,EAA4B,IAAIF,EAAJ,EAA7D,CAAd;AACH;;AAEM,IAAII,8BAAW,YAAW;AAC7B,YADOA,QACP,cAAWV,OAAOW,MAAP,IAAiB,SAASD,QAAT,CAAkBE,CAAlB,EAAqB;AAC7C,aAAK,IAAIC,CAAJ,EAAOzH,IAAI,CAAX,EAAc0H,IAAI7J,UAAUD,MAAjC,EAAyCoC,IAAI0H,CAA7C,EAAgD1H,GAAhD,EAAqD;AACjDyH,gBAAI5J,UAAUmC,CAAV,CAAJ;AACA,iBAAK,IAAIgH,CAAT,IAAcS,CAAd,EAAiB,IAAIb,OAAOQ,SAAP,CAAiBH,cAAjB,CAAgC5H,IAAhC,CAAqCoI,CAArC,EAAwCT,CAAxC,CAAJ,EAAgDQ,EAAER,CAAF,IAAOS,EAAET,CAAF,CAAP;AACpE;AACD,eAAOQ,CAAP;AACH,KAND;AAOA,WAAOF,SAASK,KAAT,CAAe,IAAf,EAAqB9J,SAArB,CAAP;AACH,CATM;;AAWA,SAAS2H,MAAT,CAAgBiC,CAAhB,EAAmBG,CAAnB,EAAsB;AACzB,QAAIJ,IAAI,EAAR;AACA,SAAK,IAAIR,CAAT,IAAcS,CAAd,EAAiB,IAAIb,OAAOQ,SAAP,CAAiBH,cAAjB,CAAgC5H,IAAhC,CAAqCoI,CAArC,EAAwCT,CAAxC,KAA8CY,EAAEC,OAAF,CAAUb,CAAV,IAAe,CAAjE,EACbQ,EAAER,CAAF,IAAOS,EAAET,CAAF,CAAP;AACJ,QAAIS,KAAK,IAAL,IAAa,OAAOb,OAAOkB,qBAAd,KAAwC,UAAzD,EACI,KAAK,IAAI9H,IAAI,CAAR,EAAWgH,IAAIJ,OAAOkB,qBAAP,CAA6BL,CAA7B,CAApB,EAAqDzH,IAAIgH,EAAEpJ,MAA3D,EAAmEoC,GAAnE,EAAwE,IAAI4H,EAAEC,OAAF,CAAUb,EAAEhH,CAAF,CAAV,IAAkB,CAAtB,EACpEwH,EAAER,EAAEhH,CAAF,CAAF,IAAUyH,EAAET,EAAEhH,CAAF,CAAF,CAAV;AACR,WAAOwH,CAAP;AACH;;AAEM,SAAS/B,UAAT,CAAoBsC,UAApB,EAAgClI,MAAhC,EAAwC3B,GAAxC,EAA6C8J,IAA7C,EAAmD;AACtD,QAAIC,IAAIpK,UAAUD,MAAlB;AAAA,QAA0BsK,IAAID,IAAI,CAAJ,GAAQpI,MAAR,GAAiBmI,SAAS,IAAT,GAAgBA,OAAOpB,OAAOuB,wBAAP,CAAgCtI,MAAhC,EAAwC3B,GAAxC,CAAvB,GAAsE8J,IAArH;AAAA,QAA2HtB,CAA3H;AACA,QAAI,OAAO0B,OAAP,KAAmB,QAAnB,IAA+B,OAAOA,QAAQC,QAAf,KAA4B,UAA/D,EAA2EH,IAAIE,QAAQC,QAAR,CAAiBN,UAAjB,EAA6BlI,MAA7B,EAAqC3B,GAArC,EAA0C8J,IAA1C,CAAJ,CAA3E,KACK,KAAK,IAAIhI,IAAI+H,WAAWnK,MAAX,GAAoB,CAAjC,EAAoCoC,KAAK,CAAzC,EAA4CA,GAA5C,EAAiD,IAAI0G,IAAIqB,WAAW/H,CAAX,CAAR,EAAuBkI,IAAI,CAACD,IAAI,CAAJ,GAAQvB,EAAEwB,CAAF,CAAR,GAAeD,IAAI,CAAJ,GAAQvB,EAAE7G,MAAF,EAAU3B,GAAV,EAAegK,CAAf,CAAR,GAA4BxB,EAAE7G,MAAF,EAAU3B,GAAV,CAA5C,KAA+DgK,CAAnE;AAC7E,WAAOD,IAAI,CAAJ,IAASC,CAAT,IAActB,OAAO0B,cAAP,CAAsBzI,MAAtB,EAA8B3B,GAA9B,EAAmCgK,CAAnC,CAAd,EAAqDA,CAA5D;AACH;;AAEM,SAASxC,OAAT,CAAiB6C,UAAjB,EAA6BC,SAA7B,EAAwC;AAC3C,WAAO,UAAU3I,MAAV,EAAkB3B,GAAlB,EAAuB;AAAEsK,kBAAU3I,MAAV,EAAkB3B,GAAlB,EAAuBqK,UAAvB;AAAqC,KAArE;AACH;;AAEM,SAAS5C,UAAT,CAAoB8C,WAApB,EAAiCC,aAAjC,EAAgD;AACnD,QAAI,OAAON,OAAP,KAAmB,QAAnB,IAA+B,OAAOA,QAAQO,QAAf,KAA4B,UAA/D,EAA2E,OAAOP,QAAQO,QAAR,CAAiBF,WAAjB,EAA8BC,aAA9B,CAAP;AAC9E;;AAEM,SAAS9C,SAAT,CAAmBgD,OAAnB,EAA4BC,UAA5B,EAAwCC,CAAxC,EAA2CC,SAA3C,EAAsD;AACzD,WAAO,KAAKD,MAAMA,IAAIE,OAAV,CAAL,EAAyB,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AACvD,iBAASC,SAAT,CAAmBhJ,KAAnB,EAA0B;AAAE,gBAAI;AAAEiJ,qBAAKL,UAAUM,IAAV,CAAelJ,KAAf,CAAL;AAA8B,aAApC,CAAqC,OAAOyH,CAAP,EAAU;AAAEsB,uBAAOtB,CAAP;AAAY;AAAE;AAC3F,iBAAS0B,QAAT,CAAkBnJ,KAAlB,EAAyB;AAAE,gBAAI;AAAEiJ,qBAAKL,UAAU,OAAV,EAAmB5I,KAAnB,CAAL;AAAkC,aAAxC,CAAyC,OAAOyH,CAAP,EAAU;AAAEsB,uBAAOtB,CAAP;AAAY;AAAE;AAC9F,iBAASwB,IAAT,CAAc5I,MAAd,EAAsB;AAAEA,mBAAOgC,IAAP,GAAcyG,QAAQzI,OAAOL,KAAf,CAAd,GAAsC,IAAI2I,CAAJ,CAAM,UAAUG,OAAV,EAAmB;AAAEA,wBAAQzI,OAAOL,KAAf;AAAwB,aAAnD,EAAqDM,IAArD,CAA0D0I,SAA1D,EAAqEG,QAArE,CAAtC;AAAuH;AAC/IF,aAAK,CAACL,YAAYA,UAAUpB,KAAV,CAAgBiB,OAAhB,EAAyBC,cAAc,EAAvC,CAAb,EAAyDQ,IAAzD,EAAL;AACH,KALM,CAAP;AAMH;;AAEM,SAASxD,WAAT,CAAqB+C,OAArB,EAA8BW,IAA9B,EAAoC;AACvC,QAAIC,IAAI,EAAEC,OAAO,CAAT,EAAYC,MAAM,YAAW;AAAE,gBAAIlC,EAAE,CAAF,IAAO,CAAX,EAAc,MAAMA,EAAE,CAAF,CAAN,CAAY,OAAOA,EAAE,CAAF,CAAP;AAAc,SAAvE,EAAyEmC,MAAM,EAA/E,EAAmFC,KAAK,EAAxF,EAAR;AAAA,QAAsGC,CAAtG;AAAA,QAAyGC,CAAzG;AAAA,QAA4GtC,CAA5G;AAAA,QAA+GuC,CAA/G;AACA,WAAOA,IAAI,EAAEV,MAAMW,KAAK,CAAL,CAAR,EAAiB,SAASA,KAAK,CAAL,CAA1B,EAAmC,UAAUA,KAAK,CAAL,CAA7C,EAAJ,EAA4D,OAAOC,MAAP,KAAkB,UAAlB,KAAiCF,EAAEE,OAAOC,QAAT,IAAqB,YAAW;AAAE,eAAO,IAAP;AAAc,KAAjF,CAA5D,EAAgJH,CAAvJ;AACA,aAASC,IAAT,CAActC,CAAd,EAAiB;AAAE,eAAO,UAAUyC,CAAV,EAAa;AAAE,mBAAOf,KAAK,CAAC1B,CAAD,EAAIyC,CAAJ,CAAL,CAAP;AAAsB,SAA5C;AAA+C;AAClE,aAASf,IAAT,CAAcgB,EAAd,EAAkB;AACd,YAAIP,CAAJ,EAAO,MAAM,IAAIQ,SAAJ,CAAc,iCAAd,CAAN;AACP,eAAOb,CAAP,EAAU,IAAI;AACV,gBAAIK,IAAI,CAAJ,EAAOC,MAAMtC,IAAI4C,GAAG,CAAH,IAAQ,CAAR,GAAYN,EAAE,QAAF,CAAZ,GAA0BM,GAAG,CAAH,IAAQN,EAAE,OAAF,MAAe,CAACtC,IAAIsC,EAAE,QAAF,CAAL,KAAqBtC,EAAEnI,IAAF,CAAOyK,CAAP,CAArB,EAAgC,CAA/C,CAAR,GAA4DA,EAAET,IAAlG,KAA2G,CAAC,CAAC7B,IAAIA,EAAEnI,IAAF,CAAOyK,CAAP,EAAUM,GAAG,CAAH,CAAV,CAAL,EAAuB5H,IAA9I,EAAoJ,OAAOgF,CAAP;AACpJ,gBAAIsC,IAAI,CAAJ,EAAOtC,CAAX,EAAc4C,KAAK,CAACA,GAAG,CAAH,IAAQ,CAAT,EAAY5C,EAAErH,KAAd,CAAL;AACd,oBAAQiK,GAAG,CAAH,CAAR;AACI,qBAAK,CAAL,CAAQ,KAAK,CAAL;AAAQ5C,wBAAI4C,EAAJ,CAAQ;AACxB,qBAAK,CAAL;AAAQZ,sBAAEC,KAAF,GAAW,OAAO,EAAEtJ,OAAOiK,GAAG,CAAH,CAAT,EAAgB5H,MAAM,KAAtB,EAAP;AACnB,qBAAK,CAAL;AAAQgH,sBAAEC,KAAF,GAAWK,IAAIM,GAAG,CAAH,CAAJ,CAAWA,KAAK,CAAC,CAAD,CAAL,CAAU;AACxC,qBAAK,CAAL;AAAQA,yBAAKZ,EAAEI,GAAF,CAAM5L,GAAN,EAAL,CAAkBwL,EAAEG,IAAF,CAAO3L,GAAP,GAAc;AACxC;AACI,wBAAI,EAAEwJ,IAAIgC,EAAEG,IAAN,EAAYnC,IAAIA,EAAE5J,MAAF,GAAW,CAAX,IAAgB4J,EAAEA,EAAE5J,MAAF,GAAW,CAAb,CAAlC,MAAuDwM,GAAG,CAAH,MAAU,CAAV,IAAeA,GAAG,CAAH,MAAU,CAAhF,CAAJ,EAAwF;AAAEZ,4BAAI,CAAJ,CAAO;AAAW;AAC5G,wBAAIY,GAAG,CAAH,MAAU,CAAV,KAAgB,CAAC5C,CAAD,IAAO4C,GAAG,CAAH,IAAQ5C,EAAE,CAAF,CAAR,IAAgB4C,GAAG,CAAH,IAAQ5C,EAAE,CAAF,CAA/C,CAAJ,EAA2D;AAAEgC,0BAAEC,KAAF,GAAUW,GAAG,CAAH,CAAV,CAAiB;AAAQ;AACtF,wBAAIA,GAAG,CAAH,MAAU,CAAV,IAAeZ,EAAEC,KAAF,GAAUjC,EAAE,CAAF,CAA7B,EAAmC;AAAEgC,0BAAEC,KAAF,GAAUjC,EAAE,CAAF,CAAV,CAAgBA,IAAI4C,EAAJ,CAAQ;AAAQ;AACrE,wBAAI5C,KAAKgC,EAAEC,KAAF,GAAUjC,EAAE,CAAF,CAAnB,EAAyB;AAAEgC,0BAAEC,KAAF,GAAUjC,EAAE,CAAF,CAAV,CAAgBgC,EAAEI,GAAF,CAAM9L,IAAN,CAAWsM,EAAX,EAAgB;AAAQ;AACnE,wBAAI5C,EAAE,CAAF,CAAJ,EAAUgC,EAAEI,GAAF,CAAM5L,GAAN;AACVwL,sBAAEG,IAAF,CAAO3L,GAAP,GAAc;AAXtB;AAaAoM,iBAAKb,KAAKlK,IAAL,CAAUuJ,OAAV,EAAmBY,CAAnB,CAAL;AACH,SAjBS,CAiBR,OAAO5B,CAAP,EAAU;AAAEwC,iBAAK,CAAC,CAAD,EAAIxC,CAAJ,CAAL,CAAakC,IAAI,CAAJ;AAAQ,SAjBzB,SAiBkC;AAAED,gBAAIrC,IAAI,CAAR;AAAY;AAC1D,YAAI4C,GAAG,CAAH,IAAQ,CAAZ,EAAe,MAAMA,GAAG,CAAH,CAAN,CAAa,OAAO,EAAEjK,OAAOiK,GAAG,CAAH,IAAQA,GAAG,CAAH,CAAR,GAAgB,KAAK,CAA9B,EAAiC5H,MAAM,IAAvC,EAAP;AAC/B;AACJ;;AAEM,SAASsD,YAAT,CAAsBwE,CAAtB,EAAyBC,OAAzB,EAAkC;AACrC,SAAK,IAAIvD,CAAT,IAAcsD,CAAd,EAAiB,IAAI,CAACC,QAAQtD,cAAR,CAAuBD,CAAvB,CAAL,EAAgCuD,QAAQvD,CAAR,IAAasD,EAAEtD,CAAF,CAAb;AACpD;;AAEM,SAASjB,QAAT,CAAkByE,CAAlB,EAAqB;AACxB,QAAIF,IAAI,OAAOL,MAAP,KAAkB,UAAlB,IAAgCO,EAAEP,OAAOC,QAAT,CAAxC;AAAA,QAA4DlK,IAAI,CAAhE;AACA,QAAIsK,CAAJ,EAAO,OAAOA,EAAEjL,IAAF,CAAOmL,CAAP,CAAP;AACP,WAAO;AACHnB,cAAM,YAAY;AACd,gBAAImB,KAAKxK,KAAKwK,EAAE5M,MAAhB,EAAwB4M,IAAI,KAAK,CAAT;AACxB,mBAAO,EAAErK,OAAOqK,KAAKA,EAAExK,GAAF,CAAd,EAAsBwC,MAAM,CAACgI,CAA7B,EAAP;AACH;AAJE,KAAP;AAMH;;AAEM,SAASxE,MAAT,CAAgBwE,CAAhB,EAAmB9C,CAAnB,EAAsB;AACzB,QAAI4C,IAAI,OAAOL,MAAP,KAAkB,UAAlB,IAAgCO,EAAEP,OAAOC,QAAT,CAAxC;AACA,QAAI,CAACI,CAAL,EAAQ,OAAOE,CAAP;AACR,QAAIxK,IAAIsK,EAAEjL,IAAF,CAAOmL,CAAP,CAAR;AAAA,QAAmBtC,CAAnB;AAAA,QAAsBuC,KAAK,EAA3B;AAAA,QAA+B7C,CAA/B;AACA,QAAI;AACA,eAAO,CAACF,MAAM,KAAK,CAAX,IAAgBA,MAAM,CAAvB,KAA6B,CAAC,CAACQ,IAAIlI,EAAEqJ,IAAF,EAAL,EAAe7G,IAApD,EAA0DiI,GAAG3M,IAAH,CAAQoK,EAAE/H,KAAV;AAC7D,KAFD,CAGA,OAAOuK,KAAP,EAAc;AAAE9C,YAAI,EAAE8C,OAAOA,KAAT,EAAJ;AAAuB,KAHvC,SAIQ;AACJ,YAAI;AACA,gBAAIxC,KAAK,CAACA,EAAE1F,IAAR,KAAiB8H,IAAItK,EAAE,QAAF,CAArB,CAAJ,EAAuCsK,EAAEjL,IAAF,CAAOW,CAAP;AAC1C,SAFD,SAGQ;AAAE,gBAAI4H,CAAJ,EAAO,MAAMA,EAAE8C,KAAR;AAAgB;AACpC;AACD,WAAOD,EAAP;AACH;;AAEM,SAASxE,QAAT,GAAoB;AACvB,SAAK,IAAIwE,KAAK,EAAT,EAAazK,IAAI,CAAtB,EAAyBA,IAAInC,UAAUD,MAAvC,EAA+CoC,GAA/C,EACIyK,KAAKA,GAAG/J,MAAH,CAAUsF,OAAOnI,UAAUmC,CAAV,CAAP,CAAV,CAAL;AACJ,WAAOyK,EAAP;AACH;;AAEM,SAASvE,OAAT,CAAiBiE,CAAjB,EAAoB;AACvB,WAAO,gBAAgBjE,OAAhB,IAA2B,KAAKiE,CAAL,GAASA,CAAT,EAAY,IAAvC,IAA+C,IAAIjE,OAAJ,CAAYiE,CAAZ,CAAtD;AACH;;AAEM,SAAShE,gBAAT,CAA0ByC,OAA1B,EAAmCC,UAAnC,EAA+CE,SAA/C,EAA0D;AAC7D,QAAI,CAACkB,OAAOU,aAAZ,EAA2B,MAAM,IAAIN,SAAJ,CAAc,sCAAd,CAAN;AAC3B,QAAIN,IAAIhB,UAAUpB,KAAV,CAAgBiB,OAAhB,EAAyBC,cAAc,EAAvC,CAAR;AAAA,QAAoD7I,CAApD;AAAA,QAAuD4K,IAAI,EAA3D;AACA,WAAO5K,IAAI,EAAJ,EAAQgK,KAAK,MAAL,CAAR,EAAsBA,KAAK,OAAL,CAAtB,EAAqCA,KAAK,QAAL,CAArC,EAAqDhK,EAAEiK,OAAOU,aAAT,IAA0B,YAAY;AAAE,eAAO,IAAP;AAAc,KAA3G,EAA6G3K,CAApH;AACA,aAASgK,IAAT,CAActC,CAAd,EAAiB;AAAE,YAAIqC,EAAErC,CAAF,CAAJ,EAAU1H,EAAE0H,CAAF,IAAO,UAAUyC,CAAV,EAAa;AAAE,mBAAO,IAAInB,OAAJ,CAAY,UAAU6B,CAAV,EAAalE,CAAb,EAAgB;AAAEiE,kBAAE9M,IAAF,CAAO,CAAC4J,CAAD,EAAIyC,CAAJ,EAAOU,CAAP,EAAUlE,CAAV,CAAP,IAAuB,CAAvB,IAA4BmE,OAAOpD,CAAP,EAAUyC,CAAV,CAA5B;AAA2C,aAAzE,CAAP;AAAoF,SAA1G;AAA6G;AAC1I,aAASW,MAAT,CAAgBpD,CAAhB,EAAmByC,CAAnB,EAAsB;AAAE,YAAI;AAAEf,iBAAKW,EAAErC,CAAF,EAAKyC,CAAL,CAAL;AAAgB,SAAtB,CAAuB,OAAOvC,CAAP,EAAU;AAAEmD,mBAAOH,EAAE,CAAF,EAAK,CAAL,CAAP,EAAgBhD,CAAhB;AAAqB;AAAE;AAClF,aAASwB,IAAT,CAAclB,CAAd,EAAiB;AAAEA,UAAE/H,KAAF,YAAmB+F,OAAnB,GAA6B8C,QAAQC,OAAR,CAAgBf,EAAE/H,KAAF,CAAQgK,CAAxB,EAA2B1J,IAA3B,CAAgCuK,OAAhC,EAAyC9B,MAAzC,CAA7B,GAAgF6B,OAAOH,EAAE,CAAF,EAAK,CAAL,CAAP,EAAgB1C,CAAhB,CAAhF;AAAqG;AACxH,aAAS8C,OAAT,CAAiB7K,KAAjB,EAAwB;AAAE2K,eAAO,MAAP,EAAe3K,KAAf;AAAwB;AAClD,aAAS+I,MAAT,CAAgB/I,KAAhB,EAAuB;AAAE2K,eAAO,OAAP,EAAgB3K,KAAhB;AAAyB;AAClD,aAAS4K,MAAT,CAAgBlB,CAAhB,EAAmBM,CAAnB,EAAsB;AAAE,YAAIN,EAAEM,CAAF,GAAMS,EAAEK,KAAF,EAAN,EAAiBL,EAAEhN,MAAvB,EAA+BkN,OAAOF,EAAE,CAAF,EAAK,CAAL,CAAP,EAAgBA,EAAE,CAAF,EAAK,CAAL,CAAhB;AAA2B;AACrF;;AAEM,SAASxE,gBAAT,CAA0BoE,CAA1B,EAA6B;AAChC,QAAIxK,CAAJ,EAAOgH,CAAP;AACA,WAAOhH,IAAI,EAAJ,EAAQgK,KAAK,MAAL,CAAR,EAAsBA,KAAK,OAAL,EAAc,UAAUpC,CAAV,EAAa;AAAE,cAAMA,CAAN;AAAU,KAAvC,CAAtB,EAAgEoC,KAAK,QAAL,CAAhE,EAAgFhK,EAAEiK,OAAOC,QAAT,IAAqB,YAAY;AAAE,eAAO,IAAP;AAAc,KAAjI,EAAmIlK,CAA1I;AACA,aAASgK,IAAT,CAActC,CAAd,EAAiBmC,CAAjB,EAAoB;AAAE7J,UAAE0H,CAAF,IAAO8C,EAAE9C,CAAF,IAAO,UAAUyC,CAAV,EAAa;AAAE,mBAAO,CAACnD,IAAI,CAACA,CAAN,IAAW,EAAE7G,OAAO+F,QAAQsE,EAAE9C,CAAF,EAAKyC,CAAL,CAAR,CAAT,EAA2B3H,MAAMkF,MAAM,QAAvC,EAAX,GAA+DmC,IAAIA,EAAEM,CAAF,CAAJ,GAAWA,CAAjF;AAAqF,SAA3G,GAA8GN,CAArH;AAAyH;AAClJ;;AAEM,SAASxD,aAAT,CAAuBmE,CAAvB,EAA0B;AAC7B,QAAI,CAACP,OAAOU,aAAZ,EAA2B,MAAM,IAAIN,SAAJ,CAAc,sCAAd,CAAN;AAC3B,QAAIC,IAAIE,EAAEP,OAAOU,aAAT,CAAR;AAAA,QAAiC3K,CAAjC;AACA,WAAOsK,IAAIA,EAAEjL,IAAF,CAAOmL,CAAP,CAAJ,IAAiBA,IAAI,OAAOzE,QAAP,KAAoB,UAApB,GAAiCA,SAASyE,CAAT,CAAjC,GAA+CA,EAAEP,OAAOC,QAAT,GAAnD,EAAyElK,IAAI,EAA7E,EAAiFgK,KAAK,MAAL,CAAjF,EAA+FA,KAAK,OAAL,CAA/F,EAA8GA,KAAK,QAAL,CAA9G,EAA8HhK,EAAEiK,OAAOU,aAAT,IAA0B,YAAY;AAAE,eAAO,IAAP;AAAc,KAApL,EAAsL3K,CAAvM,CAAP;AACA,aAASgK,IAAT,CAActC,CAAd,EAAiB;AAAE1H,UAAE0H,CAAF,IAAO8C,EAAE9C,CAAF,KAAQ,UAAUyC,CAAV,EAAa;AAAE,mBAAO,IAAInB,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAAEiB,oBAAIK,EAAE9C,CAAF,EAAKyC,CAAL,CAAJ,EAAaY,OAAO9B,OAAP,EAAgBC,MAAhB,EAAwBiB,EAAE3H,IAA1B,EAAgC2H,EAAEhK,KAAlC,CAAb;AAAwD,aAAjG,CAAP;AAA4G,SAA1I;AAA6I;AAChK,aAAS4K,MAAT,CAAgB9B,OAAhB,EAAyBC,MAAzB,EAAiCxC,CAAjC,EAAoCyD,CAApC,EAAuC;AAAEnB,gBAAQC,OAAR,CAAgBkB,CAAhB,EAAmB1J,IAAnB,CAAwB,UAAS0J,CAAT,EAAY;AAAElB,oBAAQ,EAAE9I,OAAOgK,CAAT,EAAY3H,MAAMkE,CAAlB,EAAR;AAAiC,SAAvE,EAAyEwC,MAAzE;AAAmF;AAC/H;;AAEM,SAAS5C,oBAAT,CAA8B4E,MAA9B,EAAsCC,GAAtC,EAA2C;AAC9C,QAAIvE,OAAO0B,cAAX,EAA2B;AAAE1B,eAAO0B,cAAP,CAAsB4C,MAAtB,EAA8B,KAA9B,EAAqC,EAAE/K,OAAOgL,GAAT,EAArC;AAAuD,KAApF,MAA0F;AAAED,eAAOC,GAAP,GAAaA,GAAb;AAAmB;AAC/G,WAAOD,MAAP;AACH;;AAEM,SAAS3E,YAAT,CAAsB6E,GAAtB,EAA2B;AAC9B,QAAIA,OAAOA,IAAIC,UAAf,EAA2B,OAAOD,GAAP;AAC3B,QAAI5K,SAAS,EAAb;AACA,QAAI4K,OAAO,IAAX,EAAiB,KAAK,IAAIlI,CAAT,IAAckI,GAAd,EAAmB,IAAIxE,OAAOK,cAAP,CAAsB5H,IAAtB,CAA2B+L,GAA3B,EAAgClI,CAAhC,CAAJ,EAAwC1C,OAAO0C,CAAP,IAAYkI,IAAIlI,CAAJ,CAAZ;AAC5E1C,WAAO8K,OAAP,GAAiBF,GAAjB;AACA,WAAO5K,MAAP;AACH;;AAEM,SAASgG,eAAT,CAAyB4E,GAAzB,EAA8B;AACjC,WAAQA,OAAOA,IAAIC,UAAZ,GAA0BD,GAA1B,GAAgC,EAAEE,SAASF,GAAX,EAAvC;AACH;;;;;;;ACzLD,IAAIG,SAAS,OAAOC,MAAP,KAAkB,WAAlB,IAAiCA,OAAOC,qBAAP,KAAiCC,SAA/E;AACA,IAAIC,WAAW,CAAf;AACA,IAAIC,cAAcL,SACZ,UAAUM,QAAV,EAAoB;AAAE,WAAOL,OAAOC,qBAAP,CAA6BI,QAA7B,CAAP;AAAgD,CAD1D,GAEZ,UAAUA,QAAV,EAAoB;AAClB,QAAIC,cAAcC,KAAKC,GAAL,EAAlB;AACA,QAAIC,aAAaC,KAAKC,GAAL,CAAS,CAAT,EAAY,QAAQL,cAAcH,QAAtB,CAAZ,CAAjB;AACAA,eAAWG,cAAcG,UAAzB;AACArM,eAAW,YAAY;AAAE,eAAOiM,SAASF,QAAT,CAAP;AAA4B,KAArD,EAAuDM,UAAvD;AACH,CAPL;;AASA,SAASG,gBAAT,CAA0BC,eAA1B,EAA2C;AACvC,QAAIC,iBAAiB,EAArB;AACA,QAAIC,0BAA0B,EAA9B;AACA,QAAIC,eAAe,CAAnB;AACA,QAAIC,eAAe,KAAnB;AACA,QAAIzM,IAAI,CAAR;AACA,WAAO;AACH0M,gBAAQ,UAAUb,QAAV,EAAoB;AACxB,gBAAIc,kBAAkBJ,wBAAwB1E,OAAxB,CAAgCgE,QAAhC,CAAtB;AACA,gBAAIc,oBAAoB,CAAC,CAAzB,EAA4B;AACxBJ,wCAAwBK,MAAxB,CAA+BD,eAA/B,EAAgD,CAAhD;AACH;AACJ,SANE;AAOHE,iBAAS,YAAY;AACjBJ,2BAAe,IAAf;AACAK,iBAAK,CAACP,uBAAD,EAA0BD,cAA1B,CAAL,EAAgDA,iBAAiBQ,GAAG,CAAH,CAAjE,EAAwEP,0BAA0BO,GAAG,CAAH,CAAlG;AACAP,oCAAwB3O,MAAxB,GAAiC,CAAjC;AACA4O,2BAAeF,eAAe1O,MAA9B;AACA,iBAAKoC,IAAI,CAAT,EAAYA,IAAIwM,YAAhB,EAA8BxM,GAA9B,EAAmC;AAC/BsM,+BAAetM,CAAf;AACH;AACDyM,2BAAe,KAAf;AACA,gBAAIK,EAAJ;AACH,SAjBE;AAkBHC,kBAAU,UAAUlB,QAAV,EAAoBmB,SAApB,EAA+B;AACrC,gBAAIA,cAAc,KAAK,CAAvB,EAA0B;AAAEA,4BAAY,KAAZ;AAAoB;AAChDX;AACA,gBAAIY,qBAAqBD,aAAaP,YAAtC;AACA,gBAAIS,SAASD,qBAAqBX,cAArB,GAAsCC,uBAAnD;AACA,gBAAIW,OAAOrF,OAAP,CAAegE,QAAf,MAA6B,CAAC,CAAlC,EAAqC;AACjCqB,uBAAOpP,IAAP,CAAY+N,QAAZ;AACA,oBAAIoB,kBAAJ,EAAwB;AACpBT,mCAAeF,eAAe1O,MAA9B;AACH;AACJ;AACJ;AA7BE,KAAP;AA+BH;;AAED,IAAIuP,sBAAsB,OAAOC,WAAP,KAAuB,WAAvB,IAAsCA,YAAYpB,GAAZ,KAAoBN,SAApF;AACA,IAAII,cAAcqB,sBAAsB,YAAY;AAAE,WAAOC,YAAYpB,GAAZ,EAAP;AAA2B,CAA/D,GAAkE,YAAY;AAAE,WAAOD,KAAKC,GAAL,EAAP;AAAoB,CAAtH;AACA,IAAIqB,sBAAsB,KAA1B;AACA,IAAIC,cAAc,EAAlB;AACA,IAAIC,iBAAiB,IAArB;AACA,IAAIC,oBAAoB,IAAxB;AACA,IAAIC,oBAAoB,CAAxB;AACA,IAAIC,UAAU,CAAd;AACA,SAASrB,eAAT,GAA2B;AACvB,QAAIgB,mBAAJ,EACI;AACJA,0BAAsB,IAAtB;AACAG,wBAAoB,IAApB;AACA5B,gBAAY+B,YAAZ;AACH;AACD,IAAIC,aAAaxB,iBAAiBC,eAAjB,CAAjB;AACA,IAAIwB,cAAczB,iBAAiBC,eAAjB,CAAlB;AACA,IAAIyB,cAAc1B,iBAAiBC,eAAjB,CAAlB;AACA,IAAI0B,WAAW3B,iBAAiBC,eAAjB,CAAf;AACA,SAASsB,YAAT,CAAsBK,UAAtB,EAAkC;AAC9BX,0BAAsB,KAAtB;AACAK,cAAUF,oBACJD,cADI,GAEJrB,KAAKC,GAAL,CAASD,KAAK+B,GAAL,CAASD,aAAaP,iBAAtB,EAAyCH,WAAzC,CAAT,EAAgE,CAAhE,CAFN;AAGA,QAAI,CAACE,iBAAL,EACID,iBAAiBG,OAAjB;AACJD,wBAAoBO,UAApB;AACAJ,eAAWf,OAAX;AACAgB,gBAAYhB,OAAZ;AACAiB,gBAAYjB,OAAZ;AACAkB,aAASlB,OAAT;AACA,QAAIQ,mBAAJ,EACIG,oBAAoB,KAApB;AACP;AACD,IAAIU,eAAeN,WAAWb,QAA9B;AACA,IAAIoB,gBAAgBN,YAAYd,QAAhC;AACA,IAAIqB,gBAAgBN,YAAYf,QAAhC;AACA,IAAIsB,aAAaN,SAAShB,QAA1B;AACA,IAAIuB,qBAAqBV,WAAWlB,MAApC;AACA,IAAI6B,sBAAsBV,YAAYnB,MAAtC;AACA,IAAI8B,sBAAsBV,YAAYpB,MAAtC;AACA,IAAI+B,mBAAmBV,SAASrB,MAAhC;AACA,IAAIgC,qBAAqB,YAAY;AAAE,WAAOhB,OAAP;AAAiB,CAAxD;AACA,IAAIiB,mBAAmB,YAAY;AAAE,WAAOlB,iBAAP;AAA2B,CAAhE;;QAES3B,cAAAA;QAAaoC,eAAAA;QAAcC,gBAAAA;QAAeC,gBAAAA;QAAeC,aAAAA;QAAYC,qBAAAA;QAAoBC,sBAAAA;QAAqBC,sBAAAA;QAAqBC,mBAAAA;QAAkBC,qBAAAA;QAAoBC,mBAAAA;;;;;;;AC/FlL;;;;;;;;;;;;;;;AAeA,IAAIrH,WAAW,YAAW;AACtBA,eAAWV,OAAOW,MAAP,IAAiB,SAASD,QAAT,CAAkBE,CAAlB,EAAqB;AAC7C,aAAK,IAAIC,CAAJ,EAAOzH,IAAI,CAAX,EAAc0H,IAAI7J,UAAUD,MAAjC,EAAyCoC,IAAI0H,CAA7C,EAAgD1H,GAAhD,EAAqD;AACjDyH,gBAAI5J,UAAUmC,CAAV,CAAJ;AACA,iBAAK,IAAIgH,CAAT,IAAcS,CAAd,EAAiB,IAAIb,OAAOQ,SAAP,CAAiBH,cAAjB,CAAgC5H,IAAhC,CAAqCoI,CAArC,EAAwCT,CAAxC,CAAJ,EAAgDQ,EAAER,CAAF,IAAOS,EAAET,CAAF,CAAP;AACpE;AACD,eAAOQ,CAAP;AACH,KAND;AAOA,WAAOF,SAASK,KAAT,CAAe,IAAf,EAAqB9J,SAArB,CAAP;AACH,CATD;;AAWA,IAAI+Q,QAAQ,UAAUX,GAAV,EAAe9B,GAAf,EAAoB;AAAE,WAAO,UAAUhC,CAAV,EAAa;AAClD,eAAO+B,KAAKC,GAAL,CAASD,KAAK+B,GAAL,CAAS9D,CAAT,EAAYgC,GAAZ,CAAT,EAA2B8B,GAA3B,CAAP;AACH,KAFiC;AAE9B,CAFJ;AAGA,IAAIY,WAAW,UAAUC,IAAV,EAAgB;AAAE,WAAO,UAAU3E,CAAV,EAAa;AACjD,eAAO,OAAOA,CAAP,KAAa,QAAb,IAAyBA,EAAEtC,OAAF,CAAUiH,IAAV,MAAoB,CAAC,CAArD;AACH,KAFgC;AAE7B,CAFJ;AAGA,IAAIC,eAAe,UAAUD,IAAV,EAAgB;AAAE,WAAO,UAAU3E,CAAV,EAAa;AACrD,eAAO,OAAOA,CAAP,KAAa,QAAb,IAAyBA,EAAEtC,OAAF,CAAUiH,IAAV,MAAoB,CAApD;AACH,KAFoC;AAEjC,CAFJ;AAGA,IAAIE,6BAA6B,UAAU7O,KAAV,EAAiB;AAC9C,WAAOA,MAAM8O,SAAN,CAAgB9O,MAAM0H,OAAN,CAAc,GAAd,IAAqB,CAArC,EAAwC1H,MAAM+O,WAAN,CAAkB,GAAlB,CAAxC,CAAP;AACH,CAFD;AAGA,IAAIC,sBAAsB,UAAUhP,KAAV,EAAiB;AACvC,WAAO,OAAOA,KAAP,KAAiB,QAAjB,GAA4BA,MAAMiP,KAAN,CAAY,MAAZ,CAA5B,GAAkD,CAACjP,KAAD,CAAzD;AACH,CAFD;;AAIA,IAAIkP,SAAS;AACT/J,UAAM,UAAU6E,CAAV,EAAa;AAAE,eAAO,OAAOA,CAAP,KAAa,QAApB;AAA+B,KAD3C;AAETvF,WAAO0K,UAFE;AAGTC,eAAW,UAAUpF,CAAV,EAAa;AAAE,eAAOA,CAAP;AAAW;AAH5B,CAAb;AAKA,IAAIqF,QAAQlI,SAAS,EAAT,EAAa+H,MAAb,EAAqB,EAAEE,WAAWX,MAAM,CAAN,EAAS,CAAT,CAAb,EAArB,CAAZ;AACA,IAAIa,QAAQnI,SAAS,EAAT,EAAa+H,MAAb,EAAqB,EAAE/D,SAAS,CAAX,EAArB,CAAZ;;AAEA,IAAIoE,iBAAiB,UAAUC,IAAV,EAAgB;AACjC,QAAIC,eAAef,SAASc,IAAT,CAAnB;AACA,WAAO;AACHrK,cAAM,UAAU6E,CAAV,EAAa;AACf,mBAAO,OAAOA,CAAP,KAAa,QAAb,IAAyByF,aAAazF,CAAb,CAAzB,IAA4CA,EAAEiF,KAAF,CAAQ,GAAR,EAAaxR,MAAb,KAAwB,CAA3E;AACH,SAHE;AAIHgH,eAAO0K,UAJJ;AAKHC,mBAAW,UAAUpF,CAAV,EAAa;AAAE,mBAAO,KAAKA,CAAL,GAASwF,IAAhB;AAAuB;AAL9C,KAAP;AAOH,CATD;AAUA,IAAIE,UAAUH,eAAe,KAAf,CAAd;AACA,IAAII,UAAUJ,eAAe,GAAf,CAAd;AACA,IAAIK,KAAKL,eAAe,IAAf,CAAT;AACA,IAAIM,KAAKN,eAAe,IAAf,CAAT;AACA,IAAIO,KAAKP,eAAe,IAAf,CAAT;;AAEA,IAAIQ,eAAetB,MAAM,CAAN,EAAS,GAAT,CAAnB;AACA,IAAIuB,iBAAiB,yFAArB;AACA,IAAIC,SAAS,UAAUjG,CAAV,EAAa;AAAE,WAAOA,EAAEkG,GAAF,KAAU3E,SAAjB;AAA6B,CAAzD;AACA,IAAI4E,SAAS,UAAUnG,CAAV,EAAa;AAAE,WAAOA,EAAEoG,GAAF,KAAU7E,SAAjB;AAA6B,CAAzD;AACA,IAAI8E,mBAAmB,UAAUC,KAAV,EAAiB;AACpC,QAAIC,WAAWD,MAAM7S,MAArB;AACA,WAAO,UAAUuM,CAAV,EAAa;AAChB,YAAI,OAAOA,CAAP,KAAa,QAAjB,EACI,OAAOA,CAAP;AACJ,YAAIwG,SAAS,EAAb;AACA,YAAIC,cAAczB,oBAAoBH,2BAA2B7E,CAA3B,CAApB,CAAlB;AACA,aAAK,IAAInK,IAAI,CAAb,EAAgBA,IAAI0Q,QAApB,EAA8B1Q,GAA9B,EAAmC;AAC/B2Q,mBAAOF,MAAMzQ,CAAN,CAAP,IACI4Q,YAAY5Q,CAAZ,MAAmB0L,SAAnB,GAA+B4D,WAAWsB,YAAY5Q,CAAZ,CAAX,CAA/B,GAA4D,CADhE;AAEH;AACD,eAAO2Q,MAAP;AACH,KAVD;AAWH,CAbD;AAcA,IAAIE,eAAe,UAAU/D,EAAV,EAAc;AAC7B,QAAIuD,MAAMvD,GAAGuD,GAAb;AAAA,QAAkBS,QAAQhE,GAAGgE,KAA7B;AAAA,QAAoCC,OAAOjE,GAAGiE,IAA9C;AAAA,QAAoDC,KAAKlE,GAAG0C,KAA5D;AAAA,QAAmEyB,WAAWD,OAAO,KAAK,CAAZ,GAAgB,CAAhB,GAAoBA,EAAlG;AACA,WAAO,UAAUX,GAAV,GAAgB,IAAhB,GAAuBS,KAAvB,GAA+B,IAA/B,GAAsCC,IAAtC,GAA6C,IAA7C,GAAoDE,QAApD,GAA+D,GAAtE;AACH,CAHD;AAIA,IAAIC,eAAe,UAAUpE,EAAV,EAAc;AAC7B,QAAIyD,MAAMzD,GAAGyD,GAAb;AAAA,QAAkBY,aAAarE,GAAGqE,UAAlC;AAAA,QAA8CC,YAAYtE,GAAGsE,SAA7D;AAAA,QAAwEJ,KAAKlE,GAAG0C,KAAhF;AAAA,QAAuFyB,WAAWD,OAAO,KAAK,CAAZ,GAAgB,CAAhB,GAAoBA,EAAtH;AACA,WAAO,UAAUT,GAAV,GAAgB,IAAhB,GAAuBY,UAAvB,GAAoC,IAApC,GAA2CC,SAA3C,GAAuD,IAAvD,GAA8DH,QAA9D,GAAyE,GAAhF;AACH,CAHD;AAIA,IAAII,UAAU/J,SAAS,EAAT,EAAa+H,MAAb,EAAqB,EAAEE,WAAW,UAAUpF,CAAV,EAAa;AAAE,eAAO+B,KAAKoF,KAAL,CAAWpB,aAAa/F,CAAb,CAAX,CAAP;AAAqC,KAAjE,EAArB,CAAd;AACA,IAAIoH,iBAAiBxC,aAAa,KAAb,CAArB;AACA,IAAIyC,OAAO;AACPlM,UAAM,UAAU6E,CAAV,EAAa;AAAE,eAAQ,OAAOA,CAAP,KAAa,QAAb,GAAwBoH,eAAepH,CAAf,CAAxB,GAA4CiG,OAAOjG,CAAP,CAApD;AAAiE,KAD/E;AAEPvF,WAAO4L,iBAAiB,CAAC,KAAD,EAAQ,OAAR,EAAiB,MAAjB,EAAyB,OAAzB,CAAjB,CAFA;AAGPjB,eAAW,UAAUzC,EAAV,EAAc;AACrB,YAAIuD,MAAMvD,GAAGuD,GAAb;AAAA,YAAkBS,QAAQhE,GAAGgE,KAA7B;AAAA,YAAoCC,OAAOjE,GAAGiE,IAA9C;AAAA,YAAoDE,WAAWnE,GAAG0C,KAAlE;AACA,eAAOqB,aAAa;AAChBR,iBAAKgB,QAAQ9B,SAAR,CAAkBc,GAAlB,CADW;AAEhBS,mBAAOO,QAAQ9B,SAAR,CAAkBuB,KAAlB,CAFS;AAGhBC,kBAAMM,QAAQ9B,SAAR,CAAkBwB,IAAlB,CAHU;AAIhBvB,mBAAOyB;AAJS,SAAb,CAAP;AAMH;AAXM,CAAX;AAaA,IAAIQ,iBAAiB1C,aAAa,KAAb,CAArB;AACA,IAAI2C,OAAO;AACPpM,UAAM,UAAU6E,CAAV,EAAa;AAAE,eAAQ,OAAOA,CAAP,KAAa,QAAb,GAAwBsH,eAAetH,CAAf,CAAxB,GAA4CmG,OAAOnG,CAAP,CAApD;AAAiE,KAD/E;AAEPvF,WAAO4L,iBAAiB,CAAC,KAAD,EAAQ,YAAR,EAAsB,WAAtB,EAAmC,OAAnC,CAAjB,CAFA;AAGPjB,eAAW,UAAUzC,EAAV,EAAc;AACrB,YAAIyD,MAAMzD,GAAGyD,GAAb;AAAA,YAAkBY,aAAarE,GAAGqE,UAAlC;AAAA,YAA8CC,YAAYtE,GAAGsE,SAA7D;AAAA,YAAwEH,WAAWnE,GAAG0C,KAAtF;AACA,eAAO0B,aAAa;AAChBX,iBAAKrE,KAAKoF,KAAL,CAAWf,GAAX,CADW;AAEhBY,wBAAYrB,QAAQP,SAAR,CAAkB4B,UAAlB,CAFI;AAGhBC,uBAAWtB,QAAQP,SAAR,CAAkB6B,SAAlB,CAHK;AAIhB5B,mBAAOyB;AAJS,SAAb,CAAP;AAMH;AAXM,CAAX;AAaA,IAAIU,MAAMrK,SAAS,EAAT,EAAakK,IAAb,EAAmB,EAAElM,MAAMyJ,aAAa,GAAb,CAAR,EAA2BnK,OAAO,UAAUuF,CAAV,EAAa;AACpE,YAAIjC,IAAI,EAAR;AACA,YAAI6B,IAAI,EAAR;AACA,YAAIpD,IAAI,EAAR;AACA,YAAIwD,EAAEvM,MAAF,GAAW,CAAf,EAAkB;AACdsK,gBAAIiC,EAAEyH,MAAF,CAAS,CAAT,EAAY,CAAZ,CAAJ;AACA7H,gBAAII,EAAEyH,MAAF,CAAS,CAAT,EAAY,CAAZ,CAAJ;AACAjL,gBAAIwD,EAAEyH,MAAF,CAAS,CAAT,EAAY,CAAZ,CAAJ;AACH,SAJD,MAKK;AACD1J,gBAAIiC,EAAEyH,MAAF,CAAS,CAAT,EAAY,CAAZ,CAAJ;AACA7H,gBAAII,EAAEyH,MAAF,CAAS,CAAT,EAAY,CAAZ,CAAJ;AACAjL,gBAAIwD,EAAEyH,MAAF,CAAS,CAAT,EAAY,CAAZ,CAAJ;AACA1J,iBAAKA,CAAL;AACA6B,iBAAKA,CAAL;AACApD,iBAAKA,CAAL;AACH;AACD,eAAO;AACH0J,iBAAKwB,SAAS3J,CAAT,EAAY,EAAZ,CADF;AAEH4I,mBAAOe,SAAS9H,CAAT,EAAY,EAAZ,CAFJ;AAGHgH,kBAAMc,SAASlL,CAAT,EAAY,EAAZ,CAHH;AAIH6I,mBAAO;AAJJ,SAAP;AAMH,KAvBwB,EAAnB,CAAV;AAwBA,IAAIsC,QAAQ;AACRxM,UAAM,UAAU6E,CAAV,EAAa;AACf,eAAQ,OAAOA,CAAP,KAAa,QAAb,IAAyBgG,eAAe7K,IAAf,CAAoB6E,CAApB,CAA1B,IACHqH,KAAKlM,IAAL,CAAU6E,CAAV,CADG,IAEHuH,KAAKpM,IAAL,CAAU6E,CAAV,CAFG,IAGHwH,IAAIrM,IAAJ,CAAS6E,CAAT,CAHJ;AAIH,KANO;AAORvF,WAAO,UAAUuF,CAAV,EAAa;AAChB,YAAIqH,KAAKlM,IAAL,CAAU6E,CAAV,CAAJ,EAAkB;AACd,mBAAOqH,KAAK5M,KAAL,CAAWuF,CAAX,CAAP;AACH,SAFD,MAGK,IAAIuH,KAAKpM,IAAL,CAAU6E,CAAV,CAAJ,EAAkB;AACnB,mBAAOuH,KAAK9M,KAAL,CAAWuF,CAAX,CAAP;AACH,SAFI,MAGA,IAAIwH,IAAIrM,IAAJ,CAAS6E,CAAT,CAAJ,EAAiB;AAClB,mBAAOwH,IAAI/M,KAAJ,CAAUuF,CAAV,CAAP;AACH;AACD,eAAOA,CAAP;AACH,KAlBO;AAmBRoF,eAAW,UAAUpF,CAAV,EAAa;AACpB,YAAIiG,OAAOjG,CAAP,CAAJ,EAAe;AACX,mBAAOqH,KAAKjC,SAAL,CAAepF,CAAf,CAAP;AACH,SAFD,MAGK,IAAImG,OAAOnG,CAAP,CAAJ,EAAe;AAChB,mBAAOuH,KAAKnC,SAAL,CAAepF,CAAf,CAAP;AACH;AACD,eAAOA,CAAP;AACH;AA3BO,CAAZ;;AA8BA,IAAI4H,aAAa,kBAAjB;AACA,IAAIC,aAAa,qGAAjB;AACA,IAAIC,cAAc,MAAlB;AACA,IAAIC,eAAe,MAAnB;AACA,IAAIC,UAAU;AACV7M,UAAM,UAAU6E,CAAV,EAAa;AACf,YAAI,OAAOA,CAAP,KAAa,QAAjB,EACI,OAAO,KAAP;AACJ,YAAIiI,YAAY,CAAhB;AACA,YAAIC,eAAelI,EAAEmI,KAAF,CAAQP,UAAR,CAAnB;AACA,YAAIQ,cAAcpI,EAAEmI,KAAF,CAAQN,UAAR,CAAlB;AACA,YAAIK,YAAJ,EACID,aAAaC,aAAazU,MAA1B;AACJ,YAAI2U,WAAJ,EACIH,aAAaG,YAAY3U,MAAzB;AACJ,eAAOwU,YAAY,CAAnB;AACH,KAZS;AAaVxN,WAAO,UAAUuF,CAAV,EAAa;AAChB,YAAIqI,QAAQrI,CAAZ;AACA,YAAIsI,SAAS,EAAb;AACA,YAAIF,cAAcC,MAAMF,KAAN,CAAYN,UAAZ,CAAlB;AACA,YAAIO,WAAJ,EAAiB;AACbC,oBAAQA,MAAMnO,OAAN,CAAc2N,UAAd,EAA0BC,WAA1B,CAAR;AACAQ,mBAAO3U,IAAP,CAAY6J,KAAZ,CAAkB8K,MAAlB,EAA0BF,YAAYhU,GAAZ,CAAgBuT,MAAMlN,KAAtB,CAA1B;AACH;AACD,YAAIyN,eAAeG,MAAMF,KAAN,CAAYP,UAAZ,CAAnB;AACA,YAAIM,YAAJ,EAAkB;AACdI,mBAAO3U,IAAP,CAAY6J,KAAZ,CAAkB8K,MAAlB,EAA0BJ,aAAa9T,GAAb,CAAiB8Q,OAAOzK,KAAxB,CAA1B;AACH;AACD,eAAO6N,MAAP;AACH,KA1BS;AA2BVC,uBAAmB,UAAUtN,IAAV,EAAgB;AAC/B,YAAIuN,WAAWvN,IAAf;AACA,YAAIwN,QAAQ,CAAZ;AACA,YAAIL,cAAcnN,KAAKkN,KAAL,CAAWN,UAAX,CAAlB;AACA,YAAIa,YAAYN,cAAcA,YAAY3U,MAA1B,GAAmC,CAAnD;AACA,YAAI2U,WAAJ,EAAiB;AACb,iBAAK,IAAIvS,IAAI,CAAb,EAAgBA,IAAI6S,SAApB,EAA+B7S,GAA/B,EAAoC;AAChC2S,2BAAWA,SAAStO,OAAT,CAAiBkO,YAAYvS,CAAZ,CAAjB,EAAiCiS,WAAjC,CAAX;AACAW;AACH;AACJ;AACD,YAAIP,eAAeM,SAASL,KAAT,CAAeP,UAAf,CAAnB;AACA,YAAIe,aAAaT,eAAeA,aAAazU,MAA5B,GAAqC,CAAtD;AACA,YAAIyU,YAAJ,EAAkB;AACd,iBAAK,IAAIrS,IAAI,CAAb,EAAgBA,IAAI8S,UAApB,EAAgC9S,GAAhC,EAAqC;AACjC2S,2BAAWA,SAAStO,OAAT,CAAiBgO,aAAarS,CAAb,CAAjB,EAAkCkS,YAAlC,CAAX;AACAU;AACH;AACJ;AACD,eAAO,UAAUzI,CAAV,EAAa;AAChB,gBAAI4I,SAASJ,QAAb;AACA,iBAAK,IAAI3S,IAAI,CAAb,EAAgBA,IAAI4S,KAApB,EAA2B5S,GAA3B,EAAgC;AAC5B+S,yBAASA,OAAO1O,OAAP,CAAerE,IAAI6S,SAAJ,GAAgBZ,WAAhB,GAA8BC,YAA7C,EAA2DlS,IAAI6S,SAAJ,GAAgBf,MAAMvC,SAAN,CAAgBpF,EAAEnK,CAAF,CAAhB,CAAhB,GAAwCmK,EAAEnK,CAAF,CAAnG,CAAT;AACH;AACD,mBAAO+S,MAAP;AACH,SAND;AAOH;AArDS,CAAd;;QAwDS1D,SAAAA;QAAQI,QAAAA;QAAOD,QAAAA;QAAOK,UAAAA;QAASC,UAAAA;QAASC,KAAAA;QAAIE,KAAAA;QAAID,KAAAA;QAAIwB,OAAAA;QAAMH,UAAAA;QAASM,MAAAA;QAAKD,OAAAA;QAAMI,QAAAA;QAAOK,UAAAA;;;;;;;AC3O9F,IAAIa,aAAa,eAAjB;AACA,IAAIC,UAAU,YAAY,CAAG,CAA7B;AACA,IAAIC,YAAY,YAAY,CAAG,CAA/B;AACA,IAAI,kBAAyB,YAA7B,EAA2C;AACvC,YAYKD,OAZL,aAAU,UAAUE,KAAV,EAAiBC,OAAjB,EAA0B;AAChC,YAAI,CAACD,KAAD,IAAU,OAAOE,OAAP,KAAmB,WAAjC,EAA8C;AAC1CA,oBAAQC,IAAR,CAAaN,aAAaI,OAA1B;AACH;AACJ,KAJD;AAKA,YAOcF,SAPd,eAAY,UAAUC,KAAV,EAAiBC,OAAjB,EAA0B;AAClC,YAAI,CAACD,KAAL,EAAY;AACR,kBAAM,IAAII,KAAJ,CAAUP,WAAWQ,WAAX,KAA2BJ,OAArC,CAAN;AACH;AACJ,KAJD;AAKH;;QAEQH,UAAAA;QAASC,YAAAA;;;;;;;;;AChBlB;;AACA;;AACA;;AACA;;AAEA,IAAIO,eAAe,UAAU3G,EAAV,EAAc;AAC7B,QAAI4G,SAAS5G,GAAG4G,MAAhB;AAAA,QACIC,WAAW7G,GAAG6G,QADlB;AAAA,QAEI3C,KAAKlE,GAAG8G,QAFZ;AAAA,QAGIA,WAAW5C,OAAO,KAAK,CAAZ,GAAgB,EAAhB,GAAqBA,EAHpC;AAAA,QAII6C,KAAK/G,GAAGgH,QAJZ;AAAA,QAKIA,WAAWD,OAAO,KAAK,CAAZ,GAAgB,IAAhB,GAAuBA,EALtC;AAMA,WAAO,UAAUE,KAAV,EAAiB;AACpB,YAAI5V,QAAQ,EAAZ;AACA,YAAI6V,gBAAgB,EAApB;AACA,YAAIC,aAAa,KAAjB;AACA,YAAIC,WAAW,UAAUC,WAAV,EAAuBhU,KAAvB,EAA8B;AACzC,gBAAIjC,MAAM0V,SAASO,WAAT,KAAyBA,WAAnC;AACA,gBAAIC,eAAejW,MAAMD,GAAN,CAAnB;AACAC,kBAAMD,GAAN,IAAaiC,KAAb;AACA,gBAAIhC,MAAMD,GAAN,MAAekW,YAAnB,EAAiC;AAC7B,oBAAIJ,cAAcnM,OAAd,CAAsB3J,GAAtB,MAA+B,CAAC,CAApC,EAAuC;AACnC8V,kCAAclW,IAAd,CAAmBI,GAAnB;AACH;AACD,oBAAI,CAAC+V,UAAL,EAAiB;AACbA,iCAAa,IAAb;AACA,kDAAcvU,MAAd;AACH;AACJ;AACJ,SAbD;AAcA,iBAASA,MAAT,CAAgB2U,WAAhB,EAA6B;AACzB,gBAAIA,gBAAgB,KAAK,CAAzB,EAA4B;AACxBA,8BAAc,KAAd;AACH;AACD,gBAAIA,eAAeJ,UAAnB,EAA+B;AAC3BN,yBAASxV,KAAT,EAAgB4V,KAAhB,EAAuBC,aAAvB;AACAC,6BAAa,KAAb;AACAD,8BAAcpW,MAAd,GAAuB,CAAvB;AACH;AACD,mBAAO,IAAP;AACH;AACD,eAAO;AACH0W,iBAAK,UAAUH,WAAV,EAAuB;AACxB,oBAAIjW,MAAM0V,SAASO,WAAT,KAAyBA,WAAnC;AACA,uBAAOjW,MAAM4V,YAAY3V,MAAMD,GAAN,MAAewN,SAA3B,GAAuCvN,MAAMD,GAAN,CAAvC,GAAoDwV,OAAOxV,GAAP,EAAY6V,KAAZ,CAA1D,GAA+E5V,KAAtF;AACH,aAJE;AAKHoW,iBAAK,UAAU5D,MAAV,EAAkBxQ,KAAlB,EAAyB;AAC1B,oBAAI,OAAOwQ,MAAP,KAAkB,QAAtB,EAAgC;AAC5B,wBAAIxQ,UAAUuL,SAAd,EAAyB;AACrBwI,iCAASvD,MAAT,EAAiBxQ,KAAjB;AACH,qBAFD,MAEO;AACH,+BAAO,UAAUgK,CAAV,EAAa;AAChB,mCAAO+J,SAASvD,MAAT,EAAiBxG,CAAjB,CAAP;AACH,yBAFD;AAGH;AACJ,iBARD,MAQO;AACH,yBAAK,IAAIjM,GAAT,IAAgByS,MAAhB,EAAwB;AACpB,4BAAIA,OAAO1J,cAAP,CAAsB/I,GAAtB,CAAJ,EAAgC;AAC5BgW,qCAAShW,GAAT,EAAcyS,OAAOzS,GAAP,CAAd;AACH;AACJ;AACJ;AACD,uBAAO,IAAP;AACH,aAtBE;AAuBHwB,oBAAQA;AAvBL,SAAP;AAyBH,KAtDD;AAuDH,CA9DD;;AAgEA,IAAI8U,qBAAqB,iBAAzB;AACA,IAAIC,mBAAmB,OAAvB;AACA,IAAIC,cAAc,UAAUtQ,GAAV,EAAe;AAC7B,WAAOA,IAAIC,OAAJ,CAAYmQ,kBAAZ,EAAgCC,gBAAhC,EAAkDrV,WAAlD,EAAP;AACH,CAFD;AAGA,IAAIuV,cAAc,UAAUxV,OAAV,EAAmByV,KAAnB,EAA0B;AACxC,SAAK,IAAI1W,GAAT,IAAgB0W,KAAhB,EAAuB;AACnB,YAAIA,MAAM3N,cAAN,CAAqB/I,GAArB,CAAJ,EAA+B;AAC3BiB,oBAAQqC,YAAR,CAAqBtD,GAArB,EAA0B0W,MAAM1W,GAAN,CAA1B;AACH;AACJ;AACJ,CAND;;AAQA,IAAI2W,aAAa,aAAa,IAAIC,GAAJ,EAA9B;AACA,IAAIC,YAAY,aAAa,IAAID,GAAJ,EAA7B;AACA,IAAIE,WAAW,CAAC,QAAD,EAAW,KAAX,EAAkB,GAAlB,EAAuB,IAAvB,EAA6B,EAA7B,CAAf;AACA,IAAIC,cAAcD,SAASpX,MAA3B;AACA,IAAIsX,WAAJ;AACA,IAAIC,aAAa,UAAUjX,GAAV,EAAe;AAC5B,QAAI,OAAOyD,QAAP,KAAoB,WAAxB,EAAqC;AACrCuT,kBAAcA,eAAevT,SAASD,aAAT,CAAuB,KAAvB,CAA7B;AACA,SAAK,IAAI1B,IAAI,CAAb,EAAgBA,IAAIiV,WAApB,EAAiCjV,GAAjC,EAAsC;AAClC,YAAIoV,SAASJ,SAAShV,CAAT,CAAb;AACA,YAAIqV,WAAWD,WAAW,EAA1B;AACA,YAAIE,uBAAuBD,WAAWnX,GAAX,GAAiBkX,SAASlX,IAAIqX,MAAJ,CAAW,CAAX,EAAc/B,WAAd,EAAT,GAAuCtV,IAAIkC,KAAJ,CAAU,CAAV,CAAnF;AACA,YAAIkV,wBAAwBJ,YAAY9T,KAAxC,EAA+C;AAC3CyT,uBAAWN,GAAX,CAAerW,GAAf,EAAoBoX,oBAApB;AACAP,sBAAUR,GAAV,CAAcrW,GAAd,EAAmB,MAAMmX,WAAW,EAAX,GAAgB,GAAtB,IAA6BX,YAAYY,oBAAZ,CAAhD;AACH;AACJ;AACJ,CAZD;AAaA,IAAIE,WAAW,UAAUtX,GAAV,EAAeuX,UAAf,EAA2B;AACtC,QAAIA,eAAe,KAAK,CAAxB,EAA2B;AACvBA,qBAAa,KAAb;AACH;AACD,QAAIpS,QAAQoS,aAAaV,SAAb,GAAyBF,UAArC;AACA,QAAI,CAACxR,MAAMqS,GAAN,CAAUxX,GAAV,CAAL,EAAqBiX,WAAWjX,GAAX;AACrB,WAAOmF,MAAMiR,GAAN,CAAUpW,GAAV,KAAkBA,GAAzB;AACH,CAPD;;AASA,IAAIyX,OAAO,CAAC,EAAD,EAAK,GAAL,EAAU,GAAV,EAAe,GAAf,CAAX;AACA,IAAIC,QAAQ,CAAC,WAAD,EAAc,OAAd,EAAuB,QAAvB,EAAiC,MAAjC,EAAyC,sBAAzC,CAAZ;AACA,IAAIC,qBAAqB,kBAAzB;AACA,IAAIC,qBAAqB,kBAAzB;AACA,IAAIC,iBAAiB,aAAaH,MAAMI,MAAN,CAAa,UAAUC,GAAV,EAAe/X,GAAf,EAAoB;AAC/D,WAAOyX,KAAKK,MAAL,CAAY,UAAUE,OAAV,EAAmBC,OAAnB,EAA4B;AAC3CD,gBAAQpY,IAAR,CAAaI,MAAMiY,OAAnB;AACA,eAAOD,OAAP;AACH,KAHM,EAGJD,GAHI,CAAP;AAIH,CALiC,EAK/B,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAL+B,CAAlC;AAMA,IAAIG,0BAA0B,aAAaL,eAAeC,MAAf,CAAsB,UAAUK,IAAV,EAAgBnY,GAAhB,EAAqB;AAClFmY,SAAKnY,GAAL,IAAY,IAAZ;AACA,WAAOmY,IAAP;AACH,CAH0C,EAGxC,EAHwC,CAA3C;AAIA,IAAIC,kBAAkB,UAAUpY,GAAV,EAAe;AACjC,WAAOkY,wBAAwBlY,GAAxB,MAAiC,IAAxC;AACH,CAFD;AAGA,IAAIqY,qBAAqB,UAAU1L,CAAV,EAAalE,CAAb,EAAgB;AACrC,WAAOoP,eAAelO,OAAf,CAAuBgD,CAAvB,IAA4BkL,eAAelO,OAAf,CAAuBlB,CAAvB,CAAnC;AACH,CAFD;AAGA,IAAI6P,wBAAwB,UAAUtY,GAAV,EAAe;AACvC,WAAOA,QAAQ2X,kBAAR,IAA8B3X,QAAQ4X,kBAA7C;AACH,CAFD;;AAIA,IAAIW,aAAa;AACb3E,WAAOA,sBADM;AAEb4E,qBAAiB5E,sBAFJ;AAGb6E,kBAAc7E,sBAHD;AAIb8E,UAAM9E,sBAJO;AAKb+E,YAAQ/E,sBALK;AAMbgF,iBAAahF,sBANA;AAObiF,oBAAgBjF,sBAPH;AAQbkF,sBAAkBlF,sBARL;AASbmF,uBAAmBnF,sBATN;AAUboF,qBAAiBpF,sBAVJ;AAWbqF,kBAAcpH,mBAXD;AAYbqH,WAAOrH,mBAZM;AAabsH,cAAUtH,mBAbG;AAcbuH,YAAQvH,mBAdK;AAebwH,eAAWxH,mBAfE;AAgBbyH,SAAKzH,mBAhBQ;AAiBb0H,UAAM1H,mBAjBO;AAkBb2H,YAAQ3H,mBAlBK;AAmBb4H,WAAO5H,mBAnBM;AAoBb6H,YAAQ/H,wBApBK;AAqBbgI,aAAShI,wBArBI;AAsBbiI,aAASjI,wBAtBI;AAuBbkI,aAASlI,wBAvBI;AAwBbJ,WAAOA,sBAxBM;AAyBbuI,YAAQvI,sBAzBK;AA0BbwI,YAAQxI,sBA1BK;AA2BbyI,YAAQzI,sBA3BK;AA4Bb0I,WAAOtI,wBA5BM;AA6BbuI,WAAOvI,wBA7BM;AA8BbwI,cAAUtI,mBA9BG;AA+BbuI,gBAAYvI,mBA/BC;AAgCbwI,gBAAYxI,mBAhCC;AAiCbyI,gBAAYzI,mBAjCC;AAkCb0I,iBAAa1I,mBAlCA;AAmCb2I,aAASlJ,sBAnCI;AAoCbmJ,sBAAkB7I,wBApCL;AAqCb8I,sBAAkB9I,wBArCL;AAsCb+I,sBAAkB9I;AAtCL,CAAjB;AAwCA,IAAI+I,eAAe,UAAU5a,GAAV,EAAe;AAC9B,WAAOuY,WAAWvY,GAAX,CAAP;AACH,CAFD;;AAIA,IAAI0V,WAAW;AACXmF,OAAG,YADQ;AAEXjP,OAAG,YAFQ;AAGXkP,OAAG,YAHQ;AAIXC,aAAS,kBAJE;AAKXC,aAAS,kBALE;AAMXC,aAAS;AANE,CAAf;AAQA,IAAIC,SAAS,QAAb;AACA,IAAIC,SAAS,QAAb;AACA,IAAIC,QAAQ,GAAZ;AACA,IAAIC,aAAa,GAAjB;AACA,IAAIC,mBAAmB,kBAAvB;AACA,IAAIC,YAAY,WAAhB;AACA,IAAIC,cAAc,YAAlB;AACA,IAAIC,iBAAiB,kBAArB;AACA,IAAIC,YAAY,UAAU1b,GAAV,EAAeiC,KAAf,EAAsB;AAClC,WAAO,KAAKoZ,UAAL,GAAkBrb,GAAlB,GAAwBob,KAAxB,GAAgCnZ,KAAvC;AACH,CAFD;AAGA,SAAS0Z,wBAAT,CAAkC1b,KAAlC,EAAyC6V,aAAzC,EAAwD8F,0BAAxD,EAAoFC,SAApF,EAA+F;AAC3F,QAAI/F,kBAAkB,KAAK,CAA3B,EAA8B;AAC1BA,wBAAgB,IAAhB;AACH;AACD,QAAI8F,+BAA+B,KAAK,CAAxC,EAA2C;AACvCA,qCAA6B,IAA7B;AACH;AACD,QAAIE,iBAAiBhG,kBAAkB,IAAlB,GAAyBpN,OAAOqT,IAAP,CAAY9b,KAAZ,CAAzB,GAA8C6V,aAAnE;AACA,QAAIkG,iBAAiB,EAArB;AACA,QAAIC,kBAAkB,EAAtB;AACA,QAAIC,qBAAqB,KAAzB;AACA,QAAIC,qBAAqB,IAAzB;AACA,QAAIC,eAAe,KAAnB;AACA,QAAIC,gBAAgB,KAApB;AACA,QAAIC,mBAAmBR,eAAepc,MAAtC;AACA,SAAK,IAAIoC,IAAI,CAAb,EAAgBA,IAAIwa,gBAApB,EAAsCxa,GAAtC,EAA2C;AACvC,YAAI9B,MAAM8b,eAAeha,CAAf,CAAV;AACA,YAAIsW,gBAAgBpY,GAAhB,CAAJ,EAA0B;AACtBoc,2BAAe,IAAf;AACA,iBAAK,IAAIG,QAAT,IAAqBtc,KAArB,EAA4B;AACxB,oBAAImY,gBAAgBmE,QAAhB,KAA6BT,eAAenS,OAAf,CAAuB4S,QAAvB,MAAqC,CAAC,CAAvE,EAA0E;AACtET,mCAAelc,IAAf,CAAoB2c,QAApB;AACH;AACJ;AACD;AACH;AACJ;AACDT,mBAAeU,IAAf,CAAoBnE,kBAApB;AACA,QAAIoE,wBAAwBX,eAAepc,MAA3C;AACA,SAAK,IAAIoC,IAAI,CAAb,EAAgBA,IAAI2a,qBAApB,EAA2C3a,GAA3C,EAAgD;AAC5C,YAAI9B,MAAM8b,eAAeha,CAAf,CAAV;AACA,YAAI+Z,UAAUrE,GAAV,CAAcxX,GAAd,CAAJ,EAAwB;AACxB,YAAI0c,iBAAiBtE,gBAAgBpY,GAAhB,CAArB;AACA,YAAIiC,QAAQhC,MAAMD,GAAN,CAAZ;AACA,YAAI2c,YAAY/B,aAAa5a,GAAb,CAAhB;AACA,YAAI0c,cAAJ,EAAoB;AAChB,gBAAIC,UAAUvP,OAAV,IAAqBnL,UAAU0a,UAAUvP,OAAzC,IAAoD,CAACuP,UAAUvP,OAAX,IAAsBnL,UAAU,CAAxF,EAA2F;AACvFka,qCAAqB,KAArB;AACH;AACJ;AACD,YAAIQ,cAAc,OAAO1a,KAAP,KAAiBiZ,MAAjB,IAA2B,OAAOjZ,KAAP,KAAiBkZ,MAA1D,KAAqEwB,UAAUtL,SAAnF,EAA8F;AAC1FpP,oBAAQ0a,UAAUtL,SAAV,CAAoBpP,KAApB,CAAR;AACH;AACD,YAAIya,cAAJ,EAAoB;AAChBT,+BAAmBjc,MAAM,GAAN,GAAYiC,KAAZ,GAAoB,IAAvC;AACAoa,4BAAgBrc,QAAQwb,WAAR,GAAsB,IAAtB,GAA6Ba,aAA7C;AACH,SAHD,MAGO,IAAI/D,sBAAsBtY,GAAtB,CAAJ,EAAgC;AACnCC,kBAAMD,GAAN,IAAaiC,KAAb;AACAia,iCAAqB,IAArB;AACH,SAHM,MAGA;AACHF,8BAAkBN,UAAUpE,SAAStX,GAAT,EAAc,IAAd,CAAV,EAA+BiC,KAA/B,CAAlB;AACH;AACJ;AACD,QAAIia,kBAAJ,EAAwB;AACpBF,0BAAkBN,UAAUJ,gBAAV,EAA4B,CAACrb,MAAMwa,gBAAN,IAA0B,CAA3B,IAAgC,GAAhC,IAAuCxa,MAAMya,gBAAN,IAA0B,CAAjE,IAAsE,GAAtE,IAA6Eza,MAAM0a,gBAAN,IAA0B,CAAvG,CAA5B,CAAlB;AACH;AACD,QAAIyB,YAAJ,EAAkB;AACd,YAAI,CAACC,aAAD,IAAkBT,0BAAtB,EAAkD;AAC9CK,+BAAmBT,cAAc,KAAjC;AACH;AACDQ,0BAAkBN,UAAUH,SAAV,EAAqBY,qBAAqBV,cAArB,GAAsCQ,eAA3D,CAAlB;AACH;AACD,WAAOD,cAAP;AACH;;AAED,IAAIY,cAAc,YAAlB;AACA,IAAIC,aAAa,WAAjB;AACA,IAAIC,eAAe,aAAa,IAAIC,GAAJ,CAAQ,CAACH,WAAD,EAAcC,UAAd,CAAR,CAAhC;AACA,IAAIG,YAAY,aAAazH,aAAa;AACtCC,YAAQ,UAAUxV,GAAV,EAAe4O,EAAf,EAAmB;AACvB,YAAI3N,UAAU2N,GAAG3N,OAAjB;AAAA,YACIgc,iBAAiBrO,GAAGqO,cADxB;AAEA,YAAIN,YAAY/B,aAAa5a,GAAb,CAAhB;AACA,YAAIoY,gBAAgBpY,GAAhB,CAAJ,EAA0B;AACtB,mBAAO2c,YAAYA,UAAUvP,OAAV,IAAqB,CAAjC,GAAqC,CAA5C;AACH,SAFD,MAEO,IAAI0P,aAAatF,GAAb,CAAiBxX,GAAjB,CAAJ,EAA2B;AAC9B,mBAAOiB,QAAQjB,GAAR,CAAP;AACH,SAFM,MAEA;AACH,gBAAIkd,WAAW5P,OAAO6P,gBAAP,CAAwBlc,OAAxB,EAAiC,IAAjC,EAAuCmc,gBAAvC,CAAwD9F,SAAStX,GAAT,EAAc,IAAd,CAAxD,KAAgF,CAA/F;AACA,mBAAOid,kBAAkBN,SAAlB,IAA+BA,UAAUjW,KAAzC,GAAiDiW,UAAUjW,KAAV,CAAgBwW,QAAhB,CAAjD,GAA6EA,QAApF;AACH;AACJ,KAbqC;AActCzH,cAAU,UAAUxV,KAAV,EAAiB2O,EAAjB,EAAqBkH,aAArB,EAAoC;AAC1C,YAAI7U,UAAU2N,GAAG3N,OAAjB;AAAA,YACI2a,6BAA6BhN,GAAGgN,0BADpC;AAEA3a,gBAAQiC,KAAR,CAAcma,OAAd,IAAyB1B,yBAAyB1b,KAAzB,EAAgC6V,aAAhC,EAA+C8F,0BAA/C,EAA2EkB,YAA3E,CAAzB;AACA,YAAIhH,cAAcnM,OAAd,CAAsBiT,WAAtB,MAAuC,CAAC,CAA5C,EAA+C3b,QAAQqc,UAAR,GAAqBrd,MAAMqd,UAA3B;AAC/C,YAAIxH,cAAcnM,OAAd,CAAsBkT,UAAtB,MAAsC,CAAC,CAA3C,EAA8C5b,QAAQsc,SAAR,GAAoBtd,MAAMsd,SAA1B;AACjD,KApBqC;AAqBtC7H,cAAUA,QArB4B;AAsBtC8H,oBAAgBV;AAtBsB,CAAb,CAA7B;AAwBA,IAAIW,MAAM,UAAUxc,OAAV,EAAmB4U,KAAnB,EAA0B;AAChC,WAAOmH,UAAU,qBAAS,EAAE/b,SAASA,OAAX,EAAoB2a,4BAA4B,IAAhD,EAAsDqB,gBAAgB,IAAtE,EAAT,EAAuFpH,KAAvF,CAAV,CAAP;AACH,CAFD;;AAIA,IAAI6H,gBAAgB,SAApB;AACA,IAAIC,kBAAkB,UAAUC,UAAV,EAAsBle,MAAtB,EAA8B;AAChD,WAAOke,aAAa,GAAb,GAAmBle,MAAnB,GAA4B,IAAnC;AACH,CAFD;AAGA,IAAIme,QAAQ,UAAU5d,KAAV,EAAiB6d,UAAjB,EAA6BC,MAA7B,EAAqCC,UAArC,EAAiD;AACzD,QAAI5B,eAAe,KAAnB;AACA,QAAI6B,eAAe,KAAnB;AACA,QAAIpI,QAAQ,EAAZ;AACA,QAAIqI,kBAAkBH,SAAS;AAC3BC,oBAAY,GADe;AAE3BG,qBAAa,KAAKH;AAFS,KAAT,GAGlBxQ,SAHJ;AAIA,QAAI4Q,WAAWne,MAAMsR,KAAN,KAAgB/D,SAAhB,GAA4BvN,MAAMsR,KAAN,IAAemM,aAA3C,GAA2Dzd,MAAM6Z,MAAN,IAAgB,CAA1F;AACA,QAAIC,SAAS9Z,MAAM8Z,MAAN,KAAiBvM,SAAjB,GAA6BvN,MAAM8Z,MAAN,IAAgB2D,aAA7C,GAA6DU,YAAY,CAAtF;AACA,QAAI3D,mBAAmBqD,WAAW5E,KAAX,IAAoB,CAACjZ,MAAM8a,OAAN,IAAiB,EAAlB,IAAwB,GAA5C,IAAmD+C,WAAWjD,CAArF;AACA,QAAIH,mBAAmBoD,WAAW1E,MAAX,IAAqB,CAACnZ,MAAM+a,OAAN,IAAiB,EAAlB,IAAwB,GAA7C,IAAoD8C,WAAWlS,CAAtF;AACA,QAAIyS,kBAAkB,CAAC5D,gBAAD,IAAqB2D,WAAW,CAAhC,CAAtB;AACA,QAAIE,kBAAkB,CAAC5D,gBAAD,IAAqBX,SAAS,CAA9B,CAAtB;AACA,QAAIwE,gBAAgB9D,mBAAmB2D,QAAvC;AACA,QAAII,gBAAgB9D,mBAAmBX,MAAvC;AACA,QAAI1I,YAAY;AACZoN,mBAAW,eAAexe,MAAMma,UAArB,GAAkC,IAAlC,GAAyCna,MAAMoa,UAA/C,GAA4D,IAD3D;AAEZ9I,eAAO,eAAe8M,eAAf,GAAiC,IAAjC,GAAwCC,eAAxC,GAA0D,UAA1D,GAAuEF,QAAvE,GAAkF,IAAlF,GAAyFrE,MAAzF,GAAkG,cAAlG,GAAmHwE,aAAnH,GAAmI,IAAnI,GAA0IC,aAA1I,GAA0J,IAFrJ;AAGZ9E,gBAAQ,YAAYzZ,MAAMyZ,MAAlB,GAA2B,IAA3B,GAAkCe,gBAAlC,GAAqD,IAArD,GAA4DC,gBAA5D,GAA+E,IAH3E;AAIZT,eAAO,WAAWha,MAAMga,KAAjB,GAAyB,IAJpB;AAKZC,eAAO,WAAWja,MAAMia,KAAjB,GAAyB;AALpB,KAAhB;AAOA,SAAK,IAAIla,GAAT,IAAgBC,KAAhB,EAAuB;AACnB,YAAIA,MAAM8I,cAAN,CAAqB/I,GAArB,CAAJ,EAA+B;AAC3B,gBAAIiC,QAAQhC,MAAMD,GAAN,CAAZ;AACA,gBAAIoY,gBAAgBpY,GAAhB,CAAJ,EAA0B;AACtBoc,+BAAe,IAAf;AACH,aAFD,MAEO,IAAI2B,WAAW/d,QAAQ,YAAR,IAAwBA,QAAQ,aAA3C,KAA6D,OAAOiC,KAAP,KAAiB,QAAlF,EAA4F;AAC/Fgc,+BAAe,IAAf;AACAC,gCAAgBle,GAAhB,IAAuB2d,gBAAgB1b,KAAhB,EAAuB+b,UAAvB,CAAvB;AACH,aAHM,MAGA,IAAID,UAAU/d,QAAQ,YAAtB,EAAoC;AACvC6V,sBAAM,mBAAN,IAA6B8H,gBAAgB,CAAC1b,KAAjB,EAAwB+b,UAAxB,CAA7B;AACH,aAFM,MAEA;AACHnI,sBAAMW,YAAYxW,GAAZ,CAAN,IAA0BiC,KAA1B;AACH;AACJ;AACJ;AACD,QAAIgc,YAAJ,EAAkB;AACdpI,cAAM,kBAAN,IAA4BqI,gBAAgBF,UAAhB,GAA6B,GAA7B,GAAmCE,gBAAgBC,WAA/E;AACH;AACD,QAAI/B,YAAJ,EAAkB;AACdvG,cAAMxE,SAAN,GAAkB,EAAlB;AACA,aAAK,IAAIrR,GAAT,IAAgBqR,SAAhB,EAA2B;AACvB,gBAAIA,UAAUtI,cAAV,CAAyB/I,GAAzB,CAAJ,EAAmC;AAC/B,oBAAI0e,eAAe1e,QAAQ,OAAR,GAAkB,GAAlB,GAAwB,GAA3C;AACA6V,sBAAMxE,SAAN,IAAmBA,UAAUrR,GAAV,EAAemG,OAAf,CAAuB,YAAvB,EAAqCuY,YAArC,CAAnB;AACH;AACJ;AACJ;AACD,WAAO7I,KAAP;AACH,CAnDD;;AAqDA,IAAI8I,eAAe;AACfjG,UAAM9E,sBADS;AAEf+E,YAAQ/E,sBAFO;AAGfrC,WAAOA,sBAHQ;AAIfuI,YAAQvI,sBAJO;AAKfwI,YAAQxI,sBALO;AAMfiJ,aAASlJ,sBANM;AAOfsN,iBAAatN,sBAPE;AAQfuN,mBAAevN;AARA,CAAnB;AAUA,IAAIwN,iBAAiB,UAAU9e,GAAV,EAAe;AAChC,WAAO2e,aAAa3e,GAAb,CAAP;AACH,CAFD;;AAIA,IAAI+e,YAAY,aAAaxJ,aAAa;AACtCC,YAAQ,UAAUxV,GAAV,EAAe4O,EAAf,EAAmB;AACvB,YAAI3N,UAAU2N,GAAG3N,OAAjB;AACA,YAAI,CAACmX,gBAAgBpY,GAAhB,CAAL,EAA2B;AACvB,mBAAOiB,QAAQ+d,YAAR,CAAqBhf,GAArB,CAAP;AACH,SAFD,MAEO;AACH,gBAAI2c,YAAYmC,eAAe9e,GAAf,CAAhB;AACA,mBAAO2c,YAAYA,UAAUvP,OAAtB,GAAgC,CAAvC;AACH;AACJ,KATqC;AAUtCqI,cAAU,UAAUxV,KAAV,EAAiB2O,EAAjB,EAAqBkH,aAArB,EAAoC;AAC1C,YAAIgI,aAAalP,GAAGkP,UAApB;AAAA,YACI7c,UAAU2N,GAAG3N,OADjB;AAAA,YAEI8c,SAASnP,GAAGmP,MAFhB;AAAA,YAGIC,aAAapP,GAAGoP,UAHpB;AAIAvH,oBAAYxV,OAAZ,EAAqB4c,MAAM5d,KAAN,EAAa6d,UAAb,EAAyBC,MAAzB,EAAiCC,UAAjC,CAArB;AACH,KAhBqC;AAiBtCtI,cAAU;AACNmF,WAAG,YADG;AAENjP,WAAG,YAFG;AAGNqT,oBAAY;AAHN;AAjB4B,CAAb,CAA7B;AAuBA,IAAIC,MAAM,UAAUje,OAAV,EAAmB;AACzB,QAAI2N,KAAK3N,QAAQke,OAAR,EAAT;AAAA,QACItE,IAAIjM,GAAGiM,CADX;AAAA,QAEIjP,IAAIgD,GAAGhD,CAFX;AAAA,QAGIsN,QAAQtK,GAAGsK,KAHf;AAAA,QAIIE,SAASxK,GAAGwK,MAJhB;AAKA,QAAIvD,QAAQ;AACR5U,iBAASA,OADD;AAER6c,oBAAY,EAAEjD,GAAGA,CAAL,EAAQjP,GAAGA,CAAX,EAAcsN,OAAOA,KAArB,EAA4BE,QAAQA,MAApC,EAFJ;AAGR2E,gBAAQ;AAHA,KAAZ;AAKA,QAAI9c,QAAQme,OAAR,KAAoB,MAAxB,EAAgC;AAC5BvJ,cAAMkI,MAAN,GAAe,IAAf;AACAlI,cAAMmI,UAAN,GAAmB/c,QAAQoe,cAAR,EAAnB;AACH;AACD,WAAON,UAAUlJ,KAAV,CAAP;AACH,CAhBD;;AAkBA,IAAIyJ,WAAW,aAAa/J,aAAa;AACrCK,cAAU,KAD2B;AAErCJ,YAAQ,UAAUxV,GAAV,EAAe;AACnB,eAAOA,QAAQ,WAAR,GAAsBsN,OAAOiS,WAA7B,GAA2CjS,OAAOkS,WAAzD;AACH,KAJoC;AAKrC/J,cAAU,UAAU7G,EAAV,EAAc;AACpB,YAAIkE,KAAKlE,GAAG2O,SAAZ;AAAA,YACIA,YAAYzK,OAAO,KAAK,CAAZ,GAAgB,CAAhB,GAAoBA,EADpC;AAAA,YAEI6C,KAAK/G,GAAG0O,UAFZ;AAAA,YAGIA,aAAa3H,OAAO,KAAK,CAAZ,GAAgB,CAAhB,GAAoBA,EAHrC;AAIA,eAAOrI,OAAOmS,QAAP,CAAgBnC,UAAhB,EAA4BC,SAA5B,CAAP;AACH;AAXoC,CAAb,CAA5B;;AAcA,IAAIpY,QAAQ,aAAa,IAAIua,OAAJ,EAAzB;AACA,IAAIC,kBAAkB,UAAU9f,IAAV,EAAgBgW,KAAhB,EAAuB;AACzC,QAAI+J,MAAJ;AACA,QAAI/f,gBAAgBggB,WAApB,EAAiC;AAC7BD,iBAASnC,IAAI5d,IAAJ,EAAUgW,KAAV,CAAT;AACH,KAFD,MAEO,IAAIhW,gBAAgBigB,UAApB,EAAgC;AACnCF,iBAASV,IAAIrf,IAAJ,CAAT;AACH,KAFM,MAEA,IAAI,OAAOyN,MAAP,KAAkB,WAAlB,IAAiCzN,SAASyN,MAA9C,EAAsD;AACzDsS,iBAASN,SAASzf,IAAT,CAAT;AACH;AACD,8BAAU+f,WAAWpS,SAArB,EAAgC,yEAAhC;AACArI,UAAMkR,GAAN,CAAUxW,IAAV,EAAgB+f,MAAhB;AACA,WAAOA,MAAP;AACH,CAZD;AAaA,IAAIG,YAAY,UAAUlgB,IAAV,EAAgBgW,KAAhB,EAAuB;AACnC,WAAO1Q,MAAMqS,GAAN,CAAU3X,IAAV,IAAkBsF,MAAMiR,GAAN,CAAUvW,IAAV,CAAlB,GAAoC8f,gBAAgB9f,IAAhB,EAAsBgW,KAAtB,CAA3C;AACH,CAFD;AAGA,SAASmK,KAAT,CAAeC,cAAf,EAA+BpK,KAA/B,EAAsC;AAClC,QAAIhW,OAAO,OAAOogB,cAAP,KAA0B,QAA1B,GAAqCxc,SAASyc,aAAT,CAAuBD,cAAvB,CAArC,GAA8EA,cAAzF;AACA,WAAOF,UAAUlgB,IAAV,EAAgBgW,KAAhB,CAAP;AACH;;kBAEcmK;QACUG,sBAAhB5K;QAAiE6K,cAA5BzE;;;;;;;;;ACnb9C;;;;;kDACSvO;;;;AAPT;;AACA;;AACA;;IAAYiT;;AAGZ;;;;;;;;QAD4B9H,aAAnB8H;;;AAKT,IAAIC,QAAQ,UAAUrU,CAAV,EAAa;AACrB,WAAO,OAAOA,CAAP,KAAa,QAApB;AACH,CAFD;AAGA,IAAIsU,UAAU,UAAUC,KAAV,EAAiB;AAC3B,WAAOA,MAAM3F,CAAN,KAAYrN,SAAZ,IAAyBgT,MAAM5U,CAAN,KAAY4B,SAA5C;AACH,CAFD;AAGA,IAAIiT,YAAY,UAAUD,KAAV,EAAiB;AAC7B,WAAOA,MAAM1F,CAAN,KAAYtN,SAAnB;AACH,CAFD;AAGA,IAAIkT,YAAY,UAAUC,GAAV,EAAeC,SAAf,EAA0B;AACtC,QAAIA,cAAc,KAAK,CAAvB,EAA0B;AACtBA,oBAAY,CAAZ;AACH;AACDA,gBAAY5S,KAAK6S,GAAL,CAAS,EAAT,EAAaD,SAAb,CAAZ;AACA,WAAO5S,KAAKoF,KAAL,CAAWuN,MAAMC,SAAjB,IAA8BA,SAArC;AACH,CAND;AAOA,IAAIE,aAAa;AACbjG,OAAG,CADU;AAEbjP,OAAG,CAFU;AAGbkP,OAAG;AAHU,CAAjB;AAKA,IAAIiG,aAAa,UAAUpU,CAAV,EAAalE,CAAb,EAAgB;AAC7B,WAAOuF,KAAKgT,GAAL,CAASrU,IAAIlE,CAAb,CAAP;AACH,CAFD;AAGA,IAAIwY,QAAQ,UAAUtU,CAAV,EAAalE,CAAb,EAAgB;AACxB,QAAIA,MAAM,KAAK,CAAf,EAAkB;AACdA,YAAIqY,UAAJ;AACH;AACD,WAAOI,iBAAiBlT,KAAKmT,KAAL,CAAW1Y,EAAEmD,CAAF,GAAMe,EAAEf,CAAnB,EAAsBnD,EAAEoS,CAAF,GAAMlO,EAAEkO,CAA9B,CAAjB,CAAP;AACH,CALD;AAMA,IAAIuG,mBAAmB,UAAUC,UAAV,EAAsB;AACzC,WAAOA,aAAarT,KAAKsT,EAAlB,GAAuB,GAA9B;AACH,CAFD;AAGA,IAAIC,SAAS,UAAU5U,CAAV,EAAalE,CAAb,EAAgB+Y,QAAhB,EAA0B;AACnC,WAAO7U,IAAI,CAAClE,IAAIkE,CAAL,IAAU6U,QAArB;AACH,CAFD;AAGA,IAAIrH,WAAW,UAAUxN,CAAV,EAAalE,CAAb,EAAgB;AAC3B,QAAIA,MAAM,KAAK,CAAf,EAAkB;AACdA,YAAIqY,UAAJ;AACH;AACD,QAAIR,MAAM3T,CAAN,KAAY2T,MAAM7X,CAAN,CAAhB,EAA0B;AACtB,eAAOsY,WAAWpU,CAAX,EAAclE,CAAd,CAAP;AACH,KAFD,MAEO,IAAI8X,QAAQ5T,CAAR,KAAc4T,QAAQ9X,CAAR,CAAlB,EAA8B;AACjC,YAAIgZ,SAASV,WAAWpU,EAAEkO,CAAb,EAAgBpS,EAAEoS,CAAlB,CAAb;AACA,YAAI6G,SAASX,WAAWpU,EAAEf,CAAb,EAAgBnD,EAAEmD,CAAlB,CAAb;AACA,YAAI+V,SAASlB,UAAU9T,CAAV,KAAgB8T,UAAUhY,CAAV,CAAhB,GAA+BsY,WAAWpU,EAAEmO,CAAb,EAAgBrS,EAAEqS,CAAlB,CAA/B,GAAsD,CAAnE;AACA,eAAO9M,KAAK4T,IAAL,CAAU5T,KAAK6S,GAAL,CAASY,MAAT,EAAiB,CAAjB,IAAsBzT,KAAK6S,GAAL,CAASa,MAAT,EAAiB,CAAjB,CAAtB,GAA4C1T,KAAK6S,GAAL,CAASc,MAAT,EAAiB,CAAjB,CAAtD,CAAP;AACH;AACD,WAAO,CAAP;AACH,CAbD;AAcA,IAAIE,uBAAuB,UAAUC,IAAV,EAAgBC,EAAhB,EAAoB9f,KAApB,EAA2B;AAClD,QAAI+f,mBAAmBD,KAAKD,IAA5B;AACA,WAAOE,qBAAqB,CAArB,GAAyB,CAAzB,GAA6B,CAAC/f,QAAQ6f,IAAT,IAAiBE,gBAArD;AACH,CAHD;AAIA,IAAIC,uBAAuB,UAAUH,IAAV,EAAgBC,EAAhB,EAAoBG,QAApB,EAA8B;AACrD,WAAO,CAACA,QAAD,GAAYJ,IAAZ,GAAmBI,WAAWH,EAA9B,GAAmCD,IAA1C;AACH,CAFD;AAGA,IAAIK,4BAA4B,UAAUC,MAAV,EAAkBnB,KAAlB,EAAyB9G,QAAzB,EAAmC;AAC/D8G,YAAQG,iBAAiBH,KAAjB,CAAR;AACA,WAAO;AACHpG,WAAGV,WAAWnM,KAAKqU,GAAL,CAASpB,KAAT,CAAX,GAA6BmB,OAAOvH,CADpC;AAEHjP,WAAGuO,WAAWnM,KAAKsU,GAAL,CAASrB,KAAT,CAAX,GAA6BmB,OAAOxW;AAFpC,KAAP;AAIH,CAND;AAOA,IAAIsV,mBAAmB,UAAUqB,OAAV,EAAmB;AACtC,WAAOA,UAAU,GAAV,GAAgBvU,KAAKsT,EAA5B;AACH,CAFD;AAGA,IAAIkB,SAAS,UAAUC,QAAV,EAAoBzf,QAApB,EAA8B0f,QAA9B,EAAwCC,SAAxC,EAAmD;AAC5D,QAAIA,cAAc,KAAK,CAAvB,EAA0B;AACtBA,oBAAY,CAAZ;AACH;AACD,WAAOjC,UAAU1d,WAAW0f,YAAYD,WAAWzf,QAAvB,IAAmCgL,KAAKC,GAAL,CAAS0U,SAAT,EAAoBD,QAApB,CAAxD,CAAP;AACH,CALD;AAMA,IAAIE,gBAAgB,UAAUC,GAAV,EAAeC,aAAf,EAA8B;AAC9C,WAAOxC,MAAMuC,GAAN,IAAaA,OAAO,OAAOC,aAAd,CAAb,GAA4C,CAAnD;AACH,CAFD;AAGA,IAAIC,iBAAiB,UAAUC,QAAV,EAAoBF,aAApB,EAAmC;AACpD,WAAOA,gBAAgBE,YAAY,OAAOF,aAAnB,CAAhB,GAAoD,CAA3D;AACH,CAFD;AAGA,IAAIG,eAAe,UAAUC,KAAV,EAAiBhB,QAAjB,EAA2B;AAC1C,QAAIiB,UAAU,KAAKD,QAAQ,CAAb,CAAd;AACA,QAAIvhB,SAAS,IAAI,IAAIuhB,KAArB;AACA,QAAIE,mBAAmBpV,KAAK+B,GAAL,CAASmS,WAAWvgB,MAApB,EAA4B,CAA5B,CAAvB;AACA,WAAOqM,KAAKqV,KAAL,CAAWD,mBAAmBD,OAA9B,IAAyCA,OAAhD;AACH,CALD;;AAOA,IAAIG,OAAO,aAAa5a,OAAO6a,MAAP,CAAc;AAClChD,aAASA,OADyB;AAElCE,eAAWA,SAFuB;AAGlCQ,WAAOA,KAH2B;AAIlCG,sBAAkBA,gBAJgB;AAKlCG,YAAQA,MAL0B;AAMlCpH,cAAUA,QANwB;AAOlC0H,0BAAsBA,oBAPY;AAQlCI,0BAAsBA,oBARY;AASlCE,+BAA2BA,yBATO;AAUlCjB,sBAAkBA,gBAVgB;AAWlCsB,YAAQA,MAX0B;AAYlCI,mBAAeA,aAZmB;AAalCG,oBAAgBA,cAbkB;AAclCE,kBAAcA;AAdoB,CAAd,CAAxB;;AAiBA,IAAIO,OAAO,UAAUvX,CAAV,EAAa;AACpB,WAAOA,CAAP;AACH,CAFD;AAGA,IAAIwX,aAAa,UAAUhS,IAAV,EAAgB;AAC7B,WAAO,UAAUxF,CAAV,EAAa;AAChB,eAAO,KAAKA,CAAL,GAASwF,IAAhB;AACH,KAFD;AAGH,CAJD;AAKA,IAAIiS,cAAc,UAAU5B,IAAV,EAAgBC,EAAhB,EAAoB;AAClC,QAAI4B,kBAAkB,IAAtB;AACA,QAAI5B,OAAOvU,SAAX,EAAsB;AAClBuU,aAAKD,IAAL;AACA6B,0BAAkB,KAAlB;AACH;AACD,QAAIC,YAAY,UAAU3X,CAAV,EAAa;AACzB,eAAOA,IAAI6V,IAAX;AACH,KAFD;AAGA,QAAI+B,gBAAgB,UAAU5X,CAAV,EAAa;AAC7B,eAAOA,IAAI8V,EAAX;AACH,KAFD;AAGA,WAAO,UAAU9V,CAAV,EAAa;AAChB,YAAI0X,eAAJ,EAAqB;AACjB,mBAAOE,cAAcD,UAAU3X,CAAV,CAAd,CAAP;AACH,SAFD,MAEO;AACH6V,mBAAO7V,CAAP;AACA0X,8BAAkB,IAAlB;AACA,mBAAO5B,EAAP;AACH;AACJ,KARD;AASH,CArBD;AAsBA,IAAI+B,QAAQ,UAAUhC,IAAV,EAAgBC,EAAhB,EAAoB9V,CAApB,EAAuB;AAC/B,QAAI8X,WAAWjC,OAAOA,IAAtB;AACA,QAAIkC,SAASjC,KAAKA,EAAlB;AACA,WAAO/T,KAAK4T,IAAL,CAAU3V,KAAK+X,SAASD,QAAd,IAA0BA,QAApC,CAAP;AACH,CAJD;AAKA,IAAIE,aAAa,UAAUnC,IAAV,EAAgBC,EAAhB,EAAoB;AACjC,QAAImC,YAAY,OAAOpC,IAAP,KAAgB,QAAhB,GAA2BlO,uBAAMlN,KAAN,CAAYob,IAAZ,CAA3B,GAA+CA,IAA/D;AACA,QAAIqC,UAAU,OAAOpC,EAAP,KAAc,QAAd,GAAyBnO,uBAAMlN,KAAN,CAAYqb,EAAZ,CAAzB,GAA2CA,EAAzD;AACA,QAAIqC,UAAU,qBAAS,EAAT,EAAaF,SAAb,CAAd;AACA,QAAIG,YAAYvC,KAAKzP,GAAL,KAAa7E,SAAb,IAA0B,OAAOsU,IAAP,KAAgB,QAAhB,IAA4BtO,sBAAKpM,IAAL,CAAU0a,IAAV,CAAtD,GAAwEG,oBAAxE,GAA+F6B,KAA/G;AACA,WAAO,UAAU7X,CAAV,EAAa;AAChBmY,kBAAU,qBAAS,EAAT,EAAaA,OAAb,CAAV;AACA,aAAK,IAAIpkB,GAAT,IAAgBokB,OAAhB,EAAyB;AACrB,gBAAIpkB,QAAQ,OAAR,IAAmBokB,QAAQrb,cAAR,CAAuB/I,GAAvB,CAAvB,EAAoD;AAChDokB,wBAAQpkB,GAAR,IAAeqkB,UAAUH,UAAUlkB,GAAV,CAAV,EAA0BmkB,QAAQnkB,GAAR,CAA1B,EAAwCiM,CAAxC,CAAf;AACH;AACJ;AACDmY,gBAAQ9S,KAAR,GAAgB2Q,qBAAqBiC,UAAU5S,KAA/B,EAAsC6S,QAAQ7S,KAA9C,EAAqDrF,CAArD,CAAhB;AACA,eAAOmY,OAAP;AACH,KATD;AAUH,CAfD;AAgBA,IAAIE,aAAa,UAAUxC,IAAV,EAAgBC,EAAhB,EAAoB;AACjC,QAAIlN,SAASiN,KAAK5f,KAAL,EAAb;AACA,QAAIgS,YAAYW,OAAOnV,MAAvB;AACA,QAAI6kB,aAAazC,KAAKzhB,GAAL,CAAS,UAAUmkB,QAAV,EAAoB1iB,CAApB,EAAuB;AAC7C,YAAI2iB,SAAS1C,GAAGjgB,CAAH,CAAb;AACA,eAAO,OAAO0iB,QAAP,KAAoB,QAApB,GAA+B,UAAUvY,CAAV,EAAa;AAC/C,mBAAOgW,qBAAqBuC,QAArB,EAA+BC,MAA/B,EAAuCxY,CAAvC,CAAP;AACH,SAFM,GAEHgY,WAAWO,QAAX,EAAqBC,MAArB,CAFJ;AAGH,KALgB,CAAjB;AAMA,WAAO,UAAUxY,CAAV,EAAa;AAChB,aAAK,IAAInK,IAAI,CAAb,EAAgBA,IAAIoS,SAApB,EAA+BpS,GAA/B,EAAoC;AAChC+S,mBAAO/S,CAAP,IAAYyiB,WAAWziB,CAAX,EAAcmK,CAAd,CAAZ;AACH;AACD,eAAO4I,MAAP;AACH,KALD;AAMH,CAfD;AAgBA,IAAInE,QAAQ,UAAUX,GAAV,EAAe9B,GAAf,EAAoB;AAC5B,WAAO,UAAUhC,CAAV,EAAa;AAChB,eAAO+B,KAAK+B,GAAL,CAAS/B,KAAKC,GAAL,CAAShC,CAAT,EAAY8D,GAAZ,CAAT,EAA2B9B,GAA3B,CAAP;AACH,KAFD;AAGH,CAJD;AAKA,IAAIyW,mBAAmB,UAAU/X,CAAV,EAAalE,CAAb,EAAgB;AACnC,WAAO,UAAUwD,CAAV,EAAa;AAChB,eAAOxD,EAAEkE,EAAEV,CAAF,CAAF,CAAP;AACH,KAFD;AAGH,CAJD;AAKA,IAAI0Y,OAAO,YAAY;AACnB,QAAIC,eAAe,EAAnB;AACA,SAAK,IAAIC,KAAK,CAAd,EAAiBA,KAAKllB,UAAUD,MAAhC,EAAwCmlB,IAAxC,EAA8C;AAC1CD,qBAAaC,EAAb,IAAmBllB,UAAUklB,EAAV,CAAnB;AACH;AACD,WAAOD,aAAa9M,MAAb,CAAoB4M,gBAApB,CAAP;AACH,CAND;AAOA,IAAII,cAAc,UAAU7P,KAAV,EAAiBxL,KAAjB,EAAwB;AACtC,WAAO,UAAUwC,CAAV,EAAa;AAChB,eAAOgJ,MAAMhJ,CAAN,IAAWxC,MAAMwC,CAAN,CAAX,GAAsBA,CAA7B;AACH,KAFD;AAGH,CAJD;AAKA,IAAI8Y,kBAAkB,UAAUzQ,KAAV,EAAiBO,MAAjB,EAAyBmQ,WAAzB,EAAsCC,WAAtC,EAAmD;AACrE,QAAIC,aAAaF,cAAc,CAA/B;AACA,QAAI1Q,MAAM,CAAN,IAAWA,MAAM4Q,UAAN,CAAf,EAAkC;AAC9B5Q,cAAM6Q,OAAN;AACAtQ,eAAOsQ,OAAP;AACH;AACD,WAAO,UAAUlZ,CAAV,EAAa;AAChB,YAAIA,KAAKqI,MAAM,CAAN,CAAT,EAAmB;AACf,mBAAOO,OAAO,CAAP,CAAP;AACH;AACD,YAAI5I,KAAKqI,MAAM4Q,UAAN,CAAT,EAA4B;AACxB,mBAAOrQ,OAAOqQ,UAAP,CAAP;AACH;AACD,YAAIpjB,IAAI,CAAR;AACA,eAAOA,IAAIkjB,WAAX,EAAwBljB,GAAxB,EAA6B;AACzB,gBAAIwS,MAAMxS,CAAN,IAAWmK,CAAX,IAAgBnK,MAAMojB,UAA1B,EAAsC;AAClC;AACH;AACJ;AACD,YAAIE,kBAAkBvD,qBAAqBvN,MAAMxS,IAAI,CAAV,CAArB,EAAmCwS,MAAMxS,CAAN,CAAnC,EAA6CmK,CAA7C,CAAtB;AACA,YAAIoZ,gBAAgBJ,cAAcA,YAAYnjB,IAAI,CAAhB,EAAmBsjB,eAAnB,CAAd,GAAoDA,eAAxE;AACA,eAAOnD,qBAAqBpN,OAAO/S,IAAI,CAAX,CAArB,EAAoC+S,OAAO/S,CAAP,CAApC,EAA+CujB,aAA/C,CAAP;AACH,KAhBD;AAiBH,CAvBD;AAwBA,IAAIC,kBAAkB,UAAUC,IAAV,EAAgBC,IAAhB,EAAsBC,IAAtB,EAA4BC,IAA5B,EAAkC;AACpD,WAAO,UAAUzZ,CAAV,EAAa;AAChB,eAAO,CAACA,IAAIsZ,IAAL,KAAcG,OAAOD,IAArB,KAA8BD,OAAOD,IAArC,IAA6CE,IAApD;AACH,KAFD;AAGH,CAJD;AAKA,IAAIE,cAAc,UAAUrR,KAAV,EAAiBO,MAAjB,EAAyBoQ,WAAzB,EAAsC;AACpD,QAAID,cAAc1Q,MAAM5U,MAAxB;AACA,WAAOslB,gBAAgB,CAAhB,GAAoBD,gBAAgBzQ,KAAhB,EAAuBO,MAAvB,EAA+BmQ,WAA/B,EAA4CC,WAA5C,CAApB,GAA+EK,gBAAgBhR,MAAM,CAAN,CAAhB,EAA0BA,MAAM,CAAN,CAA1B,EAAoCO,OAAO,CAAP,CAApC,EAA+CA,OAAO,CAAP,CAA/C,CAAtF;AACH,CAHD;AAIA,IAAI+Q,uBAAuB,UAAUC,iBAAV,EAA6B;AACpD,QAAIA,sBAAsB,KAAK,CAA/B,EAAkC;AAC9BA,4BAAoBrC,IAApB;AACH;AACD,WAAO,UAAUsC,QAAV,EAAoB1D,MAApB,EAA4B;AAC/B,eAAO,UAAUnW,CAAV,EAAa;AAChB,gBAAI8Z,eAAe3D,SAASnW,CAA5B;AACA,gBAAI+Z,6BAA6B,CAACF,QAAD,IAAa,IAAID,kBAAkB7X,KAAKgT,GAAL,CAAS+E,YAAT,CAAlB,CAAjB,CAAjC;AACA,mBAAOA,gBAAgB,CAAhB,GAAoB3D,SAAS4D,0BAA7B,GAA0D5D,SAAS4D,0BAA1E;AACH,SAJD;AAKH,KAND;AAOH,CAXD;AAYA,IAAIC,eAAe,aAAaL,sBAAhC;AACA,IAAIM,kBAAkB,aAAaN,qBAAqB5X,KAAK4T,IAA1B,CAAnC;AACA,IAAIhb,OAAO,UAAUmJ,GAAV,EAAe9B,GAAf,EAAoB;AAC3B,WAAO,UAAUhC,CAAV,EAAa;AAChB,YAAIka,YAAYlY,MAAM8B,GAAtB;AACA,eAAO,CAAC,CAAC9D,IAAI8D,GAAL,IAAYoW,SAAZ,GAAwBA,SAAzB,IAAsCA,SAAtC,GAAkDpW,GAAzD;AACH,KAHD;AAIH,CALD;AAMA,IAAIqW,WAAW,UAAUC,QAAV,EAAoB;AAC/B,QAAIA,aAAa,KAAK,CAAtB,EAAyB;AACrBA,mBAAW,EAAX;AACH;AACD,QAAIC,gBAAgB,CAApB;AACA,QAAIC,cAAc,CAAlB;AACA,WAAO,UAAUta,CAAV,EAAa;AAChB,YAAIsD,oBAAoB,kCAAxB;AACA,YAAIiX,YAAYjX,sBAAsBgX,WAAtB,GAAoChX,oBAAoBgX,WAAxD,GAAsE,CAAtF;AACA,YAAI9D,WAAW+D,YAAYhE,OAAOvW,CAAP,EAAUqa,aAAV,EAAyBE,SAAzB,EAAoCH,QAApC,CAAZ,GAA4DC,aAA3E;AACAC,sBAAchX,iBAAd;AACA+W,wBAAgB7D,QAAhB;AACA,eAAOA,QAAP;AACH,KAPD;AAQH,CAdD;AAeA,IAAIgE,OAAO,UAAUC,MAAV,EAAkB;AACzB,QAAI,OAAOA,MAAP,KAAkB,QAAtB,EAAgC;AAC5B,eAAO,UAAUza,CAAV,EAAa;AAChB,mBAAO+B,KAAKoF,KAAL,CAAWnH,IAAIya,MAAf,IAAyBA,MAAhC;AACH,SAFD;AAGH,KAJD,MAIO;AACH,YAAIC,MAAM,CAAV;AACA,YAAIC,cAAcF,OAAOhnB,MAAzB;AACA,eAAO,UAAUuM,CAAV,EAAa;AAChB,gBAAI4a,eAAe7Y,KAAKgT,GAAL,CAAS0F,OAAO,CAAP,IAAYza,CAArB,CAAnB;AACA,iBAAK0a,MAAM,CAAX,EAAcA,MAAMC,WAApB,EAAiCD,KAAjC,EAAwC;AACpC,oBAAInG,QAAQkG,OAAOC,GAAP,CAAZ;AACA,oBAAIG,cAAc9Y,KAAKgT,GAAL,CAASR,QAAQvU,CAAjB,CAAlB;AACA,oBAAI6a,gBAAgB,CAApB,EAAuB,OAAOtG,KAAP;AACvB,oBAAIsG,cAAcD,YAAlB,EAAgC,OAAOH,OAAOC,MAAM,CAAb,CAAP;AAChC,oBAAIA,QAAQC,cAAc,CAA1B,EAA6B,OAAOpG,KAAP;AAC7BqG,+BAAeC,WAAf;AACH;AACJ,SAVD;AAWH;AACJ,CApBD;AAqBA,IAAI5D,QAAQ,UAAU6D,EAAV,EAAchX,GAAd,EAAmB9B,GAAnB,EAAwB;AAChC,QAAI8B,QAAQ,KAAK,CAAjB,EAAoB;AAChBA,cAAM,CAAN;AACH;AACD,QAAI9B,QAAQ,KAAK,CAAjB,EAAoB;AAChBA,cAAM,CAAN;AACH;AACD,WAAO,UAAUhC,CAAV,EAAa;AAChB,YAAIiW,WAAWL,qBAAqB9R,GAArB,EAA0B9B,GAA1B,EAA+BhC,CAA/B,CAAf;AACA,eAAOgW,qBAAqBlS,GAArB,EAA0B9B,GAA1B,EAA+BgV,aAAa8D,EAAb,EAAiB7E,QAAjB,CAA/B,CAAP;AACH,KAHD;AAIH,CAXD;AAYA,IAAI8E,eAAe,UAAUC,iBAAV,EAA6B;AAC5C,WAAO,UAAUhb,CAAV,EAAa;AAChB,YAAI4I,SAAS,qBAAS,EAAT,EAAa5I,CAAb,CAAb;AACA,aAAK,IAAIjM,GAAT,IAAgBinB,iBAAhB,EAAmC;AAC/B,gBAAIA,kBAAkBle,cAAlB,CAAiC/I,GAAjC,CAAJ,EAA2C;AACvC,oBAAIknB,mBAAmBD,kBAAkBjnB,GAAlB,CAAvB;AACA6U,uBAAO7U,GAAP,IAAcknB,iBAAiBjb,EAAEjM,GAAF,CAAjB,CAAd;AACH;AACJ;AACD,eAAO6U,MAAP;AACH,KATD;AAUH,CAXD;;AAaA,IAAI+P,eAAe,aAAalc,OAAO6a,MAAP,CAAc;AAC1CE,gBAAYA,UAD8B;AAE1CC,iBAAaA,WAF6B;AAG1CO,gBAAYA,UAH8B;AAI1CK,gBAAYA,UAJ8B;AAK1C5T,WAAOA,KALmC;AAM1CiU,UAAMA,IANoC;AAO1CG,iBAAaA,WAP6B;AAQ1Ca,iBAAaA,WAR6B;AAS1CC,0BAAsBA,oBAToB;AAU1CK,kBAAcA,YAV4B;AAW1CC,qBAAiBA,eAXyB;AAY1Ctf,UAAMA,IAZoC;AAa1C4b,YAAQ4D,QAbkC;AAc1CK,UAAMA,IAdoC;AAe1CvD,WAAOA,KAfmC;AAgB1C8D,kBAAcA;AAhB4B,CAAd,CAAhC;;AAmBA,IAAIG,YAAY,aAAa,YAAY;AACrC,aAASA,SAAT,CAAmBtR,KAAnB,EAA0B;AACtB,YAAIA,UAAU,KAAK,CAAnB,EAAsB;AAClBA,oBAAQ,EAAR;AACH;AACD,aAAKA,KAAL,GAAaA,KAAb;AACH;AACDsR,cAAUje,SAAV,CAAoBke,eAApB,GAAsC,UAAUC,UAAV,EAAsB;AACxD,eAAO,KAAKle,MAAL,CAAY,qBAAS,EAAT,EAAa,KAAK0M,KAAlB,EAAyB,EAAEwR,YAAY,KAAKxR,KAAL,CAAWwR,UAAX,GAAwB,CAACA,UAAD,EAAa7kB,MAAb,CAAoB,KAAKqT,KAAL,CAAWwR,UAA/B,CAAxB,GAAqE,CAACA,UAAD,CAAnF,EAAzB,CAAZ,CAAP;AACH,KAFD;AAGAF,cAAUje,SAAV,CAAoByb,IAApB,GAA2B,YAAY;AACnC,YAAI2C,QAAQ,EAAZ;AACA,aAAK,IAAIzC,KAAK,CAAd,EAAiBA,KAAKllB,UAAUD,MAAhC,EAAwCmlB,IAAxC,EAA8C;AAC1CyC,kBAAMzC,EAAN,IAAYllB,UAAUklB,EAAV,CAAZ;AACH;AACD,YAAI0C,cAAcD,MAAM5nB,MAAN,KAAiB,CAAjB,GAAqB4nB,MAAM,CAAN,CAArB,GAAgC3C,KAAKlb,KAAL,CAAW,KAAK,CAAhB,EAAmB6d,KAAnB,CAAlD;AACA,eAAO,KAAKF,eAAL,CAAqB,UAAUI,MAAV,EAAkB;AAC1C,mBAAO,UAAUvb,CAAV,EAAa;AAChB,uBAAOub,OAAOD,YAAYtb,CAAZ,CAAP,CAAP;AACH,aAFD;AAGH,SAJM,CAAP;AAKH,KAXD;AAYAkb,cAAUje,SAAV,CAAoBue,KAApB,GAA4B,UAAUC,SAAV,EAAqB;AAC7C,eAAO,KAAKN,eAAL,CAAqB,UAAUI,MAAV,EAAkBG,QAAlB,EAA4B;AACpD,mBAAO,UAAU1b,CAAV,EAAa;AAChB,uBAAOyb,UAAUzb,CAAV,IAAeub,OAAOvb,CAAP,CAAf,GAA2B0b,UAAlC;AACH,aAFD;AAGH,SAJM,CAAP;AAKH,KAND;AAOAR,cAAUje,SAAV,CAAoBxD,MAApB,GAA6B,UAAUgiB,SAAV,EAAqB;AAC9C,eAAO,KAAKN,eAAL,CAAqB,UAAUI,MAAV,EAAkBG,QAAlB,EAA4B;AACpD,mBAAO,UAAU1b,CAAV,EAAa;AAChB,uBAAOyb,UAAUzb,CAAV,KAAgBub,OAAOvb,CAAP,CAAvB;AACH,aAFD;AAGH,SAJM,CAAP;AAKH,KAND;AAOA,WAAOkb,SAAP;AACH,CArC4B,EAA7B;;AAuCA,IAAIS,WAAW,aAAa,YAAY;AACpC,aAASA,QAAT,CAAkBhZ,EAAlB,EAAsBiZ,QAAtB,EAAgC;AAC5B,YAAIR,aAAazY,GAAGyY,UAApB;AAAA,YACIS,aAAalZ,GAAGkZ,UADpB;AAEA,YAAIC,QAAQ,IAAZ;AACA,aAAKC,QAAL,GAAgB,IAAhB;AACA,aAAKR,MAAL,GAAc,UAAUvb,CAAV,EAAa;AACvB,gBAAI8b,MAAMF,QAAN,CAAeL,MAAnB,EAA2BO,MAAME,cAAN,CAAqBhc,CAArB;AAC9B,SAFD;AAGA,aAAK0b,QAAL,GAAgB,YAAY;AACxB,gBAAII,MAAMF,QAAN,CAAeF,QAAf,IAA2BI,MAAMC,QAArC,EAA+CD,MAAMF,QAAN,CAAeF,QAAf;AAC/C,gBAAII,MAAMD,UAAV,EAAsBC,MAAMD,UAAN;AACtBC,kBAAMC,QAAN,GAAiB,KAAjB;AACH,SAJD;AAKA,aAAKxb,KAAL,GAAa,UAAU0b,GAAV,EAAe;AACxB,gBAAIH,MAAMF,QAAN,CAAerb,KAAf,IAAwBub,MAAMC,QAAlC,EAA4CD,MAAMF,QAAN,CAAerb,KAAf,CAAqB0b,GAArB;AAC5CH,kBAAMC,QAAN,GAAiB,KAAjB;AACH,SAHD;AAIA,aAAKH,QAAL,GAAgBA,QAAhB;AACA,aAAKI,cAAL,GAAsB,UAAUhc,CAAV,EAAa;AAC/B,mBAAO4b,SAASL,MAAT,CAAgBvb,CAAhB,CAAP;AACH,SAFD;AAGA,aAAK6b,UAAL,GAAkBA,UAAlB;AACA,YAAID,SAASL,MAAT,IAAmBH,UAAnB,IAAiCA,WAAW3nB,MAAhD,EAAwD;AACpD2nB,uBAAW1gB,OAAX,CAAmB,UAAUyF,CAAV,EAAa;AAC5B,uBAAO2b,MAAME,cAAN,GAAuB7b,EAAE2b,MAAME,cAAR,EAAwBF,MAAMJ,QAA9B,CAA9B;AACH,aAFD;AAGH;AACJ;AACD,WAAOC,QAAP;AACH,CA9B2B,EAA5B;AA+BA,IAAIO,iBAAiB,UAAUC,iBAAV,EAA6BxZ,EAA7B,EAAiCkZ,UAAjC,EAA6C;AAC9D,QAAIT,aAAazY,GAAGyY,UAApB;AACA,QAAI,OAAOe,iBAAP,KAA6B,UAAjC,EAA6C;AACzC,eAAO,IAAIR,QAAJ,CAAa,EAAEP,YAAYA,UAAd,EAA0BS,YAAYA,UAAtC,EAAb,EAAiE,EAAEN,QAAQY,iBAAV,EAAjE,CAAP;AACH,KAFD,MAEO;AACH,eAAO,IAAIR,QAAJ,CAAa,EAAEP,YAAYA,UAAd,EAA0BS,YAAYA,UAAtC,EAAb,EAAiEM,iBAAjE,CAAP;AACH;AACJ,CAPD;;AASA,IAAIC,SAAS,aAAa,UAAUC,MAAV,EAAkB;AACxC,0BAAUD,MAAV,EAAkBC,MAAlB;AACA,aAASD,MAAT,GAAkB;AACd,eAAOC,WAAW,IAAX,IAAmBA,OAAO7e,KAAP,CAAa,IAAb,EAAmB9J,SAAnB,CAAnB,IAAoD,IAA3D;AACH;AACD0oB,WAAOnf,SAAP,CAAiBC,MAAjB,GAA0B,UAAU0M,KAAV,EAAiB;AACvC,eAAO,IAAIwS,MAAJ,CAAWxS,KAAX,CAAP;AACH,KAFD;AAGAwS,WAAOnf,SAAP,CAAiBqf,KAAjB,GAAyB,UAAUH,iBAAV,EAA6B;AAClD,YAAIA,sBAAsB,KAAK,CAA/B,EAAkC;AAC9BA,gCAAoB,EAApB;AACH;AACD,YAAII,aAAa,KAAjB;AACA,YAAIC,eAAe;AACfC,kBAAM,YAAY;AACd,uBAAOlb,SAAP;AACH;AAHc,SAAnB;AAKA,YAAIoB,KAAK,KAAKiH,KAAd;AAAA,YACI8S,OAAO/Z,GAAG+Z,IADd;AAAA,YAEIC,gBAAgB,mBAAOha,EAAP,EAAW,CAAC,MAAD,CAAX,CAFpB;AAGA,YAAIiZ,WAAWM,eAAeC,iBAAf,EAAkCQ,aAAlC,EAAiD,YAAY;AACxEJ,yBAAa,IAAb;AACAC,yBAAaC,IAAb;AACH,SAHc,CAAf;AAIA,YAAIG,MAAMF,KAAKd,QAAL,CAAV;AACAY,uBAAeI,MAAM,qBAAS,EAAT,EAAaJ,YAAb,EAA2BI,GAA3B,CAAN,GAAwCJ,YAAvD;AACA,YAAIL,kBAAkBU,cAAtB,EAAsC;AAClCV,8BAAkBU,cAAlB,CAAiCL,YAAjC;AACH;AACD,YAAID,UAAJ,EAAgBC,aAAaC,IAAb;AAChB,eAAOD,YAAP;AACH,KAxBD;AAyBA,WAAOJ,MAAP;AACH,CAlCyB,CAkCxBlB,SAlCwB,CAA1B;AAmCA,IAAI/kB,SAAS,UAAUumB,IAAV,EAAgB;AACzB,WAAO,IAAIN,MAAJ,CAAW,EAAEM,MAAMA,IAAR,EAAX,CAAP;AACH,CAFD;;AAIA,IAAII,gBAAgB,aAAa,UAAUT,MAAV,EAAkB;AAC/C,0BAAUS,aAAV,EAAyBT,MAAzB;AACA,aAASS,aAAT,GAAyB;AACrB,YAAIhB,QAAQO,WAAW,IAAX,IAAmBA,OAAO7e,KAAP,CAAa,IAAb,EAAmB9J,SAAnB,CAAnB,IAAoD,IAAhE;AACAooB,cAAMiB,WAAN,GAAoB,EAApB;AACA,eAAOjB,KAAP;AACH;AACDgB,kBAAc7f,SAAd,CAAwBye,QAAxB,GAAmC,YAAY;AAC3C,aAAKqB,WAAL,CAAiBriB,OAAjB,CAAyB,UAAUsiB,UAAV,EAAsB;AAC3C,mBAAOA,WAAWtB,QAAX,EAAP;AACH,SAFD;AAGH,KAJD;AAKAoB,kBAAc7f,SAAd,CAAwBsD,KAAxB,GAAgC,UAAU0b,GAAV,EAAe;AAC3C,aAAKc,WAAL,CAAiBriB,OAAjB,CAAyB,UAAUsiB,UAAV,EAAsB;AAC3C,mBAAOA,WAAWzc,KAAX,CAAiB0b,GAAjB,CAAP;AACH,SAFD;AAGH,KAJD;AAKAa,kBAAc7f,SAAd,CAAwBse,MAAxB,GAAiC,UAAUvb,CAAV,EAAa;AAC1C,aAAK,IAAInK,IAAI,CAAb,EAAgBA,IAAI,KAAKknB,WAAL,CAAiBtpB,MAArC,EAA6CoC,GAA7C,EAAkD;AAC9C,iBAAKknB,WAAL,CAAiBlnB,CAAjB,EAAoB0lB,MAApB,CAA2Bvb,CAA3B;AACH;AACJ,KAJD;AAKA8c,kBAAc7f,SAAd,CAAwBggB,SAAxB,GAAoC,UAAUd,iBAAV,EAA6B;AAC7D,YAAIL,QAAQ,IAAZ;AACA,YAAIF,WAAWM,eAAeC,iBAAf,EAAkC,KAAKvS,KAAvC,CAAf;AACA,aAAKmT,WAAL,CAAiBppB,IAAjB,CAAsBioB,QAAtB;AACA,YAAIY,eAAe;AACfU,yBAAa,YAAY;AACrB,oBAAInJ,QAAQ+H,MAAMiB,WAAN,CAAkBrf,OAAlB,CAA0Bke,QAA1B,CAAZ;AACA,oBAAI7H,UAAU,CAAC,CAAf,EAAkB+H,MAAMiB,WAAN,CAAkBta,MAAlB,CAAyBsR,KAAzB,EAAgC,CAAhC;AACrB;AAJc,SAAnB;AAMA,eAAOyI,YAAP;AACH,KAXD;AAYAM,kBAAc7f,SAAd,CAAwBwf,IAAxB,GAA+B,YAAY;AACvC,YAAI,KAAKrkB,MAAT,EAAiB,KAAKA,MAAL,CAAYqkB,IAAZ;AACpB,KAFD;AAGAK,kBAAc7f,SAAd,CAAwB4f,cAAxB,GAAyC,UAAUL,YAAV,EAAwB;AAC7D,aAAKC,IAAL;AACA,aAAKrkB,MAAL,GAAcokB,YAAd;AACH,KAHD;AAIA,WAAOM,aAAP;AACH,CA1CgC,CA0C/B5B,SA1C+B,CAAjC;;AA4CA,IAAIiC,YAAY,aAAa,UAAUd,MAAV,EAAkB;AAC3C,0BAAUc,SAAV,EAAqBd,MAArB;AACA,aAASc,SAAT,GAAqB;AACjB,eAAOd,WAAW,IAAX,IAAmBA,OAAO7e,KAAP,CAAa,IAAb,EAAmB9J,SAAnB,CAAnB,IAAoD,IAA3D;AACH;AACDypB,cAAUlgB,SAAV,CAAoBC,MAApB,GAA6B,UAAU0M,KAAV,EAAiB;AAC1C,eAAO,IAAIuT,SAAJ,CAAcvT,KAAd,CAAP;AACH,KAFD;AAGA,WAAOuT,SAAP;AACH,CAT4B,CAS3BL,aAT2B,CAA7B;AAUA,IAAIM,YAAY,YAAY;AACxB,WAAO,IAAID,SAAJ,EAAP;AACH,CAFD;;AAIA,IAAIE,cAAc,UAAUrd,CAAV,EAAa;AAC3B,WAAOpD,MAAM0gB,OAAN,CAActd,CAAd,CAAP;AACH,CAFD;AAGA,IAAIud,gBAAgB,UAAUvd,CAAV,EAAa;AAC7B,QAAIwd,UAAU,OAAOxd,CAArB;AACA,WAAOwd,YAAY,QAAZ,IAAwBA,YAAY,QAA3C;AACH,CAHD;AAIA,IAAIC,gBAAgB,aAAa,UAAUpB,MAAV,EAAkB;AAC/C,0BAAUoB,aAAV,EAAyBpB,MAAzB;AACA,aAASoB,aAAT,CAAuB7T,KAAvB,EAA8B;AAC1B,YAAIkS,QAAQO,OAAOnnB,IAAP,CAAY,IAAZ,EAAkB0U,KAAlB,KAA4B,IAAxC;AACAkS,cAAM4B,qBAAN,GAA8B,YAAY;AACtC,mBAAO,2BAAW5B,MAAM6B,aAAjB,CAAP;AACH,SAFD;AAGA7B,cAAM6B,aAAN,GAAsB,YAAY;AAC9B,gBAAI,uCAAuB7B,MAAMxB,WAAjC,EAA8C;AAC1CwB,sBAAM8B,IAAN,GAAa9B,MAAM+B,OAAnB;AACH;AACJ,SAJD;AAKA/B,cAAM8B,IAAN,GAAa9B,MAAM+B,OAAN,GAAgBjU,MAAM5T,KAAN,IAAe,CAA5C;AACA,YAAIunB,cAAczB,MAAM+B,OAApB,CAAJ,EAAkC;AAC9B/B,kBAAMgC,aAAN,GAAsB,UAAU9d,CAAV,EAAa;AAC/B,uBAAO8b,MAAM+B,OAAN,GAAgB7d,CAAvB;AACH,aAFD;AAGA8b,kBAAMiC,oBAAN,GAA6B,YAAY;AACrC,uBAAOjC,MAAMkC,iBAAN,CAAwBlC,MAAM+B,OAA9B,EAAuC/B,MAAM8B,IAA7C,CAAP;AACH,aAFD;AAGH,SAPD,MAOO,IAAIP,YAAYvB,MAAM+B,OAAlB,CAAJ,EAAgC;AACnC/B,kBAAMgC,aAAN,GAAsB,UAAU9d,CAAV,EAAa;AAC/B,uBAAO8b,MAAM+B,OAAN,GAAgB7d,EAAE/J,KAAF,EAAvB;AACH,aAFD;AAGA6lB,kBAAMiC,oBAAN,GAA6B,YAAY;AACrC,uBAAOjC,MAAMmC,eAAN,EAAP;AACH,aAFD;AAGH,SAPM,MAOA;AACHnC,kBAAMgC,aAAN,GAAsB,UAAU9d,CAAV,EAAa;AAC/B8b,sBAAM+B,OAAN,GAAgB,EAAhB;AACA,qBAAK,IAAI9pB,GAAT,IAAgBiM,CAAhB,EAAmB;AACf,wBAAIA,EAAElD,cAAF,CAAiB/I,GAAjB,CAAJ,EAA2B;AACvB+nB,8BAAM+B,OAAN,CAAc9pB,GAAd,IAAqBiM,EAAEjM,GAAF,CAArB;AACH;AACJ;AACJ,aAPD;AAQA+nB,kBAAMiC,oBAAN,GAA6B,YAAY;AACrC,uBAAOjC,MAAMoC,cAAN,EAAP;AACH,aAFD;AAGH;AACD,YAAItU,MAAMuU,mBAAV,EAA+BrC,MAAMmB,SAAN,CAAgBrT,MAAMuU,mBAAtB;AAC/B,eAAOrC,KAAP;AACH;AACD2B,kBAAcxgB,SAAd,CAAwBC,MAAxB,GAAiC,UAAU0M,KAAV,EAAiB;AAC9C,eAAO,IAAI6T,aAAJ,CAAkB7T,KAAlB,CAAP;AACH,KAFD;AAGA6T,kBAAcxgB,SAAd,CAAwBkN,GAAxB,GAA8B,YAAY;AACtC,eAAO,KAAK0T,OAAZ;AACH,KAFD;AAGAJ,kBAAcxgB,SAAd,CAAwBmhB,WAAxB,GAAsC,YAAY;AAC9C,eAAO,KAAKL,oBAAL,EAAP;AACH,KAFD;AAGAN,kBAAcxgB,SAAd,CAAwBse,MAAxB,GAAiC,UAAUvb,CAAV,EAAa;AAC1Cqc,eAAOpf,SAAP,CAAiBse,MAAjB,CAAwBrmB,IAAxB,CAA6B,IAA7B,EAAmC8K,CAAnC;AACA,aAAK4d,IAAL,GAAY,KAAKC,OAAjB;AACA,aAAKC,aAAL,CAAmB9d,CAAnB;AACA,aAAKua,SAAL,GAAiB,oCAAjB;AACA,aAAKD,WAAL,GAAmB,kCAAnB;AACA,mCAAW,KAAKoD,qBAAhB;AACH,KAPD;AAQAD,kBAAcxgB,SAAd,CAAwBggB,SAAxB,GAAoC,UAAUd,iBAAV,EAA6B;AAC7D,YAAIjhB,MAAMmhB,OAAOpf,SAAP,CAAiBggB,SAAjB,CAA2B/nB,IAA3B,CAAgC,IAAhC,EAAsCinB,iBAAtC,CAAV;AACA,aAAKZ,MAAL,CAAY,KAAKsC,OAAjB;AACA,eAAO3iB,GAAP;AACH,KAJD;AAKAuiB,kBAAcxgB,SAAd,CAAwB+gB,iBAAxB,GAA4C,UAAUH,OAAV,EAAmBD,IAAnB,EAAyB;AACjE,eAAO,OAAOC,OAAP,KAAmB,QAAnB,IAA+B,OAAOD,IAAP,KAAgB,QAA/C,GAA0D9G,eAAe+G,UAAUD,IAAzB,EAA+B,KAAKrD,SAApC,CAA1D,GAA2GzD,eAAe3R,WAAW0Y,OAAX,IAAsB1Y,WAAWyY,IAAX,CAArC,EAAuD,KAAKrD,SAA5D,KAA0E,CAA5L;AACH,KAFD;AAGAkD,kBAAcxgB,SAAd,CAAwBghB,eAAxB,GAA0C,YAAY;AAClD,YAAInC,QAAQ,IAAZ;AACA,eAAO,KAAK+B,OAAL,CAAazpB,GAAb,CAAiB,UAAU0J,CAAV,EAAajI,CAAb,EAAgB;AACpC,mBAAOimB,MAAMkC,iBAAN,CAAwBlgB,CAAxB,EAA2Bge,MAAM8B,IAAN,CAAW/nB,CAAX,CAA3B,CAAP;AACH,SAFM,CAAP;AAGH,KALD;AAMA4nB,kBAAcxgB,SAAd,CAAwBihB,cAAxB,GAAyC,YAAY;AACjD,YAAInH,WAAW,EAAf;AACA,aAAK,IAAIhjB,GAAT,IAAgB,KAAK8pB,OAArB,EAA8B;AAC1B,gBAAI,KAAKA,OAAL,CAAa/gB,cAAb,CAA4B/I,GAA5B,CAAJ,EAAsC;AAClCgjB,yBAAShjB,GAAT,IAAgB,KAAKiqB,iBAAL,CAAuB,KAAKH,OAAL,CAAa9pB,GAAb,CAAvB,EAA0C,KAAK6pB,IAAL,CAAU7pB,GAAV,CAA1C,CAAhB;AACH;AACJ;AACD,eAAOgjB,QAAP;AACH,KARD;AASA,WAAO0G,aAAP;AACH,CApFgC,CAoF/BX,aApF+B,CAAjC;AAqFA,IAAI9mB,QAAQ,UAAUA,KAAV,EAAiBmoB,mBAAjB,EAAsC;AAC9C,WAAO,IAAIV,aAAJ,CAAkB,EAAEznB,OAAOA,KAAT,EAAgBmoB,qBAAqBA,mBAArC,EAAlB,CAAP;AACH,CAFD;;AAIA,IAAIE,QAAQ,UAAU1b,EAAV,EAAc;AACtB,QAAI2b,WAAW3b,GAAG2b,QAAlB;AAAA,QACIC,WAAW5b,GAAG4b,QADlB;AAAA,QAEIC,YAAY7b,GAAG6b,SAFnB;AAAA,QAGIC,SAAS9b,GAAG8b,MAHhB;AAAA,QAIIC,UAAU/b,GAAG+b,OAJjB;AAAA,QAKIC,eAAehc,GAAGgc,YALtB;AAMA,WAAO,UAAU1qB,OAAV,EAAmB;AACtB,eAAOkC,OAAO,UAAUwM,EAAV,EAAc;AACxB,gBAAI4Y,SAAS5Y,GAAG4Y,MAAhB;AAAA,gBACIG,WAAW/Y,GAAG+Y,QADlB;AAAA,gBAEInb,QAAQoC,GAAGpC,KAFf;AAGA,gBAAIqe,aAAaN,SAASrqB,OAAT,CAAjB;AACA,gBAAI2U,SAAS4V,WAAb;AACA,gBAAIK,eAAe,YAAY;AAC3B,uBAAOtD,OAAO3S,MAAP,CAAP;AACH,aAFD;AAGA,gBAAIkW,sBAAsB,CAA1B;AACA,gBAAIC,OAAOJ,aAAa1qB,OAAb,EAAsB,UAAUyM,CAAV,EAAarN,IAAb,EAAmB;AAChD,oBAAI2rB,eAAe,KAAnB;AACA,uBAAOte,EAAE4b,KAAF,CAAQ;AACXZ,8BAAU,YAAY;AAClB,4BAAI,CAACsD,YAAL,EAAmB;AACfA,2CAAe,IAAf;AACAF;AACA,gCAAIA,wBAAwBF,UAA5B,EAAwC,8BAAclD,QAAd;AAC3C;AACJ,qBAPU;AAQXnb,2BAAOA,KARI;AASXgb,4BAAQ,UAAUvb,CAAV,EAAa;AACjB0e,gCAAQ9V,MAAR,EAAgBvV,IAAhB,EAAsB2M,CAAtB;AACA,sDAAc6e,YAAd,EAA4B,IAA5B;AACH;AAZU,iBAAR,CAAP;AAcH,aAhBU,CAAX;AAiBA,mBAAOpiB,OAAOqT,IAAP,CAAYyO,SAASQ,IAAT,CAAZ,EAA4BlT,MAA5B,CAAmC,UAAU+Q,GAAV,EAAeqC,UAAf,EAA2B;AACjErC,oBAAIqC,UAAJ,IAAkBR,OAAOM,IAAP,EAAaE,UAAb,CAAlB;AACA,uBAAOrC,GAAP;AACH,aAHM,EAGJ,EAHI,CAAP;AAIH,SA/BM,CAAP;AAgCH,KAjCD;AAkCH,CAzCD;;AA2CA,IAAIsC,YAAY,aAAab,MAAM;AAC/BG,eAAW,YAAY;AACnB,eAAO,EAAP;AACH,KAH8B;AAI/BF,cAAU,UAAUS,IAAV,EAAgB;AACtB,eAAOtiB,OAAOqT,IAAP,CAAYiP,IAAZ,EAAkBtrB,MAAzB;AACH,KAN8B;AAO/B8qB,cAAU,UAAUQ,IAAV,EAAgB;AACtB,eAAOA,KAAKtiB,OAAOqT,IAAP,CAAYiP,IAAZ,EAAkB,CAAlB,CAAL,CAAP;AACH,KAT8B;AAU/BN,YAAQ,UAAUM,IAAV,EAAgBE,UAAhB,EAA4B;AAChC,eAAO,YAAY;AACf,gBAAIE,OAAO,EAAX;AACA,iBAAK,IAAIvG,KAAK,CAAd,EAAiBA,KAAKllB,UAAUD,MAAhC,EAAwCmlB,IAAxC,EAA8C;AAC1CuG,qBAAKvG,EAAL,IAAWllB,UAAUklB,EAAV,CAAX;AACH;AACD,mBAAOnc,OAAOqT,IAAP,CAAYiP,IAAZ,EAAkBlT,MAAlB,CAAyB,UAAUjD,MAAV,EAAkBwW,OAAlB,EAA2B;AACvD,oBAAIL,KAAKK,OAAL,EAAcH,UAAd,CAAJ,EAA+B;AAC3BE,yBAAK,CAAL,KAAWA,KAAK,CAAL,EAAQC,OAAR,MAAqB7d,SAAhC,GAA4CqH,OAAOwW,OAAP,IAAkBL,KAAKK,OAAL,EAAcH,UAAd,EAA0BE,KAAK,CAAL,EAAQC,OAAR,CAA1B,CAA9D,GAA4GxW,OAAOwW,OAAP,IAAkB,CAACzc,KAAKoc,KAAKK,OAAL,CAAN,EAAqBH,UAArB,EAAiCzhB,KAAjC,CAAuCmF,EAAvC,EAA2Cwc,IAA3C,CAA9H;AACH;AACD,uBAAOvW,MAAP;AACA,oBAAIjG,EAAJ;AACH,aANM,EAMJ,EANI,CAAP;AAOH,SAZD;AAaH,KAxB8B;AAyB/B+b,aAAS,UAAU9V,MAAV,EAAkBvV,IAAlB,EAAwB2M,CAAxB,EAA2B;AAChC,eAAO4I,OAAOvV,IAAP,IAAe2M,CAAtB;AACH,KA3B8B;AA4B/B2e,kBAAc,UAAU1qB,OAAV,EAAmBorB,OAAnB,EAA4B;AACtC,eAAO5iB,OAAOqT,IAAP,CAAY7b,OAAZ,EAAqB4X,MAArB,CAA4B,UAAUkT,IAAV,EAAgBhrB,GAAhB,EAAqB;AACpDgrB,iBAAKhrB,GAAL,IAAYsrB,QAAQprB,QAAQF,GAAR,CAAR,EAAsBA,GAAtB,CAAZ;AACA,mBAAOgrB,IAAP;AACH,SAHM,EAGJ,EAHI,CAAP;AAIH;AAjC8B,CAAN,CAA7B;;AAoCA,IAAIO,WAAW,aAAajB,MAAM;AAC9BG,eAAW,YAAY;AACnB,eAAO,EAAP;AACH,KAH6B;AAI9BF,cAAU,UAAUS,IAAV,EAAgB;AACtB,eAAOA,KAAKtrB,MAAZ;AACH,KAN6B;AAO9B8qB,cAAU,UAAUQ,IAAV,EAAgB;AACtB,eAAOA,KAAK,CAAL,CAAP;AACH,KAT6B;AAU9BN,YAAQ,UAAUM,IAAV,EAAgBE,UAAhB,EAA4B;AAChC,eAAO,YAAY;AACf,gBAAIE,OAAO,EAAX;AACA,iBAAK,IAAIvG,KAAK,CAAd,EAAiBA,KAAKllB,UAAUD,MAAhC,EAAwCmlB,IAAxC,EAA8C;AAC1CuG,qBAAKvG,EAAL,IAAWllB,UAAUklB,EAAV,CAAX;AACH;AACD,mBAAOmG,KAAK3qB,GAAL,CAAS,UAAU8G,GAAV,EAAerF,CAAf,EAAkB;AAC9B,oBAAIqF,IAAI+jB,UAAJ,CAAJ,EAAqB;AACjB,2BAAOriB,MAAM0gB,OAAN,CAAc6B,KAAK,CAAL,CAAd,IAAyBjkB,IAAI+jB,UAAJ,EAAgBE,KAAK,CAAL,EAAQtpB,CAAR,CAAhB,CAAzB,GAAuDqF,IAAI+jB,UAAJ,EAAgBzhB,KAAhB,CAAsBtC,GAAtB,EAA2BikB,IAA3B,CAA9D;AACH;AACJ,aAJM,CAAP;AAKH,SAVD;AAWH,KAtB6B;AAuB9BT,aAAS,UAAU9V,MAAV,EAAkBvV,IAAlB,EAAwB2M,CAAxB,EAA2B;AAChC,eAAO4I,OAAOvV,IAAP,IAAe2M,CAAtB;AACH,KAzB6B;AA0B9B2e,kBAAc,UAAU1qB,OAAV,EAAmBorB,OAAnB,EAA4B;AACtC,eAAOprB,QAAQG,GAAR,CAAY,UAAU+B,MAAV,EAAkBN,CAAlB,EAAqB;AACpC,mBAAOwpB,QAAQlpB,MAAR,EAAgBN,CAAhB,CAAP;AACH,SAFM,CAAP;AAGH;AA9B6B,CAAN,CAA5B;AAgCA,IAAI0pB,aAAa,YAAY;AACzB,QAAItrB,UAAU,EAAd;AACA,SAAK,IAAI2kB,KAAK,CAAd,EAAiBA,KAAKllB,UAAUD,MAAhC,EAAwCmlB,IAAxC,EAA8C;AAC1C3kB,gBAAQ2kB,EAAR,IAAcllB,UAAUklB,EAAV,CAAd;AACH;AACD,WAAO0G,SAASrrB,OAAT,CAAP;AACH,CAND;;AAQA,IAAIurB,oBAAoB,UAAUC,SAAV,EAAqB;AACzC,QAAIC,YAAYjjB,OAAOqT,IAAP,CAAY2P,SAAZ,CAAhB;AACA,QAAIE,eAAe,UAAU1kB,IAAV,EAAgBlH,GAAhB,EAAqB;AACpC,eAAOkH,SAASsG,SAAT,IAAsB,CAACke,UAAU1rB,GAAV,EAAekH,IAAf,CAA9B;AACH,KAFD;AAGA,QAAI2kB,gBAAgB,UAAUhW,KAAV,EAAiB;AACjC,eAAO8V,UAAU7T,MAAV,CAAiB,UAAUgU,UAAV,EAAsB9rB,GAAtB,EAA2B;AAC/C,gBAAI4rB,aAAa/V,MAAM7V,GAAN,CAAb,EAAyBA,GAAzB,CAAJ,EAAmC8rB,WAAWlsB,IAAX,CAAgBI,GAAhB;AACnC,mBAAO8rB,UAAP;AACH,SAHM,EAGJ,EAHI,CAAP;AAIH,KALD;AAMA,QAAIC,kBAAkB,UAAUlW,KAAV,EAAiB;AACnC,eAAOA,SAAS8V,UAAU7T,MAAV,CAAiB,UAAUkU,QAAV,EAAoBhsB,GAApB,EAAyB;AACtD,mBAAOgsB,YAAYJ,aAAa/V,MAAM7V,GAAN,CAAb,EAAyBA,GAAzB,CAAnB;AACH,SAFe,EAEb,KAFa,CAAhB;AAGH,KAJD;AAKA,WAAO,EAAE6rB,eAAeA,aAAjB,EAAgCE,iBAAiBA,eAAjD,EAAP;AACH,CAjBD;AAkBA,IAAIE,YAAY,CAACpa,mBAAD,EAAKD,wBAAL,EAAcD,wBAAd,EAAuBG,mBAAvB,EAA2BC,mBAA3B,CAAhB;AACA,IAAIma,eAAe,UAAUhlB,IAAV,EAAgB;AAC/B,WAAO+kB,UAAUE,IAAV,CAAe,UAAUrpB,IAAV,EAAgB;AAClC,eAAOA,KAAKsE,IAAL,CAAUF,IAAV,CAAP;AACH,KAFM,CAAP;AAGH,CAJD;AAKA,IAAIklB,aAAa,UAAUllB,IAAV,EAAgB;AAC7B,WAAOvB,QAAQumB,aAAahlB,IAAb,CAAR,CAAP;AACH,CAFD;AAGA,IAAImlB,eAAe,UAAUjqB,MAAV,EAAkByT,KAAlB,EAAyB;AACxC,WAAOzT,OAAOyT,KAAP,CAAP;AACH,CAFD;AAGA,IAAIyW,mBAAmB,UAAUxqB,CAAV,EAAa;AAChC,WAAO,UAAU+T,KAAV,EAAiB7V,GAAjB,EAAsB;AACzB6V,cAAM7V,GAAN,IAAa6V,MAAM7V,GAAN,EAAW8B,CAAX,CAAb;AACA,eAAO+T,KAAP;AACH,KAHD;AAIH,CALD;AAMA,IAAI0W,oBAAoB,UAAUnqB,MAAV,EAAkByT,KAAlB,EAAyBiW,UAAzB,EAAqC;AACzD,QAAIU,iBAAiBV,WAAW,CAAX,CAArB;AACA,QAAIW,aAAa5W,MAAM2W,cAAN,EAAsBnsB,GAAtB,CAA0B,UAAU4L,CAAV,EAAanK,CAAb,EAAgB;AACvD,YAAI4qB,mBAAmBZ,WAAWhU,MAAX,CAAkBwU,iBAAiBxqB,CAAjB,CAAlB,EAAuC,qBAAS,EAAT,EAAa+T,KAAb,CAAvC,CAAvB;AACA,eAAO8W,iBAAiB1gB,CAAjB,EAAoB7J,MAApB,EAA4BsqB,gBAA5B,CAAP;AACH,KAHgB,CAAjB;AAIA,WAAOlB,WAAW/hB,KAAX,CAAiB,KAAK,CAAtB,EAAyBgjB,UAAzB,CAAP;AACH,CAPD;AAQA,IAAIG,oBAAoB,UAAU5sB,GAAV,EAAe;AACnC,WAAO,UAAU6V,KAAV,EAAiBwV,OAAjB,EAA0B;AAC7BxV,cAAMwV,OAAN,IAAiBxV,MAAMwV,OAAN,EAAerrB,GAAf,CAAjB;AACA,eAAO6V,KAAP;AACH,KAHD;AAIH,CALD;AAMA,IAAIgX,qBAAqB,UAAUzqB,MAAV,EAAkByT,KAAlB,EAAyBiW,UAAzB,EAAqC;AAC1D,QAAIU,iBAAiBV,WAAW,CAAX,CAArB;AACA,QAAIgB,YAAYpkB,OAAOqT,IAAP,CAAYlG,MAAM2W,cAAN,CAAZ,EAAmC1U,MAAnC,CAA0C,UAAUzX,GAAV,EAAeL,GAAf,EAAoB;AAC1E,YAAI0sB,mBAAmBZ,WAAWhU,MAAX,CAAkB8U,kBAAkB5sB,GAAlB,CAAlB,EAA0C,qBAAS,EAAT,EAAa6V,KAAb,CAA1C,CAAvB;AACAxV,YAAIL,GAAJ,IAAW2sB,iBAAiB9W,MAAM2W,cAAN,EAAsBxsB,GAAtB,CAAjB,EAA6CoC,MAA7C,EAAqDsqB,gBAArD,CAAX;AACA,eAAOrsB,GAAP;AACH,KAJe,EAIb,EAJa,CAAhB;AAKA,WAAO8qB,UAAU2B,SAAV,CAAP;AACH,CARD;AASA,IAAIC,mBAAmB,UAAU3qB,MAAV,EAAkBwM,EAAlB,EAAsB;AACzC,QAAIkT,OAAOlT,GAAGkT,IAAd;AAAA,QACIC,KAAKnT,GAAGmT,EADZ;AAAA,QAEIlM,QAAQ,mBAAOjH,EAAP,EAAW,CAAC,MAAD,EAAS,IAAT,CAAX,CAFZ;AAGA,QAAIoe,WAAWd,aAAapK,IAAb,KAAsBoK,aAAanK,EAAb,CAArC;AACA,QAAI1Q,YAAY2b,SAAS3b,SAAzB;AAAA,QACI3K,QAAQsmB,SAAStmB,KADrB;AAEA,WAAOtE,OAAO,qBAAS,EAAT,EAAayT,KAAb,EAAoB,EAAEiM,MAAM,OAAOA,IAAP,KAAgB,QAAhB,GAA2Bpb,MAAMob,IAAN,CAA3B,GAAyCA,IAAjD,EAAuDC,IAAI,OAAOA,EAAP,KAAc,QAAd,GAAyBrb,MAAMqb,EAAN,CAAzB,GAAqCA,EAAhG,EAApB,CAAP,EAAkI4C,IAAlI,CAAuItT,SAAvI,CAAP;AACH,CARD;AASA,IAAI4b,oBAAoB,UAAU7qB,MAAV,EAAkBwM,EAAlB,EAAsB;AAC1C,QAAIkT,OAAOlT,GAAGkT,IAAd;AAAA,QACIC,KAAKnT,GAAGmT,EADZ;AAAA,QAEIlM,QAAQ,mBAAOjH,EAAP,EAAW,CAAC,MAAD,EAAS,IAAT,CAAX,CAFZ;AAGA,WAAOxM,OAAO,qBAAS,EAAT,EAAayT,KAAb,EAAoB,EAAEiM,MAAM,CAAR,EAAWC,IAAI,CAAf,EAApB,CAAP,EAAgD4C,IAAhD,CAAqDV,WAAWnC,IAAX,EAAiBC,EAAjB,CAArD,EAA2EnO,uBAAMvC,SAAjF,CAAP;AACH,CALD;AAMA,IAAI6b,sBAAsB,UAAU9qB,MAAV,EAAkBwM,EAAlB,EAAsB;AAC5C,QAAIkT,OAAOlT,GAAGkT,IAAd;AAAA,QACIC,KAAKnT,GAAGmT,EADZ;AAAA,QAEIlM,QAAQ,mBAAOjH,EAAP,EAAW,CAAC,MAAD,EAAS,IAAT,CAAX,CAFZ;AAGA,QAAIue,gBAAgBlZ,yBAAQO,iBAAR,CAA0BsN,IAA1B,CAApB;AACA,8BAAUqL,cAAcrL,IAAd,MAAwB7N,yBAAQO,iBAAR,CAA0BuN,EAA1B,EAA8BD,IAA9B,CAAlC,EAAuE,aAAaA,IAAb,GAAoB,SAApB,GAAgCC,EAAhC,GAAqC,sEAA5G;AACA,WAAO3f,OAAO,qBAAS,EAAT,EAAayT,KAAb,EAAoB,EAAEiM,MAAM,CAAR,EAAWC,IAAI,CAAf,EAApB,CAAP,EAAgD4C,IAAhD,CAAqDL,WAAWrQ,yBAAQvN,KAAR,CAAcob,IAAd,CAAX,EAAgC7N,yBAAQvN,KAAR,CAAcqb,EAAd,CAAhC,CAArD,EAAyGoL,aAAzG,CAAP;AACH,CAPD;AAQA,IAAIC,qBAAqB,UAAUhrB,MAAV,EAAkBspB,SAAlB,EAA6B;AAClD,QAAI9c,KAAK6c,kBAAkBC,SAAlB,CAAT;AAAA,QACIK,kBAAkBnd,GAAGmd,eADzB;AAAA,QAEIF,gBAAgBjd,GAAGid,aAFvB;AAGA,QAAIwB,eAAe,UAAUxX,KAAV,EAAiB;AAChC,YAAImW,WAAWD,gBAAgBlW,KAAhB,CAAf;AACA,YAAI,CAACmW,QAAL,EAAe,OAAO5pB,OAAOyT,KAAP,CAAP;AACf,YAAIiW,aAAaD,cAAchW,KAAd,CAAjB;AACA,YAAIyX,UAAUxB,WAAW,CAAX,CAAd;AACA,YAAIyB,WAAW1X,MAAMyX,OAAN,CAAf;AACA,eAAOX,iBAAiBY,QAAjB,EAA2BnrB,MAA3B,EAAmCyT,KAAnC,EAA0CiW,UAA1C,CAAP;AACH,KAPD;AAQA,WAAOuB,YAAP;AACH,CAbD;AAcA,IAAIV,mBAAmB,UAAUzlB,IAAV,EAAgB;AACnC,QAAIsmB,gBAAgBnB,YAApB;AACA,QAAI,OAAOnlB,IAAP,KAAgB,QAApB,EAA8B;AAC1BsmB,wBAAgBnB,YAAhB;AACH,KAFD,MAEO,IAAIxjB,MAAM0gB,OAAN,CAAcriB,IAAd,CAAJ,EAAyB;AAC5BsmB,wBAAgBjB,iBAAhB;AACH,KAFM,MAEA,IAAIH,WAAWllB,IAAX,CAAJ,EAAsB;AACzBsmB,wBAAgBT,gBAAhB;AACH,KAFM,MAEA,IAAInZ,uBAAMxM,IAAN,CAAWF,IAAX,CAAJ,EAAsB;AACzBsmB,wBAAgBP,iBAAhB;AACH,KAFM,MAEA,IAAIhZ,yBAAQ7M,IAAR,CAAaF,IAAb,CAAJ,EAAwB;AAC3BsmB,wBAAgBN,mBAAhB;AACH,KAFM,MAEA,IAAI,OAAOhmB,IAAP,KAAgB,QAApB,EAA8B;AACjCsmB,wBAAgBX,kBAAhB;AACH;AACD,WAAOW,aAAP;AACH,CAhBD;;AAkBA,IAAIC,QAAQ,YAAY;AACpB,WAAOrrB,OAAO,UAAUwM,EAAV,EAAc;AACxB,YAAI4Y,SAAS5Y,GAAG4Y,MAAhB;AACA,YAAIQ,WAAW,IAAf;AACA,YAAI0F,YAAY,6BAAhB;AACA,YAAIC,YAAY,YAAY;AACxB,gBAAI,CAAC3F,QAAL,EAAe;AACfR,mBAAOxZ,KAAKC,GAAL,CAAS,qCAAqByf,SAA9B,EAAyC,CAAzC,CAAP;AACA,0CAAcC,SAAd;AACH,SAJD;AAKA,sCAAcA,SAAd;AACA,eAAO;AACHjF,kBAAM,YAAY;AACd,uBAAOV,WAAW,KAAlB;AACH;AAHE,SAAP;AAKH,KAfM,CAAP;AAgBH,CAjBD;;AAmBA,IAAI4F,QAAQ,UAAU/X,KAAV,EAAiB;AACzB,QAAIA,UAAU,KAAK,CAAnB,EAAsB;AAClBA,gBAAQ,EAAR;AACH;AACD,WAAOzT,OAAO,UAAUwM,EAAV,EAAc;AACxB,YAAI+Y,WAAW/Y,GAAG+Y,QAAlB;AAAA,YACIH,SAAS5Y,GAAG4Y,MADhB;AAEA,YAAI1U,KAAK+C,MAAMmN,QAAf;AAAA,YACIA,WAAWlQ,OAAO,KAAK,CAAZ,GAAgB,CAAhB,GAAoBA,EADnC;AAAA,YAEI6C,KAAKE,MAAMiM,IAFf;AAAA,YAGIA,OAAOnM,OAAO,KAAK,CAAZ,GAAgB,CAAhB,GAAoBA,EAH/B;AAAA,YAIIkY,KAAKhY,MAAMiY,KAJf;AAAA,YAKIA,QAAQD,OAAO,KAAK,CAAZ,GAAgB,GAAhB,GAAsBA,EALlC;AAAA,YAMIE,KAAKlY,MAAMmY,YANf;AAAA,YAOIA,eAAeD,OAAO,KAAK,CAAZ,GAAgB,GAAhB,GAAsBA,EAPzC;AAAA,YAQIE,KAAKpY,MAAMqY,SARf;AAAA,YASIA,YAAYD,OAAO,KAAK,CAAZ,GAAgB,GAAhB,GAAsBA,EATtC;AAAA,YAUIE,eAAetY,MAAMsY,YAVzB;AAWA,YAAI3e,UAAU,CAAd;AACA,YAAI4e,YAAYN,QAAQ9K,QAAxB;AACA,YAAIqL,cAAcrgB,KAAKoF,KAAL,CAAW0O,OAAOsM,SAAlB,CAAlB;AACA,YAAIzsB,SAAS,OAAOwsB,YAAP,KAAwB,WAAxB,GAAsCE,WAAtC,GAAoDF,aAAaE,WAAb,CAAjE;AACA,YAAIC,QAAQb,QAAQlF,KAAR,CAAc,YAAY;AAClC/Y,uBAAW,oCAAX;AACA,gBAAI+e,QAAQ,CAACH,SAAD,GAAapgB,KAAKwgB,GAAL,CAAS,CAAChf,OAAD,GAAWwe,YAApB,CAAzB;AACA,gBAAIS,WAAWF,QAAQL,SAAR,IAAqBK,QAAQ,CAACL,SAA7C;AACA,gBAAIpE,UAAU2E,WAAW9sB,SAAS4sB,KAApB,GAA4B5sB,MAA1C;AACA6lB,mBAAOsC,OAAP;AACA,gBAAI,CAAC2E,QAAL,EAAe;AACXH,sBAAM5F,IAAN;AACAf;AACH;AACJ,SAVW,CAAZ;AAWA,eAAO;AACHe,kBAAM,YAAY;AACd,uBAAO4F,MAAM5F,IAAN,EAAP;AACH;AAHE,SAAP;AAKH,KAlCM,CAAP;AAmCH,CAvCD;AAwCA,IAAIgG,cAAc,aAAatB,mBAAmBQ,KAAnB,EAA0B;AACrD9L,UAAM3Q,wBAAO/J,IADwC;AAErD+mB,kBAAc,UAAUQ,IAAV,EAAgB;AAC1B,eAAO,OAAOA,IAAP,KAAgB,UAAvB;AACH,KAJoD;AAKrD3L,cAAU7R,wBAAO/J;AALoC,CAA1B,CAA/B;;AAQA,IAAIwnB,6BAA6B,KAAjC;AACA,IAAIC,uBAAuB,UAAUC,MAAV,EAAkB;AACzC,WAAO,UAAUhmB,CAAV,EAAa;AAChB,eAAO,IAAIgmB,OAAO,IAAIhmB,CAAX,CAAX;AACH,KAFD;AAGH,CAJD;AAKA,IAAIimB,uBAAuB,UAAUD,MAAV,EAAkB;AACzC,WAAO,UAAUhmB,CAAV,EAAa;AAChB,eAAOA,KAAK,GAAL,GAAWgmB,OAAO,IAAIhmB,CAAX,IAAgB,CAA3B,GAA+B,CAAC,IAAIgmB,OAAO,KAAK,IAAIhmB,CAAT,CAAP,CAAL,IAA4B,CAAlE;AACH,KAFD;AAGH,CAJD;AAKA,IAAIkmB,SAAS,UAAUlmB,CAAV,EAAa;AACtB,WAAOA,CAAP;AACH,CAFD;AAGA,IAAImmB,eAAe,UAAUnB,KAAV,EAAiB;AAChC,WAAO,UAAUhlB,CAAV,EAAa;AAChB,eAAOkF,KAAK6S,GAAL,CAAS/X,CAAT,EAAYglB,KAAZ,CAAP;AACH,KAFD;AAGH,CAJD;AAKA,IAAIoB,SAAS,aAAaD,aAAa,CAAb,CAA1B;AACA,IAAIE,UAAU,aAAaN,qBAAqBK,MAArB,CAA3B;AACA,IAAIE,YAAY,aAAaL,qBAAqBG,MAArB,CAA7B;AACA,IAAIG,SAAS,UAAUvmB,CAAV,EAAa;AACtB,WAAO,IAAIkF,KAAKsU,GAAL,CAAStU,KAAKshB,IAAL,CAAUxmB,CAAV,CAAT,CAAX;AACH,CAFD;AAGA,IAAIymB,UAAU,aAAaV,qBAAqBQ,MAArB,CAA3B;AACA,IAAIG,YAAY,aAAaT,qBAAqBQ,OAArB,CAA7B;AACA,IAAIE,eAAe,UAAU3B,KAAV,EAAiB;AAChC,WAAO,UAAUhlB,CAAV,EAAa;AAChB,eAAOA,IAAIA,CAAJ,IAAS,CAACglB,QAAQ,CAAT,IAAchlB,CAAd,GAAkBglB,KAA3B,CAAP;AACH,KAFD;AAGH,CAJD;AAKA,IAAI4B,SAAS,aAAaD,aAAab,0BAAb,CAA1B;AACA,IAAIe,UAAU,aAAad,qBAAqBa,MAArB,CAA3B;AACA,IAAIE,YAAY,aAAab,qBAAqBW,MAArB,CAA7B;AACA,IAAIG,yBAAyB,UAAU/B,KAAV,EAAiB;AAC1C,QAAIgC,aAAaL,aAAa3B,KAAb,CAAjB;AACA,WAAO,UAAUhlB,CAAV,EAAa;AAChB,eAAO,CAACA,KAAK,CAAN,IAAW,CAAX,GAAe,MAAMgnB,WAAWhnB,CAAX,CAArB,GAAqC,OAAO,IAAIkF,KAAK6S,GAAL,CAAS,CAAT,EAAY,CAAC,EAAD,IAAO/X,IAAI,CAAX,CAAZ,CAAX,CAA5C;AACH,KAFD;AAGH,CALD;AAMA,IAAIinB,aAAa,aAAaF,uBAAuBjB,0BAAvB,CAA9B;AACA,IAAIoB,oBAAoB,CAAxB;AACA,IAAIC,mBAAmB,KAAvB;AACA,IAAIC,wBAAwB,SAA5B;AACA,IAAIC,6BAA6B,EAAjC;AACA,IAAIC,sBAAsB,EAA1B;AACA,IAAIC,qBAAqB,OAAOD,sBAAsB,GAA7B,CAAzB;AACA,IAAIE,qBAAqB,OAAOC,YAAP,KAAwB,WAAjD;AACA,IAAI5jB,IAAI,UAAU6jB,EAAV,EAAcC,EAAd,EAAkB;AACtB,WAAO,MAAM,MAAMA,EAAZ,GAAiB,MAAMD,EAA9B;AACH,CAFD;AAGA,IAAI/nB,IAAI,UAAU+nB,EAAV,EAAcC,EAAd,EAAkB;AACtB,WAAO,MAAMA,EAAN,GAAW,MAAMD,EAAxB;AACH,CAFD;AAGA,IAAIzmB,IAAI,UAAUymB,EAAV,EAAc;AAClB,WAAO,MAAMA,EAAb;AACH,CAFD;AAGA,IAAIE,WAAW,UAAUpnB,CAAV,EAAaknB,EAAb,EAAiBC,EAAjB,EAAqB;AAChC,WAAO,MAAM9jB,EAAE6jB,EAAF,EAAMC,EAAN,CAAN,GAAkBnnB,CAAlB,GAAsBA,CAAtB,GAA0B,MAAMb,EAAE+nB,EAAF,EAAMC,EAAN,CAAN,GAAkBnnB,CAA5C,GAAgDS,EAAEymB,EAAF,CAAvD;AACH,CAFD;AAGA,IAAIG,aAAa,UAAUrnB,CAAV,EAAaknB,EAAb,EAAiBC,EAAjB,EAAqB;AAClC,WAAO,CAAC,CAAC9jB,EAAE6jB,EAAF,EAAMC,EAAN,IAAYnnB,CAAZ,GAAgBb,EAAE+nB,EAAF,EAAMC,EAAN,CAAjB,IAA8BnnB,CAA9B,GAAkCS,EAAEymB,EAAF,CAAnC,IAA4ClnB,CAAnD;AACH,CAFD;AAGA,SAASsnB,WAAT,CAAqBC,GAArB,EAA0BC,GAA1B,EAA+BC,GAA/B,EAAoCC,GAApC,EAAyC;AACrC,QAAIC,eAAeX,qBAAqB,IAAIC,YAAJ,CAAiBH,mBAAjB,CAArB,GAA6D,IAAIvnB,KAAJ,CAAUunB,mBAAV,CAAhF;AACA,QAAIc,eAAe,KAAnB;AACA,QAAIC,kBAAkB,UAAUC,EAAV,EAAcC,EAAd,EAAkBC,EAAlB,EAAsB;AACxC,YAAIxvB,IAAI,CAAR;AACA,YAAIyvB,QAAJ;AACA,YAAIC,QAAJ;AACA,WAAG;AACCA,uBAAWH,KAAK,CAACC,KAAKD,EAAN,IAAY,GAA5B;AACAE,uBAAWZ,WAAWa,QAAX,EAAqBX,GAArB,EAA0BE,GAA1B,IAAiCK,EAA5C;AACA,gBAAIG,WAAW,GAAf,EAAoB;AAChBD,qBAAKE,QAAL;AACH,aAFD,MAEO;AACHH,qBAAKG,QAAL;AACH;AACJ,SARD,QAQSxjB,KAAKgT,GAAL,CAASuQ,QAAT,IAAqBrB,qBAArB,IAA8C,EAAEpuB,CAAF,GAAMquB,0BAR7D;AASA,eAAOqB,QAAP;AACH,KAdD;AAeA,QAAIC,uBAAuB,UAAUL,EAAV,EAAcM,OAAd,EAAuB;AAC9C,YAAI5vB,IAAI,CAAR;AACA,YAAI6vB,eAAe,CAAnB;AACA,YAAIJ,QAAJ;AACA,eAAOzvB,IAAIkuB,iBAAX,EAA8B,EAAEluB,CAAhC,EAAmC;AAC/B6vB,2BAAejB,SAASgB,OAAT,EAAkBb,GAAlB,EAAuBE,GAAvB,CAAf;AACA,gBAAIY,iBAAiB,GAArB,EAA0B;AACtB,uBAAOD,OAAP;AACH;AACDH,uBAAWZ,WAAWe,OAAX,EAAoBb,GAApB,EAAyBE,GAAzB,IAAgCK,EAA3C;AACAM,uBAAWH,WAAWI,YAAtB;AACH;AACD,eAAOD,OAAP;AACH,KAbD;AAcA,QAAIE,mBAAmB,YAAY;AAC/B,aAAK,IAAI9vB,IAAI,CAAb,EAAgBA,IAAIsuB,mBAApB,EAAyC,EAAEtuB,CAA3C,EAA8C;AAC1CmvB,yBAAanvB,CAAb,IAAkB6uB,WAAW7uB,IAAIuuB,kBAAf,EAAmCQ,GAAnC,EAAwCE,GAAxC,CAAlB;AACH;AACJ,KAJD;AAKA,QAAIc,WAAW,UAAUT,EAAV,EAAc;AACzB,YAAIU,gBAAgB,GAApB;AACA,YAAIC,gBAAgB,CAApB;AACA,YAAIC,aAAa5B,sBAAsB,CAAvC;AACA,YAAI6B,OAAO,GAAX;AACA,YAAIC,YAAY,GAAhB;AACA,YAAIC,eAAe,GAAnB;AACA,eAAOJ,iBAAiBC,UAAjB,IAA+Bf,aAAac,aAAb,KAA+BX,EAArE,EAAyE,EAAEW,aAA3E,EAA0F;AACtFD,6BAAiBzB,kBAAjB;AACH;AACD,UAAE0B,aAAF;AACAE,eAAO,CAACb,KAAKH,aAAac,aAAb,CAAN,KAAsCd,aAAac,gBAAgB,CAA7B,IAAkCd,aAAac,aAAb,CAAxE,CAAP;AACAG,oBAAYJ,gBAAgBG,OAAO5B,kBAAnC;AACA8B,uBAAezB,SAASwB,SAAT,EAAoBrB,GAApB,EAAyBE,GAAzB,CAAf;AACA,YAAIoB,gBAAgBlC,gBAApB,EAAsC;AAClC,mBAAOwB,qBAAqBL,EAArB,EAAyBc,SAAzB,CAAP;AACH,SAFD,MAEO,IAAIC,iBAAiB,GAArB,EAA0B;AAC7B,mBAAOD,SAAP;AACH,SAFM,MAEA;AACH,mBAAOf,gBAAgBC,EAAhB,EAAoBU,aAApB,EAAmCA,gBAAgBzB,kBAAnD,CAAP;AACH;AACJ,KArBD;AAsBA,QAAI+B,aAAa,YAAY;AACzBlB,uBAAe,IAAf;AACA,YAAIL,OAAOC,GAAP,IAAcC,OAAOC,GAAzB,EAA8B;AAC1BY;AACH;AACJ,KALD;AAMA,QAAIS,WAAW,UAAUjB,EAAV,EAAc;AACzB,YAAIkB,WAAJ;AACA,YAAI,CAACpB,YAAL,EAAmB;AACfkB;AACH;AACD,YAAIvB,QAAQC,GAAR,IAAeC,QAAQC,GAA3B,EAAgC;AAC5BsB,0BAAclB,EAAd;AACH,SAFD,MAEO,IAAIA,OAAO,CAAX,EAAc;AACjBkB,0BAAc,CAAd;AACH,SAFM,MAEA,IAAIlB,OAAO,CAAX,EAAc;AACjBkB,0BAAc,CAAd;AACH,SAFM,MAEA;AACHA,0BAAc3B,WAAWkB,SAAST,EAAT,CAAX,EAAyBN,GAAzB,EAA8BE,GAA9B,CAAd;AACH;AACD,eAAOsB,WAAP;AACH,KAfD;AAgBA,WAAOD,QAAP;AACH;;AAED,IAAIvD,SAAS,aAAapmB,OAAO6a,MAAP,CAAc;AACpCsL,0BAAsBA,oBADc;AAEpCE,0BAAsBA,oBAFc;AAGpCC,YAAQA,MAH4B;AAIpCC,kBAAcA,YAJsB;AAKpCC,YAAQA,MAL4B;AAMpCC,aAASA,OAN2B;AAOpCC,eAAWA,SAPyB;AAQpCC,YAAQA,MAR4B;AASpCE,aAASA,OAT2B;AAUpCC,eAAWA,SAVyB;AAWpCC,kBAAcA,YAXsB;AAYpCC,YAAQA,MAZ4B;AAapCC,aAASA,OAb2B;AAcpCC,eAAWA,SAdyB;AAepCC,4BAAwBA,sBAfY;AAgBpCE,gBAAYA,UAhBwB;AAiBpCa,iBAAaA;AAjBuB,CAAd,CAA1B;;AAoBA,IAAI2B,WAAW,UAAU3jB,EAAV,EAAc;AACzB,QAAIkE,KAAKlE,GAAGkT,IAAZ;AAAA,QACIA,OAAOhP,OAAO,KAAK,CAAZ,GAAgB,CAAhB,GAAoBA,EAD/B;AAAA,QAEI6C,KAAK/G,GAAGmT,EAFZ;AAAA,QAGIA,KAAKpM,OAAO,KAAK,CAAZ,GAAgB,CAAhB,GAAoBA,EAH7B;AAAA,QAIIkY,KAAKjf,GAAG4jB,IAJZ;AAAA,QAKIA,OAAO3E,OAAO,KAAK,CAAZ,GAAgBmB,MAAhB,GAAyBnB,EALpC;AAMA,WAAOzrB,OAAO,UAAUwM,EAAV,EAAc;AACxB,YAAI4Y,SAAS5Y,GAAG4Y,MAAhB;AACA,eAAO;AACHiL,kBAAM,UAAUvQ,QAAV,EAAoB;AACtB,uBAAOsF,OAAOtF,QAAP,CAAP;AACH;AAHE,SAAP;AAKH,KAPM,EAOJyC,IAPI,CAOC6N,IAPD,EAOO,UAAUvmB,CAAV,EAAa;AACvB,eAAOgW,qBAAqBH,IAArB,EAA2BC,EAA3B,EAA+B9V,CAA/B,CAAP;AACH,KATM,CAAP;AAUH,CAjBD;AAkBA,IAAIymB,iBAAiB,aAAatF,mBAAmBmF,QAAnB,EAA6B;AAC3DC,UAAM,UAAU7D,IAAV,EAAgB;AAClB,eAAO,OAAOA,IAAP,KAAgB,UAAvB;AACH,KAH0D;AAI3D7M,UAAM3Q,wBAAO/J,IAJ8C;AAK3D2a,QAAI5Q,wBAAO/J;AALgD,CAA7B,CAAlC;;AAQA,IAAIurB,gBAAgB,aAAajiB,MAAM,CAAN,EAAS,CAAT,CAAjC;AACA,IAAIkiB,QAAQ,UAAU/c,KAAV,EAAiB;AACzB,QAAIA,UAAU,KAAK,CAAnB,EAAsB;AAClBA,gBAAQ,EAAR;AACH;AACD,WAAOzT,OAAO,UAAUwM,EAAV,EAAc;AACxB,YAAI4Y,SAAS5Y,GAAG4Y,MAAhB;AAAA,YACIG,WAAW/Y,GAAG+Y,QADlB;AAEA,YAAI7U,KAAK+C,MAAM6M,QAAf;AAAA,YACIA,WAAW5P,OAAO,KAAK,CAAZ,GAAgB,GAAhB,GAAsBA,EADrC;AAAA,YAEI6C,KAAKE,MAAM2c,IAFf;AAAA,YAGIA,OAAO7c,OAAO,KAAK,CAAZ,GAAgBwZ,OAAhB,GAA0BxZ,EAHrC;AAAA,YAIIkY,KAAKhY,MAAMgd,IAJf;AAAA,YAKIA,OAAOhF,OAAO,KAAK,CAAZ,GAAgB,CAAhB,GAAoBA,EAL/B;AAAA,YAMIE,KAAKlY,MAAMid,IANf;AAAA,YAOIA,OAAO/E,OAAO,KAAK,CAAZ,GAAgB,CAAhB,GAAoBA,EAP/B;AAAA,YAQIE,KAAKpY,MAAMkd,IARf;AAAA,YASIA,OAAO9E,OAAO,KAAK,CAAZ,GAAgB,CAAhB,GAAoBA,EAT/B;AAUA,YAAI+E,KAAKnd,MAAMiM,IAAf;AAAA,YACIA,OAAOkR,OAAO,KAAK,CAAZ,GAAgB,CAAhB,GAAoBA,EAD/B;AAAA,YAEIC,KAAKpd,MAAMkM,EAFf;AAAA,YAGIA,KAAKkR,OAAO,KAAK,CAAZ,GAAgB,CAAhB,GAAoBA,EAH7B;AAAA,YAIIC,KAAKrd,MAAMrG,OAJf;AAAA,YAKIA,UAAU0jB,OAAO,KAAK,CAAZ,GAAgB,CAAhB,GAAoBA,EALlC;AAAA,YAMIC,KAAKtd,MAAMud,aANf;AAAA,YAOIA,gBAAgBD,OAAO,KAAK,CAAZ,GAAgB,CAAhB,GAAoBA,EAPxC;AAAA,YAQIE,KAAKxd,MAAMyd,SARf;AAAA,YASIA,YAAYD,OAAO,KAAK,CAAZ,GAAgB,CAAhB,GAAoBA,EATpC;AAAA,YAUIE,KAAK1d,MAAM2d,SAVf;AAAA,YAWIA,YAAYD,OAAO,KAAK,CAAZ,GAAgB,CAAhB,GAAoBA,EAXpC;AAAA,YAYIE,KAAK5d,MAAM6d,SAZf;AAAA,YAaIA,YAAYD,OAAO,KAAK,CAAZ,GAAgB,CAAhB,GAAoBA,EAbpC;AAcA,YAAIE,WAAWjB,eAAe,EAAE5Q,MAAMA,IAAR,EAAcC,IAAIA,EAAlB,EAAsByQ,MAAMA,IAA5B,EAAf,EAAmDjK,KAAnD,CAAyDf,MAAzD,CAAf;AACA,YAAItF,WAAW,CAAf;AACA,YAAI0R,UAAJ;AACA,YAAI5L,WAAW,KAAf;AACA,YAAI6L,eAAe,YAAY;AAC3B,mBAAOT,iBAAiB,CAAC,CAAzB;AACH,SAFD;AAGA,YAAIU,kBAAkB,YAAY;AAC9B,gBAAItL,aAAa4K,kBAAkB,CAAlB,GAAsBpL,YAAYxY,WAAWkT,QAA7C,GAAwDsF,YAAYxY,WAAW,CAAhG;AACA,gBAAI,CAACgZ,UAAL,EAAiB,OAAO,KAAP;AACjB,gBAAIA,cAAc,CAACsK,IAAf,IAAuB,CAACD,IAAxB,IAAgC,CAACE,IAArC,EAA2C,OAAO,IAAP;AAC3C,gBAAIgB,cAAc,KAAlB;AACA,gBAAIjB,QAAQY,YAAYZ,IAAxB,EAA8B;AAC1BtjB,0BAAU,CAAV;AACAkkB;AACAK,8BAAc,IAAd;AACH,aAJD,MAIO,IAAIlB,QAAQS,YAAYT,IAAxB,EAA8B;AACjCrjB,0BAAUkT,WAAWlT,OAArB;AACAZ,qBAAK,CAACmT,EAAD,EAAKD,IAAL,CAAL,EAAiBA,OAAOlT,GAAG,CAAH,CAAxB,EAA+BmT,KAAKnT,GAAG,CAAH,CAApC;AACA+kB,2BAAWjB,eAAe,EAAE5Q,MAAMA,IAAR,EAAcC,IAAIA,EAAlB,EAAsByQ,MAAMA,IAA5B,EAAf,EAAmDjK,KAAnD,CAAyDf,MAAzD,CAAX;AACA8L;AACAS,8BAAc,IAAd;AACH,aANM,MAMA,IAAIhB,QAAQS,YAAYT,IAAxB,EAA8B;AACjCc;AACAL;AACAO,8BAAc,IAAd;AACH;AACD,mBAAO,CAACA,WAAR;AACA,gBAAInlB,EAAJ;AACH,SAtBD;AAuBA,YAAIolB,cAAc,YAAY;AAC1B9R,uBAAWyQ,cAAc9Q,qBAAqB,CAArB,EAAwBa,QAAxB,EAAkClT,OAAlC,CAAd,CAAX;AACAmkB,qBAASlB,IAAT,CAAcvQ,QAAd;AACH,SAHD;AAIA,YAAI+R,aAAa,YAAY;AACzBjM,uBAAW,IAAX;AACA4L,yBAAanG,QAAQlF,KAAR,CAAc,YAAY;AACnC/Y,2BAAW,uCAAuB4jB,aAAlC;AACAY;AACA,oBAAIF,qBAAqBnM,QAAzB,EAAmC;AAC/BiM,+BAAWlL,IAAX;AACA,kDAAcf,QAAd,EAAwB,IAAxB;AACH;AACJ,aAPY,CAAb;AAQH,SAVD;AAWA,YAAIuM,YAAY,YAAY;AACxBlM,uBAAW,KAAX;AACA,gBAAI4L,UAAJ,EAAgBA,WAAWlL,IAAX;AACnB,SAHD;AAIAuL;AACA,eAAO;AACHjM,sBAAU,YAAY;AAClB,uBAAOA,QAAP;AACH,aAHE;AAIHmM,wBAAY,YAAY;AACpB,uBAAOzjB,MAAM,CAAN,EAASgS,QAAT,EAAmBlT,OAAnB,CAAP;AACH,aANE;AAOH4kB,yBAAa,YAAY;AACrB,uBAAOlS,QAAP;AACH,aATE;AAUHwG,kBAAM,YAAY;AACdwL;AACH,aAZE;AAaHG,mBAAO,YAAY;AACfH;AACA,uBAAO,IAAP;AACH,aAhBE;AAiBHtnB,oBAAQ,YAAY;AAChBqnB;AACA,uBAAO,IAAP;AACH,aApBE;AAqBHxB,kBAAM,UAAU6B,WAAV,EAAuB;AACzB9kB,0BAAUyS,qBAAqB,CAArB,EAAwBS,QAAxB,EAAkC4R,WAAlC,CAAV;AACA,8CAAcN,WAAd,EAA2B,IAA3B;AACA,uBAAO,IAAP;AACH,aAzBE;AA0BH7O,qBAAS,YAAY;AACjB0O;AACA,uBAAO,IAAP;AACH;AA7BE,SAAP;AA+BH,KA5GM,CAAP;AA6GH,CAjHD;;AAmHA,IAAIU,kBAAkB,aAAa7jB,MAAM,CAAN,EAAS,CAAT,CAAnC;AACA,IAAI8jB,iBAAiB,UAAU/hB,MAAV,EAAkBqc,MAAlB,EAA0B;AAC3C,WAAOrc,OAAOpS,GAAP,CAAW,YAAY;AAC1B,eAAOyuB,UAAUK,OAAjB;AACH,KAFM,EAEJzgB,MAFI,CAEG,CAFH,EAEM+D,OAAO/S,MAAP,GAAgB,CAFtB,CAAP;AAGH,CAJD;AAKA,IAAI+0B,iBAAiB,UAAUhiB,MAAV,EAAkB;AACnC,QAAIyB,YAAYzB,OAAO/S,MAAvB;AACA,WAAO+S,OAAOpS,GAAP,CAAW,UAAU4B,KAAV,EAAiBH,CAAjB,EAAoB;AAClC,eAAOA,MAAM,CAAN,GAAUA,KAAKoS,YAAY,CAAjB,CAAV,GAAgC,CAAvC;AACH,KAFM,CAAP;AAGH,CALD;AAMA,IAAIwgB,uBAAuB,UAAUpgB,KAAV,EAAiBqgB,SAAjB,EAA4BnN,MAA5B,EAAoC;AAC3D,QAAIxC,cAAc1Q,MAAM5U,MAAxB;AACA,QAAIk1B,kBAAkB5P,cAAc,CAApC;AACA,QAAI6P,qBAAqBD,kBAAkB,CAA3C;AACA,QAAI5J,OAAO2J,UAAUt0B,GAAV,CAAc,UAAUy0B,KAAV,EAAiB;AACtC,eAAOA,MAAMvM,KAAN,CAAYf,MAAZ,CAAP;AACH,KAFU,CAAX;AAGA,WAAO,UAAUvb,CAAV,EAAa;AAChB,YAAIA,KAAKqI,MAAM,CAAN,CAAT,EAAmB;AACf0W,iBAAK,CAAL,EAAQyH,IAAR,CAAa,CAAb;AACH;AACD,YAAIxmB,KAAKqI,MAAMsgB,eAAN,CAAT,EAAiC;AAC7B5J,iBAAK6J,kBAAL,EAAyBpC,IAAzB,CAA8B,CAA9B;AACH;AACD,YAAI3wB,IAAI,CAAR;AACA,eAAOA,IAAIkjB,WAAX,EAAwBljB,GAAxB,EAA6B;AACzB,gBAAIwS,MAAMxS,CAAN,IAAWmK,CAAX,IAAgBnK,MAAM8yB,eAA1B,EAA2C;AAC9C;AACD,YAAIxP,kBAAkBvD,qBAAqBvN,MAAMxS,IAAI,CAAV,CAArB,EAAmCwS,MAAMxS,CAAN,CAAnC,EAA6CmK,CAA7C,CAAtB;AACA+e,aAAKlpB,IAAI,CAAT,EAAY2wB,IAAZ,CAAiB8B,gBAAgBnP,eAAhB,CAAjB;AACH,KAbD;AAcH,CArBD;AAsBA,IAAIvf,YAAY,UAAU+I,EAAV,EAAc;AAC1B,QAAImmB,UAAUnmB,GAAGmmB,OAAjB;AAAA,QACIjiB,KAAKlE,GAAG4jB,IADZ;AAAA,QAEIA,OAAO1f,OAAO,KAAK,CAAZ,GAAgBkc,MAAhB,GAAyBlc,EAFpC;AAAA,QAGIkiB,QAAQpmB,GAAGomB,KAHf;AAAA,QAIIviB,SAAS7D,GAAG6D,MAJhB;AAAA,QAKIwiB,aAAa,mBAAOrmB,EAAP,EAAW,CAAC,SAAD,EAAY,MAAZ,EAAoB,OAApB,EAA6B,QAA7B,CAAX,CALjB;AAMAmmB,cAAUlsB,MAAM0gB,OAAN,CAAcwL,OAAd,IAAyBA,OAAzB,GAAmCP,eAAe/hB,MAAf,EAAuBsiB,OAAvB,CAA7C;AACAC,YAAQA,SAASP,eAAehiB,MAAf,CAAjB;AACA,QAAIkiB,YAAYI,QAAQ10B,GAAR,CAAY,UAAUyuB,MAAV,EAAkBhtB,CAAlB,EAAqB;AAC7C,eAAO4wB,eAAe;AAClB5Q,kBAAMrP,OAAO3Q,CAAP,CADY;AAElBigB,gBAAItP,OAAO3Q,IAAI,CAAX,CAFc;AAGlB0wB,kBAAM1D;AAHY,SAAf,CAAP;AAKH,KANe,CAAhB;AAOA,WAAO8D,MAAM,qBAAS,EAAT,EAAaqC,UAAb,EAAyB,EAAEzC,MAAMA,IAAR,EAAzB,CAAN,EAAgDpL,eAAhD,CAAgE,UAAUI,MAAV,EAAkB;AACrF,eAAOkN,qBAAqBM,KAArB,EAA4BL,SAA5B,EAAuCnN,MAAvC,CAAP;AACH,KAFM,CAAP;AAGH,CAnBD;;AAqBA,IAAI0N,UAAU,UAAUrf,KAAV,EAAiB;AAC3B,QAAIA,UAAU,KAAK,CAAnB,EAAsB;AAClBA,gBAAQ,EAAR;AACH;AACD,WAAOzT,OAAO,UAAUwM,EAAV,EAAc;AACxB,YAAI+Y,WAAW/Y,GAAG+Y,QAAlB;AAAA,YACIH,SAAS5Y,GAAG4Y,MADhB;AAEA,YAAI1U,KAAK+C,MAAMsf,YAAf;AAAA,YACIA,eAAeriB,OAAO,KAAK,CAAZ,GAAgB,CAAhB,GAAoBA,EADvC;AAAA,YAEI6C,KAAKE,MAAMuf,QAFf;AAAA,YAGIA,WAAWzf,OAAO,KAAK,CAAZ,GAAgB,CAAhB,GAAoBA,EAHnC;AAAA,YAIIkY,KAAKhY,MAAMmN,QAJf;AAAA,YAKIA,WAAW6K,OAAO,KAAK,CAAZ,GAAgB,CAAhB,GAAoBA,EALnC;AAAA,YAMIwH,iBAAiBxf,MAAMwf,cAN3B;AAAA,YAOItT,KAAKlM,MAAMkM,EAPf;AAQA,YAAIgM,KAAKlY,MAAMyf,SAAf;AAAA,YACIA,YAAYvH,OAAO,KAAK,CAAZ,GAAgB,KAAhB,GAAwBA,EADxC;AAAA,YAEIE,KAAKpY,MAAMiM,IAFf;AAAA,YAGIA,OAAOmM,OAAO,KAAK,CAAZ,GAAgB,CAAhB,GAAoBA,EAH/B;AAIA,YAAInE,UAAUhI,IAAd;AACA,YAAIwM,QAAQb,QAAQlF,KAAR,CAAc,YAAY;AAClC,gBAAI/Y,UAAUxB,KAAKC,GAAL,CAAS,oCAAT,EAA+B,EAA/B,CAAd;AACA,gBAAIknB,YAAJ,EAAkBnS,YAAYJ,cAAcuS,YAAd,EAA4B3lB,OAA5B,CAAZ;AAClB,gBAAI4lB,QAAJ,EAAcpS,YAAYhV,KAAK6S,GAAL,CAAS,IAAIuU,QAAb,EAAuB5lB,UAAU,GAAjC,CAAZ;AACd,gBAAI6lB,mBAAmB7nB,SAAnB,IAAgCuU,OAAOvU,SAA3C,EAAsD;AAClD,oBAAI+nB,mBAAmBxT,KAAK+H,OAA5B;AACA9G,4BAAYuS,mBAAmB3S,cAAcyS,cAAd,EAA8B7lB,OAA9B,CAA/B;AACH;AACDsa,uBAAWlH,cAAcI,QAAd,EAAwBxT,OAAxB,CAAX;AACAgY,mBAAOsC,OAAP;AACA,gBAAItB,aAAa8M,cAAc,KAAd,KAAwB,CAACtS,QAAD,IAAahV,KAAKgT,GAAL,CAASgC,QAAT,KAAsBsS,SAA3D,CAAjB;AACA,gBAAI9M,UAAJ,EAAgB;AACZ8F,sBAAM5F,IAAN;AACAf;AACH;AACJ,SAfW,CAAZ;AAgBA,eAAO;AACHtR,iBAAK,UAAUpK,CAAV,EAAa;AACd6d,0BAAU7d,CAAV;AACA,uBAAO,IAAP;AACH,aAJE;AAKHupB,6BAAiB,UAAUvpB,CAAV,EAAa;AAC1BkpB,+BAAelpB,CAAf;AACA,uBAAO,IAAP;AACH,aARE;AASHwpB,yBAAa,UAAUxpB,CAAV,EAAa;AACtBmpB,2BAAWnpB,CAAX;AACA,uBAAO,IAAP;AACH,aAZE;AAaHypB,+BAAmB,UAAUzpB,CAAV,EAAa;AAC5BopB,iCAAiBppB,CAAjB;AACA,uBAAO,IAAP;AACH,aAhBE;AAiBH0pB,6BAAiB,UAAU1pB,CAAV,EAAa;AAC1B8V,qBAAK9V,CAAL;AACA,uBAAO,IAAP;AACH,aApBE;AAqBH2pB,yBAAa,UAAU3pB,CAAV,EAAa;AACtB+W,2BAAW/W,CAAX;AACA,uBAAO,IAAP;AACH,aAxBE;AAyBHyc,kBAAM,YAAY;AACd,uBAAO4F,MAAM5F,IAAN,EAAP;AACH;AA3BE,SAAP;AA6BH,KA7DM,CAAP;AA8DH,CAlED;AAmEA,IAAImN,gBAAgB,aAAazI,mBAAmB8H,OAAnB,EAA4B;AACzDC,kBAAchkB,wBAAO/J,IADoC;AAEzDguB,cAAUjkB,wBAAO/J,IAFwC;AAGzD4b,cAAU7R,wBAAO/J,IAHwC;AAIzD0a,UAAM3Q,wBAAO/J,IAJ4C;AAKzD2a,QAAI5Q,wBAAO/J,IAL8C;AAMzDiuB,oBAAgBlkB,wBAAO/J;AANkC,CAA5B,CAAjC;;AASA,IAAI0uB,SAAS,UAAUjgB,KAAV,EAAiB;AAC1B,QAAIA,UAAU,KAAK,CAAnB,EAAsB;AAClBA,gBAAQ,EAAR;AACH;AACD,WAAOzT,OAAO,UAAUwM,EAAV,EAAc;AACxB,YAAI4Y,SAAS5Y,GAAG4Y,MAAhB;AAAA,YACIG,WAAW/Y,GAAG+Y,QADlB;AAEA,YAAI7U,KAAK+C,MAAMmN,QAAf;AAAA,YACIA,WAAWlQ,OAAO,KAAK,CAAZ,GAAgB,GAAhB,GAAsBA,EADrC;AAEA,YAAI6C,KAAKE,MAAMiM,IAAf;AAAA,YACIA,OAAOnM,OAAO,KAAK,CAAZ,GAAgB,GAAhB,GAAsBA,EADjC;AAAA,YAEIkY,KAAKhY,MAAMkM,EAFf;AAAA,YAGIA,KAAK8L,OAAO,KAAK,CAAZ,GAAgB,GAAhB,GAAsBA,EAH/B;AAAA,YAIIE,KAAKlY,MAAMkgB,SAJf;AAAA,YAKIA,YAAYhI,OAAO,KAAK,CAAZ,GAAgB,GAAhB,GAAsBA,EALtC;AAAA,YAMIE,KAAKpY,MAAMmgB,OANf;AAAA,YAOIA,UAAU/H,OAAO,KAAK,CAAZ,GAAgB,EAAhB,GAAqBA,EAPnC;AAAA,YAQI+E,KAAKnd,MAAMogB,IARf;AAAA,YASIA,OAAOjD,OAAO,KAAK,CAAZ,GAAgB,GAAhB,GAAsBA,EATjC;AAAA,YAUIC,KAAKpd,MAAMyf,SAVf;AAAA,YAWIA,YAAYrC,OAAO,KAAK,CAAZ,GAAgB,IAAhB,GAAuBA,EAXvC;AAAA,YAYIC,KAAKrd,MAAMqY,SAZf;AAAA,YAaIA,YAAYgF,OAAO,KAAK,CAAZ,GAAgB,IAAhB,GAAuBA,EAbvC;AAcA,YAAIgD,kBAAkBlT,WAAW,EAAEA,WAAW,IAAb,CAAX,GAAgC,GAAtD;AACA,YAAI1Z,IAAI,CAAR;AACA,YAAIilB,QAAQxM,KAAKD,IAAjB;AACA,YAAIqU,WAAWrU,IAAf;AACA,YAAIsU,eAAeD,QAAnB;AACA,YAAIE,cAAc5I,QAAQlF,KAAR,CAAc,YAAY;AACxC,gBAAI/B,YAAY,oCAAhB;AACAld,iBAAKkd,SAAL;AACA,gBAAI8P,eAAeN,WAAW,IAAIhoB,KAAK4T,IAAL,CAAUmU,YAAYE,IAAtB,CAAf,CAAnB;AACA,gBAAIM,cAAcvoB,KAAK4T,IAAL,CAAUmU,YAAYE,IAAtB,IAA8B,IAAhD;AACAG,2BAAeD,QAAf;AACA,gBAAIG,eAAe,CAAnB,EAAsB;AAClB,oBAAIE,WAAWxoB,KAAKwgB,GAAL,CAAS,CAAC8H,YAAD,GAAgBC,WAAhB,GAA8BjtB,CAAvC,CAAf;AACA,oBAAImtB,YAAYF,cAAcvoB,KAAK4T,IAAL,CAAU,MAAM0U,eAAeA,YAA/B,CAA9B;AACAH,2BAAWpU,KAAKyU,YAAY,CAACN,kBAAkBI,eAAeC,WAAf,GAA6BhI,KAAhD,IAAyDkI,SAAzD,GAAqEzoB,KAAKsU,GAAL,CAASmU,YAAYntB,CAArB,CAArE,GAA+FilB,QAAQvgB,KAAKqU,GAAL,CAASoU,YAAYntB,CAArB,CAAnH,CAAhB;AACH,aAJD,MAIO;AACH,oBAAIktB,WAAWxoB,KAAKwgB,GAAL,CAAS,CAAC+H,WAAD,GAAejtB,CAAxB,CAAf;AACA6sB,2BAAWpU,KAAKyU,YAAYjI,QAAQ,CAAC2H,kBAAkBK,cAAchI,KAAjC,IAA0CjlB,CAA9D,CAAhB;AACH;AACD0Z,uBAAWD,eAAeoT,WAAWC,YAA1B,EAAwC5P,SAAxC,CAAX;AACA,gBAAIkQ,2BAA2B1oB,KAAKgT,GAAL,CAASgC,QAAT,KAAsBsS,SAArD;AACA,gBAAIqB,+BAA+B3oB,KAAKgT,GAAL,CAASe,KAAKoU,QAAd,KAA2BjI,SAA9D;AACA,gBAAIwI,4BAA4BC,4BAAhC,EAA8D;AAC1DR,2BAAWpU,EAAX;AACAyF,uBAAO2O,QAAP;AACAE,4BAAY3N,IAAZ;AACAf;AACH,aALD,MAKO;AACHH,uBAAO2O,QAAP;AACH;AACJ,SAzBiB,CAAlB;AA0BA,eAAO;AACHzN,kBAAM,YAAY;AACd,uBAAO2N,YAAY3N,IAAZ,EAAP;AACH;AAHE,SAAP;AAKH,KAvDM,CAAP;AAwDH,CA5DD;AA6DA,IAAIkO,eAAe,aAAaxJ,mBAAmB0I,MAAnB,EAA2B;AACvDhU,UAAM3Q,wBAAO/J,IAD0C;AAEvD2a,QAAI5Q,wBAAO/J,IAF4C;AAGvD2uB,eAAW5kB,wBAAO/J,IAHqC;AAIvD4uB,aAAS7kB,wBAAO/J,IAJuC;AAKvD6uB,UAAM9kB,wBAAO/J,IAL0C;AAMvD4b,cAAU7R,wBAAO/J;AANsC,CAA3B,CAAhC;;AASA,IAAIyvB,mBAAmB,GAAvB;AACA,IAAIC,iBAAiB,UAAUC,YAAV,EAAwB;AACzC,QAAIC,mBAAmB,EAAvB;AACA,QAAIC,UAAUF,aAAaA,aAAar3B,MAAb,GAAsB,CAAnC,CAAd;AACA,QAAIw3B,cAAc,OAAOD,OAAP,KAAmB,QAArC;AACA,QAAIE,eAAeD,cAAcD,OAAd,GAAwB,CAA3C;AACA,QAAIG,WAAWF,cAAcH,aAAa70B,KAAb,CAAmB,CAAnB,EAAsB,CAAC,CAAvB,CAAd,GAA0C60B,YAAzD;AACA,QAAIM,cAAcD,SAAS13B,MAA3B;AACA,QAAI43B,SAAS,CAAb;AACAF,aAASzwB,OAAT,CAAiB,UAAU4wB,IAAV,EAAgBz1B,CAAhB,EAAmB;AAChCk1B,yBAAiBp3B,IAAjB,CAAsB23B,IAAtB;AACA,YAAIz1B,MAAMu1B,cAAc,CAAxB,EAA2B;AACvB,gBAAI3U,WAAW6U,KAAK7U,QAAL,IAAiBmU,gBAAhC;AACAS,sBAAUH,YAAV;AACAH,6BAAiBp3B,IAAjB,CAAsB,OAAO8iB,WAAW4U,MAAlB,CAAtB;AACH;AACJ,KAPD;AAQA,WAAON,gBAAP;AACH,CAjBD;AAkBA,IAAIQ,2BAA2B,UAAUT,YAAV,EAAwBU,WAAxB,EAAqC;AAChE5uB,UAAM0gB,OAAN,CAAckO,WAAd,IAA6BV,aAAan3B,IAAb,CAAkB6J,KAAlB,CAAwBstB,YAAxB,EAAsCD,eAAeW,WAAf,CAAtC,CAA7B,GAAkGV,aAAan3B,IAAb,CAAkB63B,WAAlB,CAAlG;AACA,WAAOV,YAAP;AACH,CAHD;AAIA,IAAIW,oBAAoB,UAAU7hB,KAAV,EAAiB8hB,GAAjB,EAAsB71B,CAAtB,EAAyB;AAC7C,QAAI4gB,WAAW7M,MAAM6M,QAArB;AAAA,QACIqS,UAAUlf,MAAMkf,OADpB;AAAA,QAEIC,QAAQnf,MAAMmf,KAFlB;AAAA,QAGIviB,SAASoD,MAAMpD,MAHnB;AAIA,QAAIyB,YAAYzB,OAAO/S,MAAvB;AACA,QAAIk4B,aAAa5C,MAAM9gB,YAAY,CAAlB,CAAjB;AACA,QAAI2jB,WAAWF,IAAIG,EAAJ,KAAW,CAAX,GAAe,CAAf,GAAmBH,IAAIG,EAAJ,GAASpV,QAA3C;AACA,QAAIqV,SAAS,CAACJ,IAAIG,EAAJ,GAASH,IAAIjV,QAAd,IAA0BA,QAAvC;AACA,QAAI5gB,MAAM,CAAV,EAAa;AACT2Q,eAAO7S,IAAP,CAAY+3B,IAAI7V,IAAhB;AACAkT,cAAMp1B,IAAN,CAAWi4B,QAAX;AACH,KAHD,MAGO;AACH,YAAID,eAAeC,QAAnB,EAA6B;AACzB,gBAAIF,IAAI7V,IAAJ,KAAatU,SAAjB,EAA4B;AACxBiF,uBAAO7S,IAAP,CAAY6S,OAAOyB,YAAY,CAAnB,CAAZ;AACA8gB,sBAAMp1B,IAAN,CAAWi4B,QAAX;AACA9C,wBAAQn1B,IAAR,CAAaovB,MAAb;AACH;AACD,gBAAIlN,OAAO6V,IAAI7V,IAAJ,KAAatU,SAAb,GAAyBmqB,IAAI7V,IAA7B,GAAoCrP,OAAOyB,YAAY,CAAnB,CAA/C;AACAzB,mBAAO7S,IAAP,CAAYkiB,IAAZ;AACAkT,kBAAMp1B,IAAN,CAAWi4B,QAAX;AACA9C,oBAAQn1B,IAAR,CAAaovB,MAAb;AACH,SAVD,MAUO,IAAI2I,IAAI7V,IAAJ,KAAatU,SAAjB,EAA4B;AAC/BiF,mBAAO7S,IAAP,CAAY+3B,IAAI7V,IAAhB;AACAkT,kBAAMp1B,IAAN,CAAWi4B,QAAX;AACA9C,oBAAQn1B,IAAR,CAAaovB,MAAb;AACH;AACJ;AACDvc,WAAO7S,IAAP,CAAY+3B,IAAI5V,EAAhB;AACAiT,UAAMp1B,IAAN,CAAWm4B,MAAX;AACAhD,YAAQn1B,IAAR,CAAa+3B,IAAInF,IAAJ,IAAYpD,SAAzB;AACA,WAAOvZ,KAAP;AACH,CAjCD;AAkCA,IAAImiB,WAAW,UAAUjB,YAAV,EAAwBnoB,EAAxB,EAA4B;AACvC,QAAIkE,KAAKlE,OAAO,KAAK,CAAZ,GAAgB,EAAhB,GAAqBA,EAA9B;AAAA,QACI8T,WAAW5P,GAAG4P,QADlB;AAAA,QAEIlT,UAAUsD,GAAGtD,OAFjB;AAAA,QAGIgjB,OAAO1f,GAAG0f,IAHd;AAAA,QAIIM,OAAOhgB,GAAGggB,IAJd;AAAA,QAKID,OAAO/f,GAAG+f,IALd;AAAA,QAMIE,OAAOjgB,GAAGigB,IANd;AAOA,QAAIY,WAAW,CAAf;AACA,QAAIsE,qBAAqB,CAAzB;AACA,QAAIjB,mBAAmBD,aAAajf,MAAb,CAAoB0f,wBAApB,EAA8C,EAA9C,CAAvB;AACA,QAAIU,gBAAgB,EAApB;AACAlB,qBAAiBrwB,OAAjB,CAAyB,UAAU8wB,WAAV,EAAuB;AAC5C,YAAI,OAAOA,WAAP,KAAuB,QAA3B,EAAqC;AACjC9D,wBAAYviB,WAAWqmB,WAAX,CAAZ;AACH,SAFD,MAEO,IAAI,OAAOA,WAAP,KAAuB,QAA3B,EAAqC;AACxC9D,uBAAW8D,WAAX;AACH,SAFM,MAEA;AACH,gBAAIE,MAAM,qBAAS,EAAT,EAAaF,WAAb,EAA0B,EAAEK,IAAInE,QAAN,EAA1B,CAAV;AACAgE,gBAAIjV,QAAJ,GAAeiV,IAAIjV,QAAJ,KAAiBlV,SAAjB,GAA6BqpB,gBAA7B,GAAgDc,IAAIjV,QAAnE;AACAwV,0BAAct4B,IAAd,CAAmB+3B,GAAnB;AACAhE,wBAAYgE,IAAIjV,QAAhB;AACAuV,iCAAqBjqB,KAAKC,GAAL,CAASgqB,kBAAT,EAA6BN,IAAIG,EAAJ,GAASH,IAAIjV,QAA1C,CAArB;AACH;AACJ,KAZD;AAaA,QAAIyV,SAAS,EAAb;AACA,QAAIC,UAAUF,cAAcx4B,MAA5B;AACA,SAAK,IAAIoC,IAAI,CAAb,EAAgBA,IAAIs2B,OAApB,EAA6Bt2B,GAA7B,EAAkC;AAC9B,YAAI61B,MAAMO,cAAcp2B,CAAd,CAAV;AACA,YAAIu2B,QAAQV,IAAIU,KAAhB;AACA,YAAIA,UAAU7qB,SAAd,EAAyB;AACrB,kBAAM,IAAI6H,KAAJ,CAAU,kBAAV,CAAN;AACH;AACD,YAAI,CAAC8iB,OAAOpvB,cAAP,CAAsBsvB,KAAtB,CAAL,EAAmCF,OAAOE,KAAP,IAAgB,EAAhB;AACnCF,eAAOE,KAAP,EAAcz4B,IAAd,CAAmB+3B,GAAnB;AACH;AACD,QAAIW,iBAAiB,EAArB;AACA,SAAK,IAAIt4B,GAAT,IAAgBm4B,MAAhB,EAAwB;AACpB,YAAIA,OAAOpvB,cAAP,CAAsB/I,GAAtB,CAAJ,EAAgC;AAC5B,gBAAIu4B,gBAAgBJ,OAAOn4B,GAAP,EAAY8X,MAAZ,CAAmB4f,iBAAnB,EAAsC;AACtDhV,0BAAUuV,kBAD4C;AAEtDlD,yBAAS,EAF6C;AAGtDC,uBAAO,EAH+C;AAItDviB,wBAAQ;AAJ8C,aAAtC,CAApB;AAMA6lB,2BAAet4B,GAAf,IAAsB6F,UAAU,qBAAS,EAAT,EAAa0yB,aAAb,EAA4B,EAAE7V,UAAUA,YAAYuV,kBAAxB,EAA4CzF,MAAMA,IAAlD;AACxDhjB,yBAASA,OAD+C;AAExDsjB,sBAAMA,IAFkD;AAGxDC,sBAAMA,IAHkD;AAIxDF,sBAAMA,IAJkD,EAA5B,CAAV,CAAtB;AAKH;AACJ;AACD,WAAO1H,UAAUmN,cAAV,CAAP;AACH,CArDD;;AAuDA,IAAIE,SAAS,UAAUv3B,OAAV,EAAmB4B,MAAnB,EAA2B41B,OAA3B,EAAoC;AAC7C,WAAOr2B,OAAO,UAAUwM,EAAV,EAAc;AACxB,YAAI4Y,SAAS5Y,GAAG4Y,MAAhB;AACA,YAAIkR,aAAa71B,OAAOqO,KAAP,CAAa,GAAb,EAAkB7Q,GAAlB,CAAsB,UAAUs4B,SAAV,EAAqB;AACxD13B,oBAAQmC,gBAAR,CAAyBu1B,SAAzB,EAAoCnR,MAApC,EAA4CiR,OAA5C;AACA,mBAAOE,SAAP;AACH,SAHgB,CAAjB;AAIA,eAAO;AACHjQ,kBAAM,YAAY;AACd,uBAAOgQ,WAAW/xB,OAAX,CAAmB,UAAUgyB,SAAV,EAAqB;AAC3C,2BAAO13B,QAAQoC,mBAAR,CAA4Bs1B,SAA5B,EAAuCnR,MAAvC,EAA+CiR,OAA/C,CAAP;AACH,iBAFM,CAAP;AAGH;AALE,SAAP;AAOH,KAbM,CAAP;AAcH,CAfD;;AAiBA,IAAIG,oBAAoB,YAAY;AAChC,WAAO;AACHC,iBAAS,CADN;AAEHC,iBAAS,CAFN;AAGHC,eAAO,CAHJ;AAIHC,eAAO,CAJJ;AAKHne,WAAG,CALA;AAMHjP,WAAG;AANA,KAAP;AAQH,CATD;AAUA,IAAIqtB,eAAe,UAAUvvB,CAAV,EAAa8W,KAAb,EAAoB;AACnC,QAAIA,UAAU,KAAK,CAAnB,EAAsB;AAClBA,gBAAQoY,mBAAR;AACH;AACDpY,UAAMqY,OAAN,GAAgBrY,MAAM3F,CAAN,GAAUnR,EAAEmvB,OAA5B;AACArY,UAAMsY,OAAN,GAAgBtY,MAAM5U,CAAN,GAAUlC,EAAEovB,OAA5B;AACAtY,UAAMuY,KAAN,GAAcrvB,EAAEqvB,KAAhB;AACAvY,UAAMwY,KAAN,GAActvB,EAAEsvB,KAAhB;AACA,WAAOxY,KAAP;AACH,CATD;;AAWA,IAAIkG,SAAS,CAAC,aAAakS,mBAAd,CAAb;AACA,IAAIM,gBAAgB,KAApB;AACA,IAAI,OAAOz1B,QAAP,KAAoB,WAAxB,EAAqC;AACjC,QAAI01B,uBAAuB,UAAUvqB,EAAV,EAAc;AACrC,YAAIwqB,UAAUxqB,GAAGwqB,OAAjB;AACAF,wBAAgB,IAAhB;AACA,YAAIG,aAAaD,QAAQ15B,MAAzB;AACAgnB,eAAOhnB,MAAP,GAAgB,CAAhB;AACA,aAAK,IAAIoC,IAAI,CAAb,EAAgBA,IAAIu3B,UAApB,EAAgCv3B,GAAhC,EAAqC;AACjC,gBAAIw3B,YAAYF,QAAQt3B,CAAR,CAAhB;AACA4kB,mBAAO9mB,IAAP,CAAYq5B,aAAaK,SAAb,CAAZ;AACH;AACJ,KATD;AAUAd,WAAO/0B,QAAP,EAAiB,sBAAjB,EAAyC,IAAzC,EAA+C8kB,KAA/C,CAAqD4Q,oBAArD;AACH;AACD,IAAII,aAAa,UAAU3qB,EAAV,EAAc;AAC3B,QAAIkE,KAAKlE,OAAO,KAAK,CAAZ,GAAgB,EAAhB,GAAqBA,EAA9B;AAAA,QACI+G,KAAK7C,GAAG0mB,cADZ;AAAA,QAEIA,iBAAiB7jB,OAAO,KAAK,CAAZ,GAAgB,IAAhB,GAAuBA,EAF5C;AAAA,QAGIkY,KAAK/a,GAAGvB,KAHZ;AAAA,QAIIA,QAAQsc,OAAO,KAAK,CAAZ,GAAgB,GAAhB,GAAsBA,EAJlC;AAAA,QAKIE,KAAKjb,GAAG4G,MALZ;AAAA,QAMIA,SAASqU,OAAO,KAAK,CAAZ,GAAgB,GAAhB,GAAsBA,EANnC;AAOA,WAAO3rB,OAAO,UAAUwM,EAAV,EAAc;AACxB,YAAI4Y,SAAS5Y,GAAG4Y,MAAhB;AACA,YAAI3S,SAAS;AACTukB,qBAAS1S,MADA;AAETnV,mBAAOA,KAFE;AAGTmI,oBAAQA;AAHC,SAAb;AAKA,YAAI+f,kBAAkB,GAAtB;AACA,YAAIC,kBAAkB,GAAtB;AACA,YAAIC,YAAYjT,OAAOhnB,MAAP,GAAgB,CAAhC;AACA,YAAIi6B,SAAJ,EAAe;AACX,gBAAIC,aAAalT,OAAO,CAAP,CAAjB;AAAA,gBACImT,cAAcnT,OAAO,CAAP,CADlB;AAEA+S,8BAAkBtf,SAASyf,UAAT,EAAqBC,WAArB,CAAlB;AACAH,8BAAkBzY,MAAM2Y,UAAN,EAAkBC,WAAlB,CAAlB;AACH;AACD,YAAIC,cAAc,YAAY;AAC1B,gBAAIH,SAAJ,EAAe;AACX,oBAAIC,aAAalT,OAAO,CAAP,CAAjB;AAAA,oBACImT,cAAcnT,OAAO,CAAP,CADlB;AAEA,oBAAIqT,cAAc5f,SAASyf,UAAT,EAAqBC,WAArB,CAAlB;AACA,oBAAIG,cAAc/Y,MAAM2Y,UAAN,EAAkBC,WAAlB,CAAlB;AACAhlB,uBAAOtD,KAAP,GAAeA,SAASwoB,cAAcN,eAAvB,CAAf;AACA5kB,uBAAO6E,MAAP,GAAgBA,UAAUsgB,cAAcN,eAAxB,CAAhB;AACH;AACDlS,mBAAO3S,MAAP;AACH,SAVD;AAWA,YAAIolB,SAAS,UAAUvwB,CAAV,EAAa;AACtB,gBAAI8vB,kBAAkB9vB,EAAE0vB,OAAF,CAAU15B,MAAV,GAAmB,CAAzC,EAA4CgK,EAAE8vB,cAAF;AAC5C,0CAAcM,WAAd;AACH,SAHD;AAIA,YAAII,eAAe1B,OAAO/0B,QAAP,EAAiB,WAAjB,EAA8B,EAAE02B,SAAS,CAACX,cAAZ,EAA9B,EAA4DjR,KAA5D,CAAkE0R,MAAlE,CAAnB;AACA,YAAIf,aAAJ,EAAmB,8BAAcY,WAAd;AACnB,eAAO;AACHpR,kBAAM,YAAY;AACd,oDAAoBoR,WAApB;AACAI,6BAAaxR,IAAb;AACH;AAJE,SAAP;AAMH,KAvCM,CAAP;AAwCH,CAhDD;AAiDA,IAAI0R,mBAAmB,YAAY;AAC/B,WAAOlB,aAAP;AACH,CAFD;;AAIA,IAAI1Y,QAAQ,aAAaoY,mBAAzB;AACA,IAAIyB,gBAAgB,KAApB;AACA,IAAI,OAAO52B,QAAP,KAAoB,WAAxB,EAAqC;AACjC,QAAI62B,sBAAsB,UAAU5wB,CAAV,EAAa;AACnC2wB,wBAAgB,IAAhB;AACApB,qBAAavvB,CAAb,EAAgB8W,KAAhB;AACH,KAHD;AAIAgY,WAAO/0B,QAAP,EAAiB,qBAAjB,EAAwC,IAAxC,EAA8C8kB,KAA9C,CAAoD+R,mBAApD;AACH;AACD,IAAIC,QAAQ,UAAU3rB,EAAV,EAAc;AACtB,QAAIkE,KAAK,CAAClE,OAAO,KAAK,CAAZ,GAAgB,EAAhB,GAAqBA,EAAtB,EAA0B4qB,cAAnC;AAAA,QACIA,iBAAiB1mB,OAAO,KAAK,CAAZ,GAAgB,IAAhB,GAAuBA,EAD5C;AAEA,WAAO1Q,OAAO,UAAUwM,EAAV,EAAc;AACxB,YAAI4Y,SAAS5Y,GAAG4Y,MAAhB;AACA,YAAIsS,cAAc,YAAY;AAC1B,mBAAOtS,OAAOhH,KAAP,CAAP;AACH,SAFD;AAGA,YAAIyZ,SAAS,UAAUvwB,CAAV,EAAa;AACtB,gBAAI8vB,cAAJ,EAAoB9vB,EAAE8vB,cAAF;AACpB,0CAAcM,WAAd;AACH,SAHD;AAIA,YAAII,eAAe1B,OAAO/0B,QAAP,EAAiB,WAAjB,EAA8B8kB,KAA9B,CAAoC0R,MAApC,CAAnB;AACA,YAAII,aAAJ,EAAmB,8BAAcP,WAAd;AACnB,eAAO;AACHpR,kBAAM,YAAY;AACd,oDAAoBoR,WAApB;AACAI,6BAAaxR,IAAb;AACH;AAJE,SAAP;AAMH,KAjBM,CAAP;AAkBH,CArBD;;AAuBA,IAAI8R,gBAAgB,UAAU5rB,EAAV,EAAc;AAC9B,QAAIgrB,aAAahrB,GAAG,CAAH,CAAjB;AACA,WAAOgrB,UAAP;AACH,CAHD;AAIA,IAAIa,UAAU,UAAU5kB,KAAV,EAAiB;AAC3B,QAAIA,UAAU,KAAK,CAAnB,EAAsB;AAClBA,gBAAQ,EAAR;AACH;AACD,WAAOukB,qBAAqBb,WAAW1jB,KAAX,EAAkB8O,IAAlB,CAAuB,UAAU/V,EAAV,EAAc;AAC7D,YAAIwqB,UAAUxqB,GAAGwqB,OAAjB;AACA,eAAOA,OAAP;AACH,KAH2B,EAGzBoB,aAHyB,CAArB,GAGaD,MAAM1kB,KAAN,CAHpB;AAIH,CARD;AASA,IAAImK,QAAQ,UAAUpR,EAAV,EAAc;AACtB,QAAIA,OAAO,KAAK,CAAhB,EAAmB;AACfA,aAAK,EAAL;AACH;AACD,QAAIiM,IAAIjM,GAAGiM,CAAX;AAAA,QACIjP,IAAIgD,GAAGhD,CADX;AAAA,QAEIiK,QAAQ,mBAAOjH,EAAP,EAAW,CAAC,GAAD,EAAM,GAAN,CAAX,CAFZ;AAGA,QAAIiM,MAAMrN,SAAN,IAAmB5B,MAAM4B,SAA7B,EAAwC;AACpC,YAAIktB,iBAAiBhX,YAAY7I,KAAK,CAAjB,CAArB;AACA,YAAI8f,iBAAiBjX,YAAY9X,KAAK,CAAjB,CAArB;AACA,YAAIgvB,UAAU,EAAE/f,GAAG,CAAL,EAAQjP,GAAG,CAAX,EAAd;AACA,eAAO6uB,QAAQ5kB,KAAR,EAAe8O,IAAf,CAAoB,UAAUnE,KAAV,EAAiB;AACxCoa,oBAAQ/f,CAAR,GAAY6f,eAAela,MAAM3F,CAArB,CAAZ;AACA+f,oBAAQhvB,CAAR,GAAY+uB,eAAena,MAAM5U,CAArB,CAAZ;AACA,mBAAOgvB,OAAP;AACH,SAJM,CAAP;AAKH,KATD,MASO;AACH,eAAOH,QAAQ5kB,KAAR,CAAP;AACH;AACJ,CAnBD;;AAqBA,IAAIglB,QAAQ,YAAY;AACpB,QAAI36B,UAAU,EAAd;AACA,SAAK,IAAI2kB,KAAK,CAAd,EAAiBA,KAAKllB,UAAUD,MAAhC,EAAwCmlB,IAAxC,EAA8C;AAC1C3kB,gBAAQ2kB,EAAR,IAAcllB,UAAUklB,EAAV,CAAd;AACH;AACD,WAAOziB,OAAO,UAAUwM,EAAV,EAAc;AACxB,YAAI4Y,SAAS5Y,GAAG4Y,MAAhB;AAAA,YACIG,WAAW/Y,GAAG+Y,QADlB;AAEA,YAAI7lB,IAAI,CAAR;AACA,YAAIgoB,OAAJ;AACA,YAAIgR,cAAc,YAAY;AAC1BhR,sBAAU5pB,QAAQ4B,CAAR,EAAWymB,KAAX,CAAiB;AACvBZ,0BAAU,YAAY;AAClB7lB;AACAA,yBAAK5B,QAAQR,MAAb,GAAsBioB,UAAtB,GAAmCmT,aAAnC;AACH,iBAJsB;AAKvBtT,wBAAQA;AALe,aAAjB,CAAV;AAOH,SARD;AASAsT;AACA,eAAO;AACHpS,kBAAM,YAAY;AACd,uBAAOoB,WAAWA,QAAQpB,IAAR,EAAlB;AACH;AAHE,SAAP;AAKH,KApBM,CAAP;AAqBH,CA1BD;;AA4BA,IAAIqS,YAAY,UAAUpuB,CAAV,EAAalE,CAAb,EAAgB;AAC5B,WAAOrG,OAAO,UAAUylB,QAAV,EAAoB;AAC9B,YAAImT,UAAU,CAAd;AACA,YAAIC,UAAUzP,WAAW7e,CAAX,EAAclE,CAAd,EAAiB8f,KAAjB,CAAuB,qBAAS,EAAT,EAAaV,QAAb,EAAuB,EAAEL,QAAQ,UAAU5Y,EAAV,EAAc;AAC5E,oBAAIssB,KAAKtsB,GAAG,CAAH,CAAT;AAAA,oBACIusB,KAAKvsB,GAAG,CAAH,CADT;AAEAiZ,yBAASL,MAAT,CAAgBvF,qBAAqBiZ,EAArB,EAAyBC,EAAzB,EAA6BH,OAA7B,CAAhB;AACH,aAJuD,EAAvB,CAAvB,CAAd;AAKA,eAAO;AACHI,wBAAY,UAAUnvB,CAAV,EAAa;AACrB,uBAAO+uB,UAAU/uB,CAAjB;AACH,aAHE;AAIHyc,kBAAM,YAAY;AACd,uBAAOuS,QAAQvS,IAAR,EAAP;AACH;AANE,SAAP;AAQH,KAfM,CAAP;AAgBH,CAjBD;;AAmBA,IAAI2S,QAAQ,UAAUC,WAAV,EAAuB;AAC/B,WAAOl5B,OAAO,UAAUwM,EAAV,EAAc;AACxB,YAAI+Y,WAAW/Y,GAAG+Y,QAAlB;AACA,YAAI4T,UAAU75B,WAAWimB,QAAX,EAAqB2T,WAArB,CAAd;AACA,eAAO;AACH5S,kBAAM,YAAY;AACd,uBAAO8S,aAAaD,OAAb,CAAP;AACH;AAHE,SAAP;AAKH,KARM,CAAP;AASH,CAVD;;AAYA,IAAIE,QAAQ,YAAY;AACpB,QAAIv7B,UAAU,EAAd;AACA,SAAK,IAAI2kB,KAAK,CAAd,EAAiBA,KAAKllB,UAAUD,MAAhC,EAAwCmlB,IAAxC,EAA8C;AAC1C3kB,gBAAQ2kB,EAAR,IAAcllB,UAAUklB,EAAV,CAAd;AACH;AACD,WAAOziB,OAAO,UAAUylB,QAAV,EAAoB;AAC9B,YAAImD,OAAO9qB,QAAQG,GAAR,CAAY,UAAUq7B,UAAV,EAAsB;AACzC,mBAAOA,WAAWnT,KAAX,CAAiBV,QAAjB,CAAP;AACH,SAFU,CAAX;AAGA,eAAO;AACHa,kBAAM,YAAY;AACd,uBAAOsC,KAAKrkB,OAAL,CAAa,UAAUQ,GAAV,EAAe;AAC/B,2BAAOA,IAAIuhB,IAAJ,EAAP;AACH,iBAFM,CAAP;AAGH;AALE,SAAP;AAOH,KAXM,CAAP;AAYH,CAjBD;;AAmBA,IAAI7Z,WAAW,UAAU8sB,SAAV,EAAqBC,SAArB,EAAgC;AAC3C,WAAOx5B,OAAO,UAAUwM,EAAV,EAAc;AACxB,YAAI4Y,SAAS5Y,GAAG4Y,MAAhB;AAAA,YACIG,WAAW/Y,GAAG+Y,QADlB;AAEA,YAAIkU,MAAJ;AACA,YAAIC,eAAeH,UAAUpT,KAAV,CAAgB;AAC/Bf,oBAAQ,YAAY;AAChB,uBAAOqU,WAAWruB,SAAX,IAAwBga,OAAOqU,MAAP,CAA/B;AACH,aAH8B;AAI/BlU,sBAAUA;AAJqB,SAAhB,CAAnB;AAMA,YAAIoU,eAAeH,UAAUrT,KAAV,CAAgB;AAC/Bf,oBAAQ,UAAUvb,CAAV,EAAa;AACjB,uBAAO4vB,SAAS5vB,CAAhB;AACH,aAH8B;AAI/B0b,sBAAUA;AAJqB,SAAhB,CAAnB;AAMA,eAAO;AACHe,kBAAM,YAAY;AACdoT,6BAAapT,IAAb;AACAqT,6BAAarT,IAAb;AACH;AAJE,SAAP;AAMH,KAtBM,CAAP;AAuBH,CAxBD;;AA0BA,IAAIsT,UAAU,UAAU97B,OAAV,EAAmB+7B,QAAnB,EAA6B;AACvC,QAAIC,mBAAmB,OAAOD,QAAP,KAAoB,QAA3C;AACA,QAAIE,mBAAmBj8B,QAAQG,GAAR,CAAY,UAAUsM,CAAV,EAAa7K,CAAb,EAAgB;AAC/C,YAAIw5B,cAAcY,mBAAmBD,WAAWn6B,CAA9B,GAAkCm6B,SAASn6B,CAAT,CAApD;AACA,eAAO+4B,MAAMQ,MAAMC,WAAN,CAAN,EAA0B3uB,CAA1B,CAAP;AACH,KAHsB,CAAvB;AAIA,WAAO6e,WAAW/hB,KAAX,CAAiB,KAAK,CAAtB,EAAyB0yB,gBAAzB,CAAP;AACH,CAPD;;AASA,IAAI1e,MAAM,UAAUxc,OAAV,EAAmB4U,KAAnB,EAA0B;AAChC,4BAAQ,KAAR,EAAe,yCAAf;AACA,WAAO,yBAAO5U,OAAP,EAAgB4U,KAAhB,CAAP;AACH,CAHD;AAIA,IAAIqJ,MAAM,UAAUje,OAAV,EAAmB4U,KAAnB,EAA0B;AAChC,4BAAQ,KAAR,EAAe,yCAAf;AACA,WAAO,yBAAO5U,OAAP,EAAgB4U,KAAhB,CAAP;AACH,CAHD;;QAKSzT,SAAAA;QAAQinB,YAAAA;QAAWpnB,QAAAA;QAAsB2rB,QAAfc;QAAsB7oB,YAAAA;QAAoBu2B,aAAT3O;QAAsCyH,UAAjBW;QAA0CC,SAAhBc;QAAwBoB,WAAAA;QAAUpF,QAAAA;QAAO4F,SAAAA;QAAiBiC,UAATza;QAAkBua,QAAAA;QAAOhB,aAAAA;QAAYsB,QAAAA;QAAO1P,YAAAA;QAAW4P,YAAAA;QAAWM,QAAAA;QAAOI,QAAAA;QAAqBlQ,WAAdC;QAAwB3c,WAAAA;QAAUmtB,UAAAA;QAAS1Y,OAAAA;QAAMwL,SAAAA;QAAwBzd,YAAhBuT;QAA2BnH,MAAAA;QAAKyB,MAAAA;QAAKmJ,SAAAA;QAAQqB,gBAAAA;;AC/xD1V;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;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","file":"src.4631146b.map","sourceRoot":"../src","sourcesContent":["export function h(name, attributes) {\n  var rest = []\n  var children = []\n  var length = arguments.length\n\n  while (length-- > 2) rest.push(arguments[length])\n\n  while (rest.length) {\n    var node = rest.pop()\n    if (node && node.pop) {\n      for (length = node.length; length--; ) {\n        rest.push(node[length])\n      }\n    } else if (node != null && node !== true && node !== false) {\n      children.push(node)\n    }\n  }\n\n  return typeof name === \"function\"\n    ? name(attributes || {}, children)\n    : {\n        nodeName: name,\n        attributes: attributes || {},\n        children: children,\n        key: attributes && attributes.key\n      }\n}\n\nexport function app(state, actions, view, container) {\n  var map = [].map\n  var rootElement = (container && container.children[0]) || null\n  var oldNode = rootElement && recycleElement(rootElement)\n  var lifecycle = []\n  var skipRender\n  var isRecycling = true\n  var globalState = clone(state)\n  var wiredActions = wireStateToActions([], globalState, clone(actions))\n\n  scheduleRender()\n\n  return wiredActions\n\n  function recycleElement(element) {\n    return {\n      nodeName: element.nodeName.toLowerCase(),\n      attributes: {},\n      children: map.call(element.childNodes, function(element) {\n        return element.nodeType === 3 // Node.TEXT_NODE\n          ? element.nodeValue\n          : recycleElement(element)\n      })\n    }\n  }\n\n  function resolveNode(node) {\n    return typeof node === \"function\"\n      ? resolveNode(node(globalState, wiredActions))\n      : node != null\n        ? node\n        : \"\"\n  }\n\n  function render() {\n    skipRender = !skipRender\n\n    var node = resolveNode(view)\n\n    if (container && !skipRender) {\n      rootElement = patch(container, rootElement, oldNode, (oldNode = node))\n    }\n\n    isRecycling = false\n\n    while (lifecycle.length) lifecycle.pop()()\n  }\n\n  function scheduleRender() {\n    if (!skipRender) {\n      skipRender = true\n      setTimeout(render)\n    }\n  }\n\n  function clone(target, source) {\n    var out = {}\n\n    for (var i in target) out[i] = target[i]\n    for (var i in source) out[i] = source[i]\n\n    return out\n  }\n\n  function setPartialState(path, value, source) {\n    var target = {}\n    if (path.length) {\n      target[path[0]] =\n        path.length > 1\n          ? setPartialState(path.slice(1), value, source[path[0]])\n          : value\n      return clone(source, target)\n    }\n    return value\n  }\n\n  function getPartialState(path, source) {\n    var i = 0\n    while (i < path.length) {\n      source = source[path[i++]]\n    }\n    return source\n  }\n\n  function wireStateToActions(path, state, actions) {\n    for (var key in actions) {\n      typeof actions[key] === \"function\"\n        ? (function(key, action) {\n            actions[key] = function(data) {\n              var result = action(data)\n\n              if (typeof result === \"function\") {\n                result = result(getPartialState(path, globalState), actions)\n              }\n\n              if (\n                result &&\n                result !== (state = getPartialState(path, globalState)) &&\n                !result.then // !isPromise\n              ) {\n                scheduleRender(\n                  (globalState = setPartialState(\n                    path,\n                    clone(state, result),\n                    globalState\n                  ))\n                )\n              }\n\n              return result\n            }\n          })(key, actions[key])\n        : wireStateToActions(\n            path.concat(key),\n            (state[key] = clone(state[key])),\n            (actions[key] = clone(actions[key]))\n          )\n    }\n\n    return actions\n  }\n\n  function getKey(node) {\n    return node ? node.key : null\n  }\n\n  function eventListener(event) {\n    return event.currentTarget.events[event.type](event)\n  }\n\n  function updateAttribute(element, name, value, oldValue, isSvg) {\n    if (name === \"key\") {\n    } else if (name === \"style\") {\n      for (var i in clone(oldValue, value)) {\n        var style = value == null || value[i] == null ? \"\" : value[i]\n        if (i[0] === \"-\") {\n          element[name].setProperty(i, style)\n        } else {\n          element[name][i] = style\n        }\n      }\n    } else {\n      if (name[0] === \"o\" && name[1] === \"n\") {\n        name = name.slice(2)\n\n        if (element.events) {\n          if (!oldValue) oldValue = element.events[name]\n        } else {\n          element.events = {}\n        }\n\n        element.events[name] = value\n\n        if (value) {\n          if (!oldValue) {\n            element.addEventListener(name, eventListener)\n          }\n        } else {\n          element.removeEventListener(name, eventListener)\n        }\n      } else if (\n        name in element &&\n        name !== \"list\" &&\n        name !== \"type\" &&\n        name !== \"draggable\" &&\n        name !== \"spellcheck\" &&\n        name !== \"translate\" &&\n        !isSvg\n      ) {\n        element[name] = value == null ? \"\" : value\n      } else if (value != null && value !== false) {\n        element.setAttribute(name, value)\n      }\n\n      if (value == null || value === false) {\n        element.removeAttribute(name)\n      }\n    }\n  }\n\n  function createElement(node, isSvg) {\n    var element =\n      typeof node === \"string\" || typeof node === \"number\"\n        ? document.createTextNode(node)\n        : (isSvg = isSvg || node.nodeName === \"svg\")\n          ? document.createElementNS(\n              \"http://www.w3.org/2000/svg\",\n              node.nodeName\n            )\n          : document.createElement(node.nodeName)\n\n    var attributes = node.attributes\n    if (attributes) {\n      if (attributes.oncreate) {\n        lifecycle.push(function() {\n          attributes.oncreate(element)\n        })\n      }\n\n      for (var i = 0; i < node.children.length; i++) {\n        element.appendChild(\n          createElement(\n            (node.children[i] = resolveNode(node.children[i])),\n            isSvg\n          )\n        )\n      }\n\n      for (var name in attributes) {\n        updateAttribute(element, name, attributes[name], null, isSvg)\n      }\n    }\n\n    return element\n  }\n\n  function updateElement(element, oldAttributes, attributes, isSvg) {\n    for (var name in clone(oldAttributes, attributes)) {\n      if (\n        attributes[name] !==\n        (name === \"value\" || name === \"checked\"\n          ? element[name]\n          : oldAttributes[name])\n      ) {\n        updateAttribute(\n          element,\n          name,\n          attributes[name],\n          oldAttributes[name],\n          isSvg\n        )\n      }\n    }\n\n    var cb = isRecycling ? attributes.oncreate : attributes.onupdate\n    if (cb) {\n      lifecycle.push(function() {\n        cb(element, oldAttributes)\n      })\n    }\n  }\n\n  function removeChildren(element, node) {\n    var attributes = node.attributes\n    if (attributes) {\n      for (var i = 0; i < node.children.length; i++) {\n        removeChildren(element.childNodes[i], node.children[i])\n      }\n\n      if (attributes.ondestroy) {\n        attributes.ondestroy(element)\n      }\n    }\n    return element\n  }\n\n  function removeElement(parent, element, node) {\n    function done() {\n      parent.removeChild(removeChildren(element, node))\n    }\n\n    var cb = node.attributes && node.attributes.onremove\n    if (cb) {\n      cb(element, done)\n    } else {\n      done()\n    }\n  }\n\n  function patch(parent, element, oldNode, node, isSvg) {\n    if (node === oldNode) {\n    } else if (oldNode == null || oldNode.nodeName !== node.nodeName) {\n      var newElement = createElement(node, isSvg)\n      parent.insertBefore(newElement, element)\n\n      if (oldNode != null) {\n        removeElement(parent, element, oldNode)\n      }\n\n      element = newElement\n    } else if (oldNode.nodeName == null) {\n      element.nodeValue = node\n    } else {\n      updateElement(\n        element,\n        oldNode.attributes,\n        node.attributes,\n        (isSvg = isSvg || node.nodeName === \"svg\")\n      )\n\n      var oldKeyed = {}\n      var newKeyed = {}\n      var oldElements = []\n      var oldChildren = oldNode.children\n      var children = node.children\n\n      for (var i = 0; i < oldChildren.length; i++) {\n        oldElements[i] = element.childNodes[i]\n\n        var oldKey = getKey(oldChildren[i])\n        if (oldKey != null) {\n          oldKeyed[oldKey] = [oldElements[i], oldChildren[i]]\n        }\n      }\n\n      var i = 0\n      var k = 0\n\n      while (k < children.length) {\n        var oldKey = getKey(oldChildren[i])\n        var newKey = getKey((children[k] = resolveNode(children[k])))\n\n        if (newKeyed[oldKey]) {\n          i++\n          continue\n        }\n\n        if (newKey != null && newKey === getKey(oldChildren[i + 1])) {\n          if (oldKey == null) {\n            removeElement(element, oldElements[i], oldChildren[i])\n          }\n          i++\n          continue\n        }\n\n        if (newKey == null || isRecycling) {\n          if (oldKey == null) {\n            patch(element, oldElements[i], oldChildren[i], children[k], isSvg)\n            k++\n          }\n          i++\n        } else {\n          var keyedNode = oldKeyed[newKey] || []\n\n          if (oldKey === newKey) {\n            patch(element, keyedNode[0], keyedNode[1], children[k], isSvg)\n            i++\n          } else if (keyedNode[0]) {\n            patch(\n              element,\n              element.insertBefore(keyedNode[0], oldElements[i]),\n              keyedNode[1],\n              children[k],\n              isSvg\n            )\n          } else {\n            patch(element, oldElements[i], null, children[k], isSvg)\n          }\n\n          newKeyed[newKey] = children[k]\n          k++\n        }\n      }\n\n      while (i < oldChildren.length) {\n        if (getKey(oldChildren[i]) == null) {\n          removeElement(element, oldElements[i], oldChildren[i])\n        }\n        i++\n      }\n\n      for (var i in oldKeyed) {\n        if (!newKeyed[i]) {\n          removeElement(element, oldKeyed[i][0], oldKeyed[i][1])\n        }\n      }\n    }\n    return element\n  }\n}\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Amplitude\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Amplitude\"] = factory();\n\telse\n\t\troot[\"Amplitude\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 8);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * These variables make Amplitude run. The config is the most important\n * containing active settings and parameters.\n *\n * The config JSON is the global settings for ALL of Amplitude functions.\n * This is global and contains all of the user preferences. The default\n * settings are set, and the user overwrites them when they initialize\n * Amplitude.\n *\n * @module config\n * @type {object}\n * @property {string}  \tconfig.version          \t\t\t\t- The current version of AmplitudeJS.\n * @property {object} \tconfig.active_song \t\t \t\t\t\t\t-\tHandles all of the audio.\n * @property {object} \tconfig.active_metadata\t\t\t\t\t- Contains the active metadata for the song.\n * @property {string} \tconfig.active_album\t\t\t\t\t\t\t- Holds the active album name. Used to check and see if the album changed and run the album changed callback.\n * @property {number} \tconfig.active_index\t\t\t\t\t\t\t- Contains the index of the actively playing song.\n * @property {string} \tconfig.active_playlist\t\t\t\t\t- Contains the key to the active playlist index.\n * @property {boolean}\tconfig.autoplay\t\t\t\t\t\t\t\t\t- Set to true to autoplay the song\n * @property {number} \tconfig.playback_speed\t\t\t\t\t\t- Sets the initial playback speed of the song. The values for this can be 1.0, 1.5, 2.0\n * @property {object} \tconfig.callbacks\t\t\t\t\t\t\t\t- The user can pass a JSON object with a key => value store of callbacks to be run at certain events.\n * @property {array} \t\tconfig.songs\t\t\t\t\t\t\t\t\t\t- Contains all of the songs the user has passed to Amplitude to use.\n * @property {object} \tconfig.playlists\t\t\t\t\t\t\t\t- Contains all of the playlists the user created.\n * @property {object} \tconfig.start_song \t\t\t\t\t\t\t- The index of the song that AmplitudeJS should start with.\n * @property {object} \tconfig.shuffled_playlists\t\t\t\t- Will contain shuffled playlists.\n * @property {string} \tconfig.starting_playlist \t\t\t\t- The starting playlist the player will intiialize to.\n * @property {object} \tconfig.shuffled_statuses \t\t\t\t- Contains whether the current playlist is in shuffle mode or not.\n * @property {object} \tconfig.repeat_statuses \t\t\t\t\t- Contains whether the playlist is in repeat mode or not.\n * @property {object} \tconfig.shuffled_active_indexes\t- Contains the active index in a shuffled playlist.\n * @property {boolean} \tconfig.repeat \t\t\t\t\t\t\t\t\t- When repeat is on, when the song ends the song will replay itself.\n * @property {object} \tconfig.shuffle_list\t\t\t\t\t\t\t- When shuffled, gets populated with the songs the user provided in a random order.\n * @property {boolean} \tconfig.shuffle_on\t\t\t\t\t\t\t\t- When on, gets set to true so when traversing through songs, AmplitudeJS knows whether or not to use the songs object or the shuffle_list\n * @property {number} \tconfig.shuffle_active_index \t\t- When shuffled, this index is used to let AmplitudeJS know where it's at when traversing.\n * @property {string}\t\tconfig.default_album_art \t\t\t\t- The user can set default album art to be displayed if the song they set doesn't contain album art.\n * @property {boolean} \tconfig.debug\t\t\t\t\t\t\t\t\t\t- When set to true, AmplitudeJS will print to the console any errors providing helpful feedback to the user.\n * @property {number} \tconfig.volume \t\t\t\t\t\t\t\t\t- The user can set the initial volume to a number between 0 and 1 over-riding the default of .5\n * @property {number} \tconfig.pre_mute_volume \t\t\t\t\t- This is set on mute so that when a user un-mutes AmplitudeJS knows what to restore the volume to.\n * @property {number}\t\tconfig.volume_increment \t\t\t\t- The default values are an integer between 1 and 100 for how much the volume should increase when the user presses the volume up button.\n * @property {number}\t\tconfig.volume_decrement \t\t\t\t- The default values are an integer between 1 and 100 for how much the volume should decrease when the user presses the volume down button.\n * @property {string} \tconfig.soundcloud_client \t\t\t\t- When using SoundCloud, the user will have to provide their API Client ID\n * @property {boolean} \tconfig.soundcloud_use_art \t\t\t- The user can set this to true and AmplitudeJS will use the album art for the song returned from the Soundcloud API\n * @property {number} \tconfig.soundcloud_song_count \t\t- Used on config to count how many songs are from Soundcloud and compare it to how many are ready for when to move to the rest of the configuration\n * @property {number} \tconfig.soundcloud_songs_ready \t- Used on config to count how many songs are ready so when we get all of the data from the SoundCloud API that we need this should match the SoundCloud song count meaning we can move to the rest of the config.\n * @property {integer}\tconfig.is_touch_moving \t\t\t\t\t- Flag for if the user is moving the screen.\n * @property {boolean}\tconfig.buffered\t\t\t\t\t\t\t\t\t- How much of the song is buffered.\n * @property {object} \tconfig.bindings\t\t\t\t\t\t\t\t\t- Array of bindings to certain key events.\n * @property {boolean} \tconfig.continue_next \t\t\t\t\t\t- Determines when a song ends, we should continue to the next song.\n */\nmodule.exports = {\n  version: '3.3.0',\n\n  active_song: new Audio(),\n\n  active_metadata: {},\n\n  active_album: '',\n\n  active_index: 0,\n\n  active_playlist: '',\n\n  autoplay: false,\n\n  playback_speed: 1.0,\n\n  callbacks: {},\n\n  songs: [],\n\n  playlists: {},\n\n  start_song: '',\n\n  shuffled_playlists: {},\n\n  starting_playlist: '',\n\n  shuffled_statuses: {},\n\n  shuffled_active_indexes: {},\n\n  repeat_statuses: {},\n\n  repeat: false,\n\n  repeat_song: false,\n\n  shuffle_list: {},\n\n  shuffle_on: false,\n\n  shuffle_active_index: 0,\n\n  default_album_art: '',\n\n  debug: false,\n\n  volume: .5,\n\n  pre_mute_volume: .5,\n\n  volume_increment: 5,\n\n  volume_decrement: 5,\n\n  soundcloud_client: '',\n\n  soundcloud_use_art: false,\n\n  soundcloud_song_count: 0,\n\n  soundcloud_songs_ready: 0,\n\n  is_touch_moving: false,\n\n  buffered: 0,\n\n  bindings: {},\n\n  continue_next: true\n};\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _config = __webpack_require__(0);\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _core = __webpack_require__(3);\n\nvar _core2 = _interopRequireDefault(_core);\n\nvar _visual = __webpack_require__(2);\n\nvar _visual2 = _interopRequireDefault(_visual);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * For the sake of code clarity, these functions perform helper tasks\n * assisting the logical functions with what they need such as setting\n * the proper song index after an event has occured.\n *\n * @module core/AmplitudeHelpers\n */\n\n\n/**\n * AmplitudeJS Core Module\n * @module core/AmplitudeCore\n */\nvar AmplitudeHelpers = function () {\n\t/**\n  * Resets the config to the default state. This is called on initialize\n  * to ensure the user's config is what matters.\n  *\n  * Public Accessor: AmplitudeHelpers.resetConfig()\n  *\n  * @access public\n  */\n\tfunction resetConfig() {\n\t\t_config2.default.active_song = new Audio();\n\t\t_config2.default.active_metadata = {};\n\t\t_config2.default.active_album = '';\n\t\t_config2.default.active_index = 0;\n\t\t_config2.default.active_playlist = '';\n\t\t_config2.default.active_playlist = '';\n\t\t_config2.default.autoplay = false;\n\t\t_config2.default.playback_speed = 1.0;\n\t\t_config2.default.callbacks = {};\n\t\t_config2.default.songs = [];\n\t\t_config2.default.playlists = {};\n\t\t_config2.default.start_song = '';\n\t\t_config2.default.shuffled_playlists = {};\n\t\t_config2.default.shuffled_statuses = {};\n\t\t_config2.default.repeat = false;\n\t\t_config2.default.shuffle_list = {};\n\t\t_config2.default.shuffle_on = false;\n\t\t_config2.default.shuffle_active_index = 0;\n\t\t_config2.default.default_album_art = '';\n\t\t_config2.default.debug = false;\n\t\t_config2.default.handle_song_elements = true;\n\t\t_config2.default.volume = .5;\n\t\t_config2.default.pre_mute_volume = .5;\n\t\t_config2.default.volume_increment = 5;\n\t\t_config2.default.volume_decrement = 5;\n\t\t_config2.default.soundcloud_client = '';\n\t\t_config2.default.soundcloud_use_art = false;\n\t\t_config2.default.soundcloud_song_count = 0;\n\t\t_config2.default.soundcloud_songs_ready = 0;\n\t\t_config2.default.continue_next = true;\n\t}\n\n\t/**\n  * Writes out debug message to the console if enabled.\n  *\n  * Public Accessor: AmplitudeHelpers.writeDebugMessage( message )\n  *\n  * @access public\n  * @param {string} message - The string that gets printed to alert the user of a debugging error.\n  */\n\tfunction writeDebugMessage(message) {\n\t\tif (_config2.default.debug) {\n\t\t\tconsole.log(message);\n\t\t}\n\t}\n\n\t/**\n  * Runs a user defined callback method\n  *\n  * Public Accessor: AmplitudeHelpers.runCallback( callbackName )\n  *\n  * @access public\n  * @param {string} callbackName - The name of the callback we are going to run.\n  */\n\tfunction runCallback(callbackName) {\n\t\t/*\n  \tChecks to see if a user defined a callback method for the\n  \tcallback we are running.\n  */\n\t\tif (_config2.default.callbacks[callbackName]) {\n\t\t\t/*\n   \tBuild the callback function\n   */\n\t\t\tvar callbackFunction = _config2.default.callbacks[callbackName];\n\n\t\t\t/*\n   \tWrite a debug message stating the callback we are running\n   */\n\t\t\twriteDebugMessage('Running Callback: ' + callbackName);\n\n\t\t\t/*\n   \tRun the callback function and catch any errors\n   */\n\t\t\ttry {\n\t\t\t\tcallbackFunction();\n\t\t\t} catch (error) {\n\t\t\t\tif (error.message == \"CANCEL EVENT\") {\n\t\t\t\t\tthrow error;\n\t\t\t\t} else {\n\t\t\t\t\twriteDebugMessage('Callback error: ' + error.message);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n  * Changes the active song in the config. This happens in multiple\n  * scenarios: The user clicks a play button that has an index that is\n  * different than what is currently playing, the song ends and the next\n  * song begins, etc.\n  *\n  * Public Accessor: AmplitudeHelpers.changeSong( songIndex )\n  *\n  * @access public\n  * @param {number} songIndex - The song index we are changing to\n  *\n  */\n\tfunction changeSong(songIndex) {\n\t\t/*\n  \tGrab the song at the index defined by the user.\n  */\n\t\tvar song = _config2.default.songs[songIndex];\n\n\t\t/*\n  \tStops the currently playing song so we can adjust\n  \twhat we need.\n  */\n\t\t_core2.default.stop();\n\n\t\t/**\n   * @todo: Stop Visualization\n   */\n\n\t\t/*\n  \tSet all play buttons to pause while we change\n  \tthe song.\n  */\n\t\t_visual2.default.setPlayPauseButtonsToPause();\n\n\t\t/*\n  \tSince it is a new song, we reset the song sliders. These\n  \treact to time updates and will eventually be updated but we\n  \tforce update them is if there is a song slider bound to a\n  \tspecific song, they won't update.\n  */\n\t\t_visual2.default.resetSongSliders();\n\n\t\t/*\n  \tResets the progress bars\n  */\n\t\t_visual2.default.resetSongPlayedProgressBars();\n\n\t\t/*\n  \tReset all the time place holders accordingly.\n  */\n\t\t_visual2.default.resetTimes();\n\n\t\t/*\n  \tRun a callback if an album is going\n  \tto change.\n  */\n\t\tif (checkNewAlbum(song)) {\n\t\t\trunCallback('album_change');\n\t\t}\n\n\t\t/*\n  \tSet the new song information so we can use the\n  \tactive meta data later on.\n  */\n\t\tsetNewSong(song, songIndex);\n\n\t\t/*\n  \tDisplay the new visual metadata now that the config has\n  \tbeen changed. This will show the new song.\n  */\n\t\t_visual2.default.displaySongMetadata();\n\n\t\t/*\n  \tSets the active container. This is a class that\n  \tdesigners can use on an element that contains the current\n  \tsong's controls to show it's highlighted.\n  */\n\t\t_visual2.default.setActiveContainer();\n\n\t\t/*\n  \tSets the active song's duration\n  */\n\t\t_visual2.default.syncSongDuration();\n\n\t\t/*\n  \tRun song change callback.\n  */\n\t\trunCallback('song_change');\n\t}\n\n\t/**\n  * Checks to see if the new song to be played is different than the song\n  * that is currently playing. To be true, the user would have selected\n  * play on a new song with a new index. To be false, the user would have\n  * clicked play/pause on the song that was playing.\n  *\n  * Public Accessor: AmplitudeHelpers.checkNewSong( songIndex )\n  *\n  * @access public\n  * @param {number} songIndex - The index of the new song to be played.\n  * @returns {boolean} True if we are setting a new song, false if we are not setting a new song.\n  */\n\tfunction checkNewSong(songIndex) {\n\t\tif (songIndex != _config2.default.active_index) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t/**\n  * Checks to see if there is a new album\n  *\n  * Public Accessor: AmplitudeHelpers.checkNewAlbum( new Album )\n  *\n  * @access public\n  * @param {string} newAlbum - Checks to see if the new song will have a new album.\n  * @returns {boolean} True if there is a new album, false if there is not a new ablum.\n  */\n\tfunction checkNewAlbum(newAlbum) {\n\t\tif (_config2.default.active_album != newAlbum) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t/**\n  * Checks to see if there is a new playlist\n  *\n  * Public Accessor: AmplitudeHelpers.checkNewPlaylist( playlist )\n  *\n  * @access public\n  * @param {string} playlist - The playlist passed in to check against the active playlist.\n  * @returns {boolean} True if there is a new playlist, false if there is not a new playlist.\n  */\n\tfunction checkNewPlaylist(playlist) {\n\t\tif (_config2.default.active_playlist != playlist) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t/**\n  * Sets the new song in the config. Sets the src of the audio object,\n  * updates the\tmetadata and sets the active album.\n  *\n  * @access private\n  * @param {object} song \t- The song object of the song we are changing to.\n  * @param {number} index \t- The index of the song in the songs object we are changing.\n  */\n\tfunction setNewSong(song, index) {\n\t\t_config2.default.active_song.src = song.url;\n\t\t_config2.default.active_metadata = song;\n\t\t_config2.default.active_album = song.album;\n\t\t_config2.default.active_index = index;\n\t}\n\n\t/**\n  * Shuffles individual songs in the config\n  * Based off of: http://www.codinghorror.com/blog/2007/12/the-danger-of-naivete.html\n  *\n  * Public Accessor: AmplitudeHelpers.shuffleSongs()\n  *\n  * @access public\n  */\n\tfunction shuffleSongs() {\n\t\t/*\n  \tBuilds a temporary array with the length of the config.\n  */\n\t\tvar shuffleTemp = new Array(_config2.default.songs.length);\n\n\t\t/*\n  \tSet the temporary array equal to the songs array.\n  */\n\t\tfor (var i = 0; i < _config2.default.songs.length; i++) {\n\t\t\tshuffleTemp[i] = _config2.default.songs[i];\n\t\t\tshuffleTemp[i].original_index = i;\n\t\t}\n\n\t\t/*\n  \tIterate ove rthe songs and generate random numbers to\n  \tswap the indexes of the shuffle array.\n  */\n\t\tfor (var _i = _config2.default.songs.length - 1; _i > 0; _i--) {\n\t\t\tvar randNum = Math.floor(Math.random() * _config2.default.songs.length + 1);\n\t\t\tshuffleSwap(shuffleTemp, _i, randNum - 1);\n\t\t}\n\n\t\t/*\n  \tSet the shuffle list to the shuffle temp.\n  */\n\t\t_config2.default.shuffle_list = shuffleTemp;\n\t}\n\n\t/**\n  * Shuffle songs in a playlist\n  *\n  * Public Accessor: AmplitudeHelpers.shufflePlaylistSongs( playlist )\n  *\n  * @access public\n  * @param {string} playlist - The playlist we are shuffling.\n  */\n\tfunction shufflePlaylistSongs(playlist) {\n\t\t/*\n  \tBuilds a temporary array with the length of the playlist songs.\n  */\n\t\tvar shuffleTemp = new Array(_config2.default.playlists[playlist].length);\n\n\t\t/*\n  \tSet the temporary array equal to the playlist array.\n  */\n\t\tfor (var i = 0; i < _config2.default.playlists[playlist].length; i++) {\n\t\t\tshuffleTemp[i] = _config2.default.songs[_config2.default.playlists[playlist][i]];\n\t\t\tshuffleTemp[i].original_index = _config2.default.playlists[playlist][i];\n\t\t}\n\n\t\t/*\n  \tIterate ove rthe songs and generate random numbers to\n  \tswap the indexes of the shuffle array.\n  */\n\t\tfor (var _i2 = _config2.default.playlists[playlist].length - 1; _i2 > 0; _i2--) {\n\t\t\tvar randNum = Math.floor(Math.random() * _config2.default.playlists[playlist].length + 1);\n\t\t\tshuffleSwap(shuffleTemp, _i2, randNum - 1);\n\t\t}\n\n\t\t/*\n  \tSet the shuffle list to the shuffle temp.\n  */\n\t\t_config2.default.shuffled_playlists[playlist] = shuffleTemp;\n\t}\n\n\t/**\n  * Swaps and randomizes the song shuffle.\n  *\n  * @access private\n  * @param {object} shuffleList \t- The list of songs that is going to be shuffled\n  * @param {number} original \t\t- The original index of he song in the songs array\n  * @param {number} random \t\t\t- The randomized index that will be the new index of the song in the shuffle array.\n  */\n\tfunction shuffleSwap(shuffleList, original, random) {\n\t\tvar temp = shuffleList[original];\n\t\tshuffleList[original] = shuffleList[random];\n\t\tshuffleList[random] = temp;\n\t}\n\n\t/**\n  * Sets the active playlist\n  *\n  * Public Accessor: AmplitudeHelpers.setActivePlaylist( playlist )\n  *\n  * @access public\n  * @param {string} playlist - The string of the playlist being set to active.\n  */\n\tfunction setActivePlaylist(playlist) {\n\t\t/*\n  \tIf the active playlist is different than the playlist being set,\n  \twe run the `playlist_changed` callback.\n  */\n\t\tif (_config2.default.active_playlist != playlist) {\n\t\t\trunCallback('playlist_changed');\n\t\t}\n\n\t\t/*\n  \tSet the active playlist to the playlist parameter.\n  */\n\t\t_config2.default.active_playlist = playlist;\n\t}\n\n\t/**\n  * Determines if the string passed in is a URL or not\n  *\n  * Public Accessor: AmplitudeHelpers.isURL( url )\n  *\n  * @access public\n  * @param {string} url - The string we are testing to see if it's a URL.\n  * @returns {boolean} True if the string is a url, false if it is not.\n  */\n\tfunction isURL(url) {\n\t\t/*\n  \tTest the string against the URL pattern and return if it matches\n  */\n\t\tvar pattern = /(ftp|http|https):\\/\\/(\\w+:{0,1}\\w*@)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%@!\\-\\/]))?/;\n\n\t\treturn pattern.test(url);\n\t}\n\n\t/**\n  * Determines if what is passed in is an integer or not.\n  *\n  * Public Accessor: AmplitudeHelpers.isInt( int )\n  *\n  * @access public\n  * @param {string|number} int - The variable we are testing to see is an integer or not.\n  * @returns {boolean} If the variable is an integer or not.\n  */\n\tfunction isInt(int) {\n\t\treturn !isNaN(int) && parseInt(Number(int)) == int && !isNaN(parseInt(int, 10));\n\t}\n\n\t/*\n \tReturns the public functions\n */\n\treturn {\n\t\tresetConfig: resetConfig,\n\t\twriteDebugMessage: writeDebugMessage,\n\t\trunCallback: runCallback,\n\t\tchangeSong: changeSong,\n\t\tcheckNewSong: checkNewSong,\n\t\tcheckNewAlbum: checkNewAlbum,\n\t\tcheckNewPlaylist: checkNewPlaylist,\n\t\tshuffleSongs: shuffleSongs,\n\t\tshufflePlaylistSongs: shufflePlaylistSongs,\n\t\tsetActivePlaylist: setActivePlaylist,\n\t\tisURL: isURL,\n\t\tisInt: isInt\n\t};\n}();\n\n/**\n * AmplitudeJS Visual Sync\n * @module visual/AmplitudeVisualSync\n*/\n/**\n * Imports the config module\n * @module config\n */\nexports.default = AmplitudeHelpers;\nmodule.exports = exports['default'];\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _config = __webpack_require__(0);\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _helpers = __webpack_require__(10);\n\nvar _helpers2 = _interopRequireDefault(_helpers);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Helps with the syncing of the display data\n *\n * @module visual/AmplitudeVisualSync\n */\n/**\n * Imports the config module\n * @module config\n */\nvar AmplitudeVisualSync = function () {\n\t/**\n  * Visually displays the current time on the screen. This is called on\n  * time update for the current song.\n  *\n  * @access public\n  * @param {object} currentTime \t\t\t\t\t- An object containing the current time for the song in seconds, minutes, and hours.\n  * @param {float} completionPercentage\t- The percent of the way through the song the user is at.\n  */\n\tfunction syncCurrentTime(currentTime, completionPercentage) {\n\t\t/*\n  \tSet current hour display.\n  */\n\t\t_helpers2.default.syncCurrentHours(currentTime.hours);\n\n\t\t/*\n  \tSet current minute display.\n  */\n\t\t_helpers2.default.syncCurrentMinutes(currentTime.minutes);\n\n\t\t/*\n  \tSet current second display.\n  */\n\t\t_helpers2.default.syncCurrentSeconds(currentTime.seconds);\n\n\t\t/*\n  \tSet current time display.\n  */\n\t\t_helpers2.default.syncCurrentTime(currentTime);\n\n\t\t/*\n  \tSet all song sliders to be to the current percentage\n  \tof the song played.\n  */\n\t\tsyncMainSliderLocation(completionPercentage);\n\t\tsyncPlaylistSliderLocation(_config2.default.active_playlist, completionPercentage);\n\t\tsyncSongSliderLocation(_config2.default.active_playlist, _config2.default.active_index, completionPercentage);\n\n\t\t_helpers2.default.syncSongPlayedProgressBar(completionPercentage);\n\t}\n\n\t/**\n  * Visually sync all of the times to the initial time of 0. This is so\n  * we can keep all the players in sync\n  *\n  * @access public\n  */\n\tfunction resetTimes() {\n\t\t_helpers2.default.resetCurrentHours();\n\t\t_helpers2.default.resetCurrentMinutes();\n\t\t_helpers2.default.resetCurrentSeconds();\n\t\t_helpers2.default.resetCurrentTime();\n\t}\n\n\t/**\n  * Visually syncs the song sliders back to 0. This usually happens when\n  * a song has changed, we ensure that all song sliders get reset.\n  *\n  * @access public\n  */\n\tfunction resetSongSliders() {\n\t\tvar songSliders = document.getElementsByClassName(\"amplitude-song-slider\");\n\n\t\t/*\n  \tIterate over all of the song sliders and set them to\n  \t0 essentially resetting them.\n  */\n\t\tfor (var i = 0; i < songSliders.length; i++) {\n\t\t\tsongSliders[i].value = 0;\n\t\t}\n\t}\n\n\t/**\n  * Sets all of the song buffered progress bars to 0\n  *\n  * @access public\n  */\n\tfunction resetSongBufferedProgressBars() {\n\t\t/*\n  \tGets all of the song buffered progress bars.\n  */\n\t\tvar songBufferedProgressBars = document.getElementsByClassName(\"amplitude-buffered-progress\");\n\n\t\t/*\n  \tIterate over all of the song buffered progress bar and\n  \tset them to 0 which is like re-setting them.\n  */\n\t\tfor (var i = 0; i < songBufferedProgressBars.length; i++) {\n\t\t\tsongBufferedProgressBars[i].value = 0;\n\t\t}\n\t}\n\n\t/**\n  * Sets all of the song played progress bars to 0\n  *\n  * @access public\n  */\n\tfunction resetSongPlayedProgressBars() {\n\t\tvar songPlayedProgressBars = document.getElementsByClassName(\"amplitude-song-played-progress\");\n\n\t\tfor (var i = 0; i < songPlayedProgressBars.length; i++) {\n\t\t\tsongPlayedProgressBars[i].value = 0;\n\t\t}\n\t}\n\n\t/**\n  * Applies the class 'amplitude-active-song-container' to the element\n  * containing visual information regarding the active song.\n  *\n  * @access public\n  */\n\tfunction setActiveContainer() {\n\t\tvar songContainers = document.getElementsByClassName('amplitude-song-container');\n\n\t\t/*\n  \tRemoves all of the active song containrs.\n  */\n\t\tfor (var i = 0; i < songContainers.length; i++) {\n\t\t\tsongContainers[i].classList.remove('amplitude-active-song-container');\n\t\t}\n\n\t\t/*\n  \tFinds the active index and adds the active song container to the element\n  \tthat represents the song at the index.\n  */\n\t\tif (_config2.default.active_playlist == '' || _config2.default.active_playlist == null) {\n\t\t\tif (document.querySelectorAll('.amplitude-song-container[amplitude-song-index=\"' + _config2.default.active_index + '\"]')) {\n\t\t\t\tvar _songContainers = document.querySelectorAll('.amplitude-song-container[amplitude-song-index=\"' + _config2.default.active_index + '\"]');\n\n\t\t\t\tfor (var _i = 0; _i < _songContainers.length; _i++) {\n\t\t\t\t\tif (!_songContainers[_i].hasAttribute('amplitude-playlist')) {\n\t\t\t\t\t\t_songContainers[_i].classList.add('amplitude-active-song-container');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif (document.querySelectorAll('.amplitude-song-container[amplitude-song-index=\"' + _config2.default.active_index + '\"][amplitude-playlist=\"' + _config2.default.active_playlist + '\"]')) {\n\t\t\t\tvar _songContainers2 = document.querySelectorAll('.amplitude-song-container[amplitude-song-index=\"' + _config2.default.active_index + '\"][amplitude-playlist=\"' + _config2.default.active_playlist + '\"]');\n\n\t\t\t\tfor (var _i2 = 0; _i2 < _songContainers2.length; _i2++) {\n\t\t\t\t\t_songContainers2[_i2].classList.add('amplitude-active-song-container');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n  * Displays the active song's metadata. This is called after a song has\n  * been changed. This method takes the active song and displays the\n  * metadata. So once the new active song is set, we update all of the\n  * screen elements.\n  *\n  * @access public\n  */\n\tfunction displaySongMetadata() {\n\t\t/*\n  \tDefine the image meta data keys. These are managed separately\n  \tsince we aren't actually changing the inner HTML of these elements.\n  */\n\t\tvar imageMetaDataKeys = ['cover_art_url', 'station_art_url', 'podcast_episode_cover_art_url'];\n\n\t\t/*\n  \tThese are the ignored keys that we won't be worrying about displaying.\n  \tEvery other key in the song object can be displayed.\n  */\n\t\tvar ignoredKeys = ['url', 'live'];\n\n\t\t/*\n  \tGet all of the song info elements\n  */\n\t\tvar songInfoElements = document.querySelectorAll('[amplitude-song-info]');\n\n\t\t/*\n  \tIterate over all of the song info elements. We will either\n  \tset these to the new values, or clear them if the active song\n  \tdoesn't have the info set.\n  */\n\t\tfor (var i = 0; i < songInfoElements.length; i++) {\n\t\t\t/*\n   \tGet the info so we can check if the active meta data has the\n   \tkey.\n   */\n\t\t\tvar info = songInfoElements[i].getAttribute('amplitude-song-info');\n\n\t\t\t/*\n   \tGet the song info element playlist.\n   */\n\t\t\tvar playlist = songInfoElements[i].getAttribute('amplitude-playlist');\n\n\t\t\t/*\n   \tGet the main song info flag.\n   */\n\t\t\tvar main = songInfoElements[i].getAttribute('amplitude-main-song-info');\n\n\t\t\t/*\n   \tIf the playlists match or the element is a main element, then\n   \twe set the song info.\n   */\n\t\t\tif (_config2.default.active_playlist == playlist || main == 'true') {\n\t\t\t\t/*\n    \tIf the active metadata has the key, then we set it,\n    \totherwise we clear it. If it's an image element then\n    \twe default it to the default info if needed.\n    */\n\t\t\t\tif (_config2.default.active_metadata[info] != undefined) {\n\t\t\t\t\tif (imageMetaDataKeys.indexOf(info) >= 0) {\n\t\t\t\t\t\tsongInfoElements[i].setAttribute('src', _config2.default.active_metadata[info]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsongInfoElements[i].innerHTML = _config2.default.active_metadata[info];\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t/*\n     \tWe look for the default album art because\n     \tthe actual key didn't exist. If the default album\n     \tart doesn't exist then we set the src attribute\n     \tto null.\n     */\n\t\t\t\t\tif (imageMetaDataKeys.indexOf(info) >= 0) {\n\t\t\t\t\t\tif (_config2.default.default_album_art != '') {\n\t\t\t\t\t\t\tsongInfoElements[i].setAttribute('src', _config2.default.default_album_art);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsongInfoElements[i].setAttribute('src', '');\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsongInfoElements[i].innerHTML = '';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n   * Sets the first song in the playlist. This is used to fill in the meta\n  * data in the playlist\n  *\n  * @param {object} song \t\t\t- The song we are setting to be the first song in the playlist\n  * @param {string} playlist \t- Key of the playlist we are setting the first song in\n  */\n\tfunction setFirstSongInPlaylist(song, playlist) {\n\t\t/*\n  \tDefine the image meta data keys. These are managed separately\n  \tsince we aren't actually changing the inner HTML of these elements.\n  */\n\t\tvar imageMetaDataKeys = ['cover_art_url', 'station_art_url', 'podcast_episode_cover_art_url'];\n\n\t\t/*\n  \tThese are the ignored keys that we won't be worrying about displaying.\n  \tEvery other key in the song object can be displayed.\n  */\n\t\tvar ignoredKeys = ['url', 'live'];\n\n\t\t/*\n  \tGet all of the song info elements\n  */\n\t\tvar songInfoElements = document.querySelectorAll('[amplitude-song-info][amplitude-playlist=\"' + playlist + '\"]');\n\n\t\t/*\n  \tIterate over all of the song info elements. We will either\n  \tset these to the new values, or clear them if the active song\n  \tdoesn't have the info set.\n  */\n\t\tfor (var i = 0; i < songInfoElements.length; i++) {\n\t\t\t/*\n   \tGet the info so we can check if the active meta data has the\n   \tkey.\n   */\n\t\t\tvar info = songInfoElements[i].getAttribute('amplitude-song-info');\n\n\t\t\t/*\n   \tGet the song info element playlist.\n   */\n\t\t\tvar elementPlaylist = songInfoElements[i].getAttribute('amplitude-playlist');\n\n\t\t\t/*\n   \tIf the playlists match or the element is a main element, then\n   \twe set the song info.\n   */\n\t\t\tif (elementPlaylist == playlist) {\n\t\t\t\t/*\n    \tIf the active metadata has the key, then we set it,\n    \totherwise we clear it. If it's an image element then\n    \twe default it to the default info if needed.\n    */\n\t\t\t\tif (song[info] != undefined) {\n\t\t\t\t\tif (imageMetaDataKeys.indexOf(info) >= 0) {\n\t\t\t\t\t\tsongInfoElements[i].setAttribute('src', song[info]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsongInfoElements[i].innerHTML = song[info];\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t/*\n     \tWe look for the default album art because\n     \tthe actual key didn't exist. If the default album\n     \tart doesn't exist then we set the src attribute\n     \tto null.\n     */\n\t\t\t\t\tif (imageMetaDataKeys.indexOf(info) >= 0) {\n\t\t\t\t\t\tif (song.default_album_art != '') {\n\t\t\t\t\t\t\tsongInfoElements[i].setAttribute('src', song.default_album_art);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsongInfoElements[i].setAttribute('src', '');\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsongInfoElements[i].innerHTML = '';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n  * Sets all of the visual playback speed buttons to have the right class\n  * to display the background image that represents the current playback\n  * speed.\n  *\n  * @access public\n  */\n\tfunction syncPlaybackSpeed() {\n\t\t/*\n  \tGets all of the playback speed classes.\n  */\n\t\tvar playbackSpeedClasses = document.getElementsByClassName(\"amplitude-playback-speed\");\n\n\t\t/*\n  \tIterates over all of the playback speed classes\n  \tapplying the right speed class for visual purposes.\n  */\n\t\tfor (var i = 0; i < playbackSpeedClasses.length; i++) {\n\t\t\t/*\n   \tRemoves all of the old playback speed classes.\n   */\n\t\t\tplaybackSpeedClasses[i].classList.remove('amplitude-playback-speed-10');\n\t\t\tplaybackSpeedClasses[i].classList.remove('amplitude-playback-speed-15');\n\t\t\tplaybackSpeedClasses[i].classList.remove('amplitude-playback-speed-20');\n\n\t\t\t/*\n   \tSwitch the current playback speed and apply the appropriate\n   \tspeed class.\n   */\n\t\t\tswitch (_config2.default.playback_speed) {\n\t\t\t\tcase 1:\n\t\t\t\t\tplaybackSpeedClasses[i].classList.add('amplitude-playback-speed-10');\n\t\t\t\t\tbreak;\n\t\t\t\tcase 1.5:\n\t\t\t\t\tplaybackSpeedClasses[i].classList.add('amplitude-playback-speed-15');\n\t\t\t\t\tbreak;\n\t\t\t\tcase 2:\n\t\t\t\t\tplaybackSpeedClasses[i].classList.add('amplitude-playback-speed-20');\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n  * Syncs the buffered progress bars to the current percentage in the config\n  *\n  * @access public\n  */\n\tfunction syncBufferedProgressBars() {\n\t\t/*\n  \tGets all of the song buffered progress bars.\n  */\n\t\tvar songBufferedProgressBars = document.getElementsByClassName(\"amplitude-buffered-progress\");\n\n\t\t/*\n  \tIterate over all of the song buffered progress bar and\n  \tset them to 0 which is like re-setting them.\n  */\n\t\tfor (var i = 0; i < songBufferedProgressBars.length; i++) {\n\t\t\tsongBufferedProgressBars[i].value = parseFloat(parseFloat(_config2.default.buffered) / 100);\n\t\t}\n\t}\n\n\t/**\n  * Visually syncs the volume sliders so they are all the same if there\n  * are more than one.\n  *\n  * @access public\n  */\n\tfunction syncVolumeSliders() {\n\t\tvar amplitudeVolumeSliders = document.getElementsByClassName(\"amplitude-volume-slider\");\n\n\t\t/*\n  \tIterates over all of the volume sliders for the song, setting the value\n  \tto the config value.\n  */\n\t\tfor (var i = 0; i < amplitudeVolumeSliders.length; i++) {\n\t\t\tamplitudeVolumeSliders[i].value = _config2.default.active_song.volume * 100;\n\t\t}\n\t}\n\n\t/**\n  * Sets all of the play pause buttons to paused.\n  *\n  * @access public\n  */\n\tfunction setPlayPauseButtonsToPause() {\n\t\t/*\n  \tGets all of the play pause elements\n  */\n\t\tvar playPauseElements = document.querySelectorAll('.amplitude-play-pause');\n\n\t\t/*\n  \tSets all of the elements to pause\n  */\n\t\tfor (var i = 0; i < playPauseElements.length; i++) {\n\t\t\t_helpers2.default.setElementPause(playPauseElements[i]);\n\t\t}\n\t}\n\n\t/**\n  * Syncs the main play pause buttons to the state of the active song.\n  *\n  * @param {string} state The state of the player\n  * @access public\n  */\n\tfunction syncMainPlayPause(state) {\n\t\t/*\n  \tEnsures we have a string for the state otherwise we grab the\n  \tstate from the config.\n  */\n\t\tif (typeof state != \"string\") {\n\t\t\tstate = _config2.default.active_song.paused ? \"paused\" : \"playing\";\n\t\t}\n\n\t\t/*\n  \tGet all play pause buttons.\n  */\n\t\tvar playPauseElements = document.querySelectorAll('.amplitude-play-pause[amplitude-main-play-pause=\"true\"]');\n\n\t\t/*\n  \tIterate over all of the play pause elements syncing the\n  \tdisplay visually.\n  */\n\t\tfor (var i = 0; i < playPauseElements.length; i++) {\n\t\t\t/*\n   \tDetermines what classes we should add and remove\n   \tfrom the elements.\n   */\n\t\t\tswitch (state) {\n\t\t\t\tcase 'playing':\n\t\t\t\t\t_helpers2.default.setElementPlay(playPauseElements[i]);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'paused':\n\t\t\t\t\t_helpers2.default.setElementPause(playPauseElements[i]);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n  * Syncs the main playlist play pause buttons to the state of the active song.\n  *\n  * @access public\n  * @param {string} playlist \t- The playlist we are setting the play pause state for.\n  * @param {string} state \t\t\t- Either playing or paused for the state of the active song.\n  */\n\tfunction syncPlaylistPlayPause(playlist, state) {\n\t\t/*\n  \tEnsures we have a string for the state otherwise we grab the\n  \tstate from the config.\n  */\n\t\tif (typeof state != \"string\") {\n\t\t\tstate = _config2.default.active_song.paused ? \"paused\" : \"playing\";\n\t\t}\n\n\t\t/*\n  \tGet all of the main playlist play pause elements\n  */\n\t\tvar playlistPlayPauseElements = document.querySelectorAll('.amplitude-play-pause[amplitude-playlist-main-play-pause=\"true\"]');\n\n\t\t/*\n  \tIterate over the play pause elements, syncing the state accordingly.\n  */\n\t\tfor (var i = 0; i < playlistPlayPauseElements.length; i++) {\n\t\t\t/*\n   \tIf the element has the same playlist attribute as the playlist\n   \tpassed in and the state is playing, we set the element to\n   \tbe playing otherwise we set it to pause. Setting to pause\n   \tmeans the element doesn't match the active playlist or the\n   \tstate is paused.\n   */\n\t\t\tif (playlistPlayPauseElements[i].getAttribute('amplitude-playlist') == playlist && state == 'playing') {\n\n\t\t\t\t_helpers2.default.setElementPlay(playlistPlayPauseElements[i]);\n\t\t\t} else {\n\t\t\t\t_helpers2.default.setElementPause(playlistPlayPauseElements[i]);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n  * Syncs the song play pause buttons to the state of the active song.\n  *\n  * @access public\n  * @param {string} playlist \t- The playlist we are setting the play pause state for.\n  * @param {int} song \t\t\t\t\t- The index of the song we are syncing the state for\n  * @param {string} state \t\t\t- Either playing or paused for the state of the active song.\n  */\n\tfunction syncSongPlayPause(playlist, song, state) {\n\t\t/*\n  \tEnsures we have a string for the state otherwise we grab the\n  \tstate from the config.\n  */\n\t\tif (typeof state != \"string\") {\n\t\t\tstate = _config2.default.active_song.paused ? \"paused\" : \"playing\";\n\t\t}\n\n\t\t/*\n  \tIf the playlist is null or empty, we make sure that any song\n  \tthat is a part of a playlist is set to paused.\n  */\n\t\tif (playlist == null || playlist == '') {\n\t\t\t/*\n   \tGet all of the individual song play pause buttons. These have an\n   \tamplitude-song-index attribute. Some have amplitude-playlist which\n   \tmeans they are individual songs within a playlist.\n   */\n\t\t\tvar songPlayPauseElements = document.querySelectorAll('.amplitude-play-pause[amplitude-song-index]');\n\n\t\t\t/*\n   \tIterate over all of the song play pause elements\n   */\n\t\t\tfor (var i = 0; i < songPlayPauseElements.length; i++) {\n\t\t\t\t/*\n    \tIf the song element has an attribute for amplitude-playlist then\n    \twe set it to paused no matter what because the state of the player\n    \tis not in a playlist mode.\n    */\n\t\t\t\tif (songPlayPauseElements[i].hasAttribute('amplitude-playlist')) {\n\t\t\t\t\t_helpers2.default.setElementPause(songPlayPauseElements[i]);\n\t\t\t\t} else {\n\t\t\t\t\t/*\n     \tIf the state of the song is playing and the song index matches the\n     \tindex of the song we have, we set the element to playing otherwise\n     \twe set the element to paused.\n     */\n\t\t\t\t\tif (state == 'playing' && songPlayPauseElements[i].getAttribute('amplitude-song-index') == song) {\n\t\t\t\t\t\t_helpers2.default.setElementPlay(songPlayPauseElements[i]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_helpers2.default.setElementPause(songPlayPauseElements[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\t/*\n   \tGet all of the individual song play pause buttons. These have an\n   \tamplitude-song-index attribute. Some have amplitude-playlist which\n   \tmeans they are individual songs within a playlist.\n   */\n\t\t\tvar _songPlayPauseElements = document.querySelectorAll('.amplitude-play-pause[amplitude-song-index]');\n\n\t\t\t/*\n   \tIterate over all of the individual play pause elements.\n   */\n\t\t\tfor (var _i3 = 0; _i3 < _songPlayPauseElements.length; _i3++) {\n\t\t\t\t/*\n    \tSince we have an active playlist this time, we want any stand alone\n    \tsongs to be set to paused since the scope is within a playlist.\n    \t\tWe check to see if the element has an amplitude-playlist attribute.\n    */\n\t\t\t\tif (_songPlayPauseElements[_i3].hasAttribute('amplitude-playlist')) {\n\n\t\t\t\t\t/*\n     \tCheck to see if the song index matches the index passed in and the\n     \tplaylist matches the scoped playlist we are looking for and the\n     \tstate of the player is playing, then we set the element to play. If those\n     \tthree parameters are not met, set the element to pause.\n     */\n\t\t\t\t\tif (_songPlayPauseElements[_i3].getAttribute('amplitude-song-index') == song && _songPlayPauseElements[_i3].getAttribute('amplitude-playlist') == playlist && state == 'playing') {\n\t\t\t\t\t\t_helpers2.default.setElementPlay(_songPlayPauseElements[_i3]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_helpers2.default.setElementPause(_songPlayPauseElements[_i3]);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t/*\n     \tSet any individual songs (songs outside of a playlist scope) to pause\n     \tsince we are in the scope of a playlist.\n     */\n\t\t\t\t\t_helpers2.default.setElementPause(_songPlayPauseElements[_i3]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n  * Syncs repeat for all of the repeat buttons. Users\n  * can apply styles to the 'amplitude-repeat-on' and\n  * 'amplitude-repeat-off' classes. They represent the state\n  * of the player.\n  */\n\tfunction syncRepeat() {\n\t\t/*\n  \tGets all of the repeat classes\n  */\n\t\tvar repeatClasses = document.getElementsByClassName(\"amplitude-repeat\");\n\n\t\t/*\n  \tIterate over all of the repeat classes. If repeat is on,\n  \tthen add the 'amplitude-repeat-on' class and remove the\n  \t'amplitude-repeat-off' class. If it's off, then do the\n  \topposite.\n  */\n\t\tfor (var i = 0; i < repeatClasses.length; i++) {\n\t\t\tif (_config2.default.repeat) {\n\t\t\t\trepeatClasses[i].classList.add('amplitude-repeat-on');\n\t\t\t\trepeatClasses[i].classList.remove('amplitude-repeat-off');\n\t\t\t} else {\n\t\t\t\trepeatClasses[i].classList.remove('amplitude-repeat-on');\n\t\t\t\trepeatClasses[i].classList.add('amplitude-repeat-off');\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n  * Syncs repeat for all of the playlist repeat buttons. Users\n  * can apply styles to the `amplitude-repeat-on` and `amplitude-repeat-off`\n  * classes. They repreent the state of the playlist in the player.\n  */\n\tfunction syncRepeatPlaylist(playlist) {\n\t\t/*\n   Gets all of the repeat buttons.\n  */\n\t\tvar repeatButtons = document.getElementsByClassName(\"amplitude-repeat\");\n\n\t\t/*\n   Iterate over all of the repeat buttons\n  */\n\t\tfor (var i = 0; i < repeatButtons.length; i++) {\n\t\t\t/*\n    Ensure that the repeat button belongs to matches the\n    playlist we are syncing the state for.\n   */\n\t\t\tif (repeatButtons[i].getAttribute('amplitude-playlist') == playlist) {\n\t\t\t\t/*\n     If the state of the playlist is shuffled on, true, then\n     we add the 'amplitude-repeat-on' class and remove the\n     'amplitude-repeat-off' class. If the player is not shuffled\n     then we do the opposite.\n    */\n\t\t\t\tif (_config2.default.repeat_statuses[playlist]) {\n\t\t\t\t\trepeatButtons[i].classList.add('amplitude-repeat-on');\n\t\t\t\t\trepeatButtons[i].classList.remove('amplitude-repeat-off');\n\t\t\t\t} else {\n\t\t\t\t\trepeatButtons[i].classList.add('amplitude-repeat-off');\n\t\t\t\t\trepeatButtons[i].classList.remove('amplitude-repeat-on');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n  * Syncs repeat for all of the repeat song buttons. Users\n  * can apply styles to the 'amplitude-repeat-song-on' and\n  * 'amplitude-repeat-song-off' classes. They represent the state\n  * of the player.\n  */\n\tfunction syncRepeatSong() {\n\t\t/*\n  \tGets all of the repeat song classes\n  */\n\t\tvar repeatSongClasses = document.getElementsByClassName(\"amplitude-repeat-song\");\n\n\t\t/*\n  \tIterate over all of the repeat song classes. If repeat is on,\n  \tthen add the 'amplitude-repeat-song-on' class and remove the\n  \t'amplitude-repeat-song-off' class. If it's off, then do the\n  \topposite.\n  */\n\t\tfor (var i = 0; i < repeatSongClasses.length; i++) {\n\t\t\tif (_config2.default.repeat_song) {\n\t\t\t\trepeatSongClasses[i].classList.add('amplitude-repeat-song-on');\n\t\t\t\trepeatSongClasses[i].classList.remove('amplitude-repeat-song-off');\n\t\t\t} else {\n\t\t\t\trepeatSongClasses[i].classList.remove('amplitude-repeat-song-on');\n\t\t\t\trepeatSongClasses[i].classList.add('amplitude-repeat-song-off');\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n  * Syncs mute for all of the mute buttons. This represents the\n  * state of the player if it's muted or not.\n  *\n  * @access public\n  * @param {string} state \t- The muted state of the player.\n  */\n\tfunction syncMute(state) {\n\t\t/*\n  \tGet all of the mute buttons.\n  */\n\t\tvar muteClasses = document.getElementsByClassName(\"amplitude-mute\");\n\n\t\t/*\n  \tIterate over all of the mute classes. If the state of the player\n  \tis not-muted then we add the amplitude-not-muted classe and remove\n  \tthe amplitude muted class otherwise we do the opposite.\n  */\n\t\tfor (var i = 0; i < muteClasses.length; i++) {\n\t\t\tif (!state) {\n\t\t\t\tmuteClasses[i].classList.add('amplitude-not-muted');\n\t\t\t\tmuteClasses[i].classList.remove('amplitude-muted');\n\t\t\t} else {\n\t\t\t\tmuteClasses[i].classList.remove('amplitude-not-muted');\n\t\t\t\tmuteClasses[i].classList.add('amplitude-muted');\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n  * Syncs the global shuffle button visual state.\n  *\n  * @access public\n  * @param {boolean} state  \t- The shuffled state of the player.\n  */\n\tfunction syncShuffle(state) {\n\t\t/*\n  \tGets the shuffle buttons.\n  */\n\t\tvar shuffleButtons = document.getElementsByClassName(\"amplitude-shuffle\");\n\n\t\t/*\n  \tIterate over all of the shuffle buttons.\n  */\n\t\tfor (var i = 0; i < shuffleButtons.length; i++) {\n\t\t\t/*\n   \tEnsure the shuffle button doesn't belong to a playlist. We have\n   \ta separate method for that.\n   */\n\t\t\tif (shuffleButtons[i].getAttribute('amplitude-playlist') == null) {\n\t\t\t\t/*\n    \tIf the state of the player is shuffled on, true, then\n    \twe add the 'amplitude-shuffle-on' class and remove the\n    \t'amplitude-shuffle-off' class. If the player is not shuffled\n    \tthen we do the opposite.\n    */\n\t\t\t\tif (state) {\n\t\t\t\t\tshuffleButtons[i].classList.add('amplitude-shuffle-on');\n\t\t\t\t\tshuffleButtons[i].classList.remove('amplitude-shuffle-off');\n\t\t\t\t} else {\n\t\t\t\t\tshuffleButtons[i].classList.add('amplitude-shuffle-off');\n\t\t\t\t\tshuffleButtons[i].classList.remove('amplitude-shuffle-on');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n  * Syncs the playlist shuffle button visual state.\n  *\n  * @access public\n  * @param {boolean} state \t- The shuffled state of the player.\n  * @param {string} playlist - The playlist string the shuffle button belongs to.\n  */\n\tfunction syncPlaylistShuffle(state, playlist) {\n\t\t/*\n  \tGets all of the shuffle buttons.\n  */\n\t\tvar shuffleButtons = document.getElementsByClassName(\"amplitude-shuffle\");\n\n\t\t/*\n  \tIterate over all of the shuffle buttons\n  */\n\t\tfor (var i = 0; i < shuffleButtons.length; i++) {\n\t\t\t/*\n   \tEnsure that the playlist the shuffle button belongs to matches the\n   \tplaylist we are syncing the state for.\n   */\n\t\t\tif (shuffleButtons[i].getAttribute('amplitude-playlist') == playlist) {\n\t\t\t\t/*\n    \tIf the state of the playlist is shuffled on, true, then\n    \twe add the 'amplitude-shuffle-on' class and remove the\n    \t'amplitude-shuffle-off' class. If the player is not shuffled\n    \tthen we do the opposite.\n    */\n\t\t\t\tif (state) {\n\t\t\t\t\tshuffleButtons[i].classList.add('amplitude-shuffle-on');\n\t\t\t\t\tshuffleButtons[i].classList.remove('amplitude-shuffle-off');\n\t\t\t\t} else {\n\t\t\t\t\tshuffleButtons[i].classList.add('amplitude-shuffle-off');\n\t\t\t\t\tshuffleButtons[i].classList.remove('amplitude-shuffle-on');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n  * Syncs the main slider location\n  *\n  * @access public\n  * @param {number} location \t- The location of the song as a percentage.\n  */\n\tfunction syncMainSliderLocation(location) {\n\t\t/*\n  \tEnsure we have a location that's a number\n  */\n\t\tlocation = !isNaN(location) ? location : 0;\n\n\t\t/*\n  \tGets the main song sliders\n  */\n\t\tvar mainSongSliders = document.querySelectorAll('.amplitude-song-slider[amplitude-main-song-slider=\"true\"]');\n\n\t\t/*\n  \tIterates over all of the main sliders and sets the value to the\n  \tpercentage of the song played.\n  */\n\t\tfor (var i = 0; i < mainSongSliders.length; i++) {\n\t\t\tmainSongSliders[i].value = location;\n\t\t}\n\t}\n\n\t/**\n  * Syncs playlist song slider locations\n  *\n  * @access public\n  * @param {string} playlist \t- The playlist we are setting the song slider for.\n  * @param {number} location \t- The location of the song as a percentage.\n  */\n\tfunction syncPlaylistSliderLocation(playlist, location) {\n\t\t/*\n  \tEnsure we have a location that's a number\n  */\n\t\tlocation = !isNaN(location) ? location : 0;\n\n\t\t/*\n  \tGets the playlist song sliders\n  */\n\t\tvar playlistSongSliders = document.querySelectorAll('.amplitude-song-slider[amplitude-playlist-song-slider=\"true\"][amplitude-playlist=\"' + playlist + '\"]');\n\n\t\t/*\n  \tIterates over all of the playlist sliders and sets the value to the\n  \tpercentage of the song played.\n  */\n\t\tfor (var i = 0; i < playlistSongSliders.length; i++) {\n\t\t\tplaylistSongSliders[i].value = location;\n\t\t}\n\t}\n\n\t/**\n  * Syncs individual song slider locations\n  *\n  * @access public\n  * @param {string} playlist \t- The playlist we are setting the song slider for.\n  * @param {number} songIndex \t- The index of the song we are adjusting the song slider for.\n  * @param {number} location \t- The location of the song as a percentage.\n  */\n\tfunction syncSongSliderLocation(playlist, songIndex, location) {\n\t\t/*\n  \tEnsure we have a location that's a number\n  */\n\t\tlocation = !isNaN(location) ? location : 0;\n\t\t/*\n  \tIf the playlist is set, we get all of the individual song sliders\n  \tthat relate to the song and the playlist.\n  */\n\t\tif (playlist != '' && playlist != null) {\n\t\t\t/*\n   \tGets the song sliders for the individual songs and the\n   \tplaylist\n   */\n\t\t\tvar songSliders = document.querySelectorAll('.amplitude-song-slider[amplitude-playlist=\"' + playlist + '\"][amplitude-song-index=\"' + songIndex + '\"]');\n\n\t\t\t/*\n   \tIterates over all of the playlist sliders and set the value to the\n   \tpercentage of the song played.\n   */\n\t\t\tfor (var i = 0; i < songSliders.length; i++) {\n\t\t\t\tsongSliders[i].value = location;\n\t\t\t}\n\t\t} else {\n\t\t\t/*\n   \tGet the individual song slider by index\n   */\n\t\t\tvar _songSliders = document.querySelectorAll('.amplitude-song-slider[amplitude-song-index=\"' + songIndex + '\"]');\n\n\t\t\t/*\n   \tIterats over all of the song sliders that have the index of\n   \tthe song we are sliding. If the song doesn't have a playlist\n   \tattribute, we set the location.\n   */\n\t\t\tfor (var _i4 = 0; _i4 < _songSliders.length; _i4++) {\n\t\t\t\tif (!_songSliders[_i4].hasAttribute('amplitude-playlist')) {\n\t\t\t\t\tif (location != 0) {\n\t\t\t\t\t\t_songSliders[_i4].value = location;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n  * Sets the volume slider location\n  *\n  * @access public\n  * @param {number} volume \t- The volume from 0 - 1 for song volume.\n  */\n\tfunction syncVolumeSliderLocation(volume) {\n\t\t/*\n  \tGets all of the volume sliders\n  */\n\t\tvar volumeSliders = document.querySelectorAll('.amplitude-volume-slider');\n\n\t\t/*\n  \tIterates over all of the sliders and sets their volume\n  \tto the volume of the song.\n  */\n\t\tfor (var i = 0; i < volumeSliders.length; i++) {\n\t\t\tvolumeSliders[i].value = volume;\n\t\t}\n\t}\n\n\t/**\n  * Syncs the song's duration\n  *\n  * @access public\n  * @param {object} currentTime \t\t- Object containing information about the current time of the song.\n  * @param {object} songDuration \t- Object containing information about the duration of the song.\n  */\n\tfunction syncSongDuration(currentTime, songDuration) {\n\t\t/*\n  \tSet duration hour display.\n  */\n\t\t_helpers2.default.syncDurationHours(songDuration != undefined && !isNaN(songDuration.hours) ? songDuration.hours : '00');\n\n\t\t/*\n  \tSet duration minute display.\n  */\n\t\t_helpers2.default.syncDurationMinutes(songDuration != undefined && !isNaN(songDuration.minutes) ? songDuration.minutes : '00');\n\n\t\t/*\n  \tSet duration second display.\n  */\n\t\t_helpers2.default.syncDurationSeconds(songDuration != undefined && !isNaN(songDuration.seconds) ? songDuration.seconds : '00');\n\n\t\t/*\n  \tSet duration time display.\n  */\n\t\t_helpers2.default.syncDurationTime(songDuration != undefined ? songDuration : {});\n\n\t\t/*\n  \tSet count down time display.\n  */\n\t\t_helpers2.default.syncCountDownTime(currentTime, songDuration);\n\t}\n\n\t/**\n  * Sets the meta data for songs loaded in the songs array\n  */\n\tfunction syncSongsMetaData() {\n\t\t/*\n  \tDefine the image meta data keys. These are managed separately\n  \tsince we aren't actually changing the inner HTML of these elements.\n  */\n\t\tvar imageMetaDataKeys = ['cover_art_url', 'station_art_url', 'podcast_episode_cover_art_url'];\n\n\t\t/*\n  \tThese are the ignored keys that we won't be worrying about displaying.\n  \tEvery other key in the song object can be displayed.\n  */\n\t\tvar ignoredKeys = ['url', 'live'];\n\n\t\t/*\n  \tGet all of the song info elements\n  */\n\t\tvar songInfoElements = document.querySelectorAll('[amplitude-song-info]');\n\n\t\t/*\n  \tIterate over all of the song info elements. We will either\n  \tset these to the new values, or clear them if the active song\n  \tdoesn't have the info set.\n  */\n\t\tfor (var i = 0; i < songInfoElements.length; i++) {\n\n\t\t\t/*\n   \tFor this method we do not want the element to have any playlist or\n   \tmain song info. This way we aren't adjusting the main song information for the\n   \tglobal player or the playlist player.\n   */\n\t\t\tif (songInfoElements[i].getAttribute('amplitude-playlist') == null && songInfoElements[i].getAttribute('amplitude-main-song-info') == null && songInfoElements[i].getAttribute('amplitude-song-index') != null) {\n\n\t\t\t\t/*\n    \t\tGet the info so we can check if the active meta data has the\n    \t\tkey.\n    \t*/\n\t\t\t\tvar info = songInfoElements[i].getAttribute('amplitude-song-info');\n\t\t\t\tvar index = songInfoElements[i].getAttribute('amplitude-song-index');\n\n\t\t\t\t/*\n    \tMake sure that the song index they are referencing is defined.\n    */\n\t\t\t\tif (_config2.default.songs[index][info] != undefined) {\n\n\t\t\t\t\t/*\n     \tIf it's an image meta data key, then we set the src attribute of\n     \tthe element. Otherwise we set the inner HTML of the element.\n     */\n\t\t\t\t\tif (imageMetaDataKeys.indexOf(info) >= 0) {\n\t\t\t\t\t\tsongInfoElements[i].setAttribute('src', _config2.default.songs[index][info]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsongInfoElements[i].innerHTML = _config2.default.songs[index][info];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n \tReturns the publically available functions\n \t@TODO Re-order to order of methods in module\n */\n\treturn {\n\t\tsyncCurrentTime: syncCurrentTime,\n\t\tresetTimes: resetTimes,\n\t\tresetSongSliders: resetSongSliders,\n\t\tresetSongPlayedProgressBars: resetSongPlayedProgressBars,\n\t\tresetSongBufferedProgressBars: resetSongBufferedProgressBars,\n\t\tsetActiveContainer: setActiveContainer,\n\t\tdisplaySongMetadata: displaySongMetadata,\n\t\tsyncPlaybackSpeed: syncPlaybackSpeed,\n\t\tsyncBufferedProgressBars: syncBufferedProgressBars,\n\t\tsyncVolumeSliders: syncVolumeSliders,\n\t\tsetPlayPauseButtonsToPause: setPlayPauseButtonsToPause,\n\t\tsetFirstSongInPlaylist: setFirstSongInPlaylist,\n\t\tsyncMainPlayPause: syncMainPlayPause,\n\t\tsyncPlaylistPlayPause: syncPlaylistPlayPause,\n\t\tsyncSongPlayPause: syncSongPlayPause,\n\t\tsyncRepeat: syncRepeat,\n\t\tsyncRepeatSong: syncRepeatSong,\n\t\tsyncRepeatPlaylist: syncRepeatPlaylist,\n\t\tsyncMute: syncMute,\n\t\tsyncShuffle: syncShuffle,\n\t\tsyncPlaylistShuffle: syncPlaylistShuffle,\n\t\tsyncMainSliderLocation: syncMainSliderLocation,\n\t\tsyncPlaylistSliderLocation: syncPlaylistSliderLocation,\n\t\tsyncSongSliderLocation: syncSongSliderLocation,\n\t\tsyncVolumeSliderLocation: syncVolumeSliderLocation,\n\t\tsyncSongDuration: syncSongDuration,\n\t\tsyncSongsMetaData: syncSongsMetaData\n\t};\n}();\n\n/**\n * Imports the Amplitude Visual Sync Helpers to keep the display in sync\n * @module visual/AmplitudeVisualSyncHelpers\n */\nexports.default = AmplitudeVisualSync;\nmodule.exports = exports['default'];\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _config = __webpack_require__(0);\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _helpers = __webpack_require__(1);\n\nvar _helpers2 = _interopRequireDefault(_helpers);\n\nvar _visual = __webpack_require__(2);\n\nvar _visual2 = _interopRequireDefault(_visual);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Interacts directly with native functions of the Audio element. Logic\n * leading up to these methods are handled by click handlers which call\n * helpers and visual synchronizers. These are the core functions of AmplitudeJS.\n * Every other function that leads to these prepare the information to be\n * acted upon by these functions.\n *\n * @module core/AmplitudeCore\n */\n\n\n/**\n * AmplitudeJS Core Helpers\n * @module core/helpers\n */\nvar AmplitudeCore = function () {\n\t/**\n  * Plays the active song. If the current song is live, it reconnects\n  * the stream before playing.\n  *\n  * Public Accessor: Amplitude.play()\n  *\n  * @access public\n  */\n\tfunction play() {\n\t\t/*\n  \tRun the before play callback\n  */\n\t\t_helpers2.default.runCallback('before_play');\n\n\t\t/*\n  \tIf the audio is live we re-conenct the stream.\n  */\n\t\tif (_config2.default.active_metadata.live) {\n\t\t\treconnectStream();\n\t\t}\n\n\t\t/*\n  \tMobile remote sources need to be reconnected on play. I think this is\n  \tbecause mobile browsers are optimized not to load all resources\n  \tfor speed reasons. We only do this if mobile and the paused button\n  \tis not clicked. If the pause button was clicked then we don't reconnect\n  \tor the user will lose their place in the stream.\n  */\n\t\tif (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) && !_config2.default.paused) {\n\t\t\treconnectStream();\n\t\t}\n\n\t\t/*\n  \tPlay the song and set the playback rate to the playback\n  \tspeed.\n  */\n\t\t_config2.default.active_song.play();\n\t\t_config2.default.active_song.playbackRate = _config2.default.playback_speed;\n\n\t\t/*\n  \tRun the after play callback\n  */\n\t\t_helpers2.default.runCallback('after_play');\n\t}\n\n\t/**\n  * Pauses the active song. If it's live, it disconnects the stream.\n  *\n  * Public Accessor: Amplitude.pause()\n  *\n  * @access public\n  */\n\tfunction pause() {\n\t\t/*\n  \tRun the before pause callback.\n  */\n\t\t_helpers2.default.runCallback('before_pause');\n\n\t\t/*\n  \tPause the active song.\n  */\n\t\t_config2.default.active_song.pause();\n\n\t\t/*\n  \tFlag that pause button was clicked.\n  */\n\t\t_config2.default.paused = true;\n\n\t\t/*\n  \tIf the song is live, we disconnect the stream so we aren't\n  \tsaving it to memory.\n  */\n\t\tif (_config2.default.active_metadata.live) {\n\t\t\tdisconnectStream();\n\t\t}\n\n\t\t/*\n  \tRun the after pause callback.\n  */\n\t\t_helpers2.default.runCallback('after_pause');\n\t}\n\n\t/**\n  * Stops the active song by setting the current song time to 0.\n  * When the user resumes, it will be from the beginning.\n  * If it's a live stream it disconnects.\n  *\n  * Public Accessor: Amplitude.stop()\n  *\n  * @access public\n  */\n\tfunction stop() {\n\t\t/*\n  \tRuns the before stop callback.\n  */\n\t\t_helpers2.default.runCallback('before_stop');\n\n\t\t/*\n  \tSet the current time of the song to 0 which will reset the song.\n  */\n\t\tif (_config2.default.active_song.currentTime != 0) {\n\t\t\t_config2.default.active_song.currentTime = 0;\n\t\t}\n\n\t\t/*\n  \tRun pause so the song will stop\n  */\n\t\t_config2.default.active_song.pause();\n\n\t\t/*\n  \tIf the song is live, disconnect the stream.\n  */\n\t\tif (_config2.default.active_metadata.live) {\n\t\t\tdisconnectStream();\n\t\t}\n\n\t\t/*\n  \tRun the after stop callback\n  */\n\t\t_helpers2.default.runCallback('after_stop');\n\t}\n\n\t/**\n  * Sets the song volume.\n  *\n  * Public Accessor: Amplitude.setVolume( volumeLevel )\n  *\n  * @access public\n  * @param {number} volumeLevel - A number between 1 and 100 as a percentage of\n  * min to max for a volume level.\n  */\n\tfunction setVolume(volumeLevel) {\n\t\t/*\n  \tIf the volume is set to mute somewhere else, we sync the display.\n  */\n\t\tif (volumeLevel == 0) {\n\t\t\t_visual2.default.syncMute(true);\n\t\t} else {\n\t\t\t_visual2.default.syncMute(false);\n\t\t}\n\n\t\t/*\n  \tSet the volume of the active song.\n  */\n\t\t_config2.default.active_song.volume = volumeLevel / 100;\n\t}\n\n\t/**\n  * Sets the song percentage. If it's a live song, we ignore this because\n  * we can't skip ahead. This is an issue if you have a playlist with\n  * a live source.\n  *\n  * Public Accessor: Amplitude.setSongLocation( songPercentage )\n  *\n  * @access public\n  * @param {number} songPercentage - A number between 1 and 100 as a percentage of song completion.\n  */\n\tfunction setSongLocation(songPercentage) {\n\t\t/*\n  \tAs long as the song is not live, we can set the current time of the\n  \tsong to the percentage the user passed in.\n  */\n\t\tif (!_config2.default.active_metadata.live) {\n\t\t\t_config2.default.active_song.currentTime = _config2.default.active_song.duration * (song_percentage / 100);\n\t\t}\n\t}\n\n\t/**\n  * Skips to a location in a song\n  *\n  * Public Accessor: Amplitude.skipToLocation( seconds )\n  *\n  * @access public\n  * @param {number} seconds - An integer containing the seconds to skip to\n  */\n\tfunction skipToLocation(seconds) {\n\t\t/*\n  \tWhen the active song can be played through, we can check to\n  \tsee if the seconds will work. We only bind the event handler\n  \tonce and remove it once it's fired.\n  */\n\t\t_config2.default.active_song.addEventListener('canplaythrough', function () {\n\t\t\t/*\n   \tIf the active song duration is greater than or equal to the\n   \tamount of seconds the user wants to skip to and the seconds\n   \tis greater than 0, we skip to the seconds defined.\n   */\n\t\t\tif (_config2.default.active_song.duration >= seconds && seconds > 0) {\n\t\t\t\t_config2.default.active_song.currentTime = seconds;\n\t\t\t} else {\n\t\t\t\t_helpers2.default.writeDebugMessage('Amplitude can\\'t skip to a location greater than the duration of the audio or less than 0');\n\t\t\t}\n\t\t}, { once: true });\n\t}\n\n\t/**\n  * Disconnects the live stream\n  *\n  * Public Accessor: Amplitude.disconnectStream()\n  *\n  * @access public\n  */\n\tfunction disconnectStream() {\n\t\t_config2.default.active_song.src = '';\n\t\t_config2.default.active_song.load();\n\t}\n\n\t/**\n  * Reconnects the live stream\n  *\n  * Public Accessor: Amplitude.reconnectStream()\n  *\n  * @access public\\\n  */\n\tfunction reconnectStream() {\n\t\t_config2.default.active_song.src = _config2.default.active_metadata.url;\n\t\t_config2.default.active_song.load();\n\t}\n\n\t/**\n  * When you pass a song object it plays that song right awawy.  It sets\n  * the active song in the config to the song you pass in and synchronizes\n  * the visuals.\n  *\n  * Public Accessor: Amplitude.playNow( song )\n  *\n  * @access public\n  * @param {object} song - JSON representation of a song.\n  */\n\tfunction playNow(song) {\n\t\t/*\n  \tMakes sure the song object has a URL associated with it\n  \tor there will be nothing to play.\n  */\n\t\tif (song.url) {\n\t\t\t_config2.default.active_song.src = song.url;\n\t\t\t_config2.default.active_metadata = song;\n\t\t\t_config2.default.active_album = song.album;\n\t\t} else {\n\t\t\t/*\n   \tWrite error message since the song passed in doesn't\n   \thave a URL.\n   */\n\t\t\t_helpers2.default.writeDebugMessage('The song needs to have a URL!');\n\t\t}\n\n\t\t/*\n  \tSets the main song control status visual\n  */\n\t\t_visual2.default.syncMainPlayPause('playing');\n\n\t\t/*\n  \tUpdate the song meta data\n  */\n\t\t_visual2.default.displaySongMetadata();\n\n\t\t/*\n  \tReset the song sliders, song progress bar info, and\n  \treset times. This ensures everything stays in sync.\n  */\n\t\t_visual2.default.resetSongSliders();\n\n\t\t_visual2.default.resetSongPlayedProgressBars();\n\n\t\t_visual2.default.resetTimes();\n\n\t\t/*\n  \tPlays the song.\n  */\n\t\tplay();\n\t}\n\n\t/**\n  * Plays the song at a specific index in the songs array\n  *\n  * Public Accessor: Amplitude.playSongAtIndex( song )\n  *\n  * @access public\n  * @param {number} index - The number representing the song in the songs array\n  */\n\tfunction playSongAtIndex(index) {\n\t\t/*\n  \tStop the current song.\n  */\n\t\tstop();\n\n\t\t/*\n  \tDetermine if there is a new playlist, if so set the active playlist and change the song.\n  */\n\t\tif (_helpers2.default.checkNewPlaylist(null)) {\n\t\t\t_helpers2.default.setActivePlaylist(null);\n\n\t\t\t_helpers2.default.changeSong(index);\n\t\t}\n\n\t\t/*\n  \tCheck if the song is new. If so, change the song.\n  */\n\t\tif (_helpers2.default.checkNewSong(index)) {\n\t\t\t_helpers2.default.changeSong(index);\n\t\t}\n\n\t\t/*\n   Sync all of the play pause buttons.\n  */\n\t\t_visual2.default.syncMainPlayPause('playing');\n\t\t_visual2.default.syncPlaylistPlayPause(_config2.default.active_playlist, 'playing');\n\t\t_visual2.default.syncSongPlayPause(_config2.default.active_playlist, _config2.default.active_index, 'playing');\n\n\t\t/*\n   Play the song\n  */\n\t\tplay();\n\t}\n\n\t/**\n * Plays a song at the index passed in for the playlist provided. The index passed\n * in should be the index of the song in the playlist and not the songs array.\n *\n * @access public\n * @param {number} index \t\t- The number representing the song in the playlist array.\n * @param {string} playlist \t- The key string representing the playlist we are playing the song from.\n *\n */\n\tfunction playPlaylistSongAtIndex(index, playlist) {\n\t\t/*\n  \t\tStop the current song.\n  */\n\t\tstop();\n\n\t\t/*\n  \t\tGet the index of the song in the songs array. This is the integer at the index\n  \tin the playlist.\n  */\n\t\tvar songIndex = _config2.default.playlists[playlist][index];\n\n\t\t/*\n  \t\tDetermine if there is a new playlist, if so set the active playlist and change the song.\n  */\n\t\tif (_helpers2.default.checkNewPlaylist(playlist)) {\n\t\t\t_helpers2.default.setActivePlaylist(playlist);\n\n\t\t\t_helpers2.default.changeSong(songIndex);\n\t\t}\n\n\t\t/*\n  \t\tCheck if the song is new. If so, change the song.\n  */\n\t\tif (_helpers2.default.checkNewSong(songIndex)) {\n\t\t\t_helpers2.default.changeSong(songIndex);\n\t\t}\n\n\t\t/*\n  \tSync all of the play pause buttons.\n  */\n\t\t_visual2.default.syncMainPlayPause('playing');\n\t\t_visual2.default.syncPlaylistPlayPause(_config2.default.active_playlist, 'playing');\n\t\t_visual2.default.syncSongPlayPause(_config2.default.active_playlist, _config2.default.active_index, 'playing');\n\n\t\t/*\n  \tPlay the song\n  */\n\t\tplay();\n\t}\n\n\t/**\n  * Sets the playback speed for the song.\n  *\n  * @param {number} playbackSpeed The speed we want the song to play back at.\n  */\n\tfunction setPlaybackSpeed(playbackSpeed) {\n\t\t/*\n  \tSet the config playback speed.\n  */\n\t\t_config2.default.playback_speed = playbackSpeed;\n\n\t\t/*\n  \tSet the active song playback rate.\n  */\n\t\t_config2.default.active_song.playbackRate = _config2.default.playback_speed;\n\t}\n\n\t/*\n \tReturn publically facing functions\n */\n\treturn {\n\t\tplay: play,\n\t\tpause: pause,\n\t\tstop: stop,\n\t\tsetVolume: setVolume,\n\t\tsetSongLocation: setSongLocation,\n\t\tskipToLocation: skipToLocation,\n\t\tdisconnectStream: disconnectStream,\n\t\treconnectStream: reconnectStream,\n\t\tplayNow: playNow,\n\t\tplaySongAtIndex: playSongAtIndex,\n\t\tplayPlaylistSongAtIndex: playPlaylistSongAtIndex,\n\t\tsetPlaybackSpeed: setPlaybackSpeed\n\t};\n}();\n\n/**\n * AmplitudeJS Visual Sync\n * @module visual/visual\n*/\n/**\n * Imports the config module\n * @module config\n */\nexports.default = AmplitudeCore;\nmodule.exports = exports['default'];\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _config = __webpack_require__(0);\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _helpers = __webpack_require__(1);\n\nvar _helpers2 = _interopRequireDefault(_helpers);\n\nvar _handlers = __webpack_require__(7);\n\nvar _handlers2 = _interopRequireDefault(_handlers);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\n|----------------------------------------------------------------------------------------------------\n| EVENTS METHODS\n|----------------------------------------------------------------------------------------------------\n| These methods are called when we need to bind events to certain elements.\n|\n| METHODS:\n| \tinitializeEvents()\n|\tbindPlay()\n|\tbindPause()\n|\tbindPlayPause()\n|\tbindStop()\n|\tbindMute()\n|\tbindVolumeUp()\n|\tbindVolumeDown()\n|\tbindSongSlider()\n|\tbindVolumeSlider()\n|\tbindNext()\n|\tbindPrev()\n|\tbindShuffle()\n|\tbindRepeat()\n|\tbindPlaybackSpeed()\n|\tbindSkipTo()\n|      bindProgress()\n*/\nvar AmplitudeEvents = function () {\n\t/*--------------------------------------------------------------------------\n \tInitializes the handlers for the events listened to by Amplitude\n --------------------------------------------------------------------------*/\n\tfunction initializeEvents() {\n\t\t/*\n  \tWrite out debug message\n  */\n\t\t_helpers2.default.writeDebugMessage('Beginning initialization of event handlers..');\n\n\t\t/*\n  \tSets flag that the screen is moving and not a tap\n  */\n\t\tdocument.addEventListener('touchmove', function () {\n\t\t\t_config2.default.is_touch_moving = true;\n\t\t});\n\n\t\t/*\n  \tOn touch end if it was a touch move event, set moving to\n  \tfalse\n  */\n\t\tdocument.addEventListener('touchend', function () {\n\t\t\tif (_config2.default.is_touch_moving) {\n\t\t\t\t_config2.default.is_touch_moving = false;\n\t\t\t}\n\t\t});\n\n\t\t/*\n  \tOn time update for the audio element, update visual displays that\n  \trepresent the time on either a visualized element or time display.\n  */\n\t\tbindTimeUpdate();\n\n\t\t/*\n  \tBinds key down event handlers for matching key codes to functions.\n  */\n\t\tbindKeyDownEventHandlers();\n\n\t\t/*\n  \tWhen the audio element has ended playing, we handle the song\n  \tending. In a single song or multiple modular song instance,\n  \tthis just synchronizes the visuals for time and song time\n  \tvisualization, but for a playlist it determines whether\n  \tit should play the next song or not.\n  */\n\t\tbindSongEnded();\n\n\t\t/*\n  \tBinds progress event so we can see how much of the song is loaded.\n  */\n\t\tbindProgress();\n\n\t\t/*\n  \tBinds 'amplitude-play' event handlers\n  */\n\t\tbindPlay();\n\n\t\t/*\n  \tBinds 'amplitude-pause' event handlers.\n  */\n\t\tbindPause();\n\n\t\t/*\n  \tBinds 'amplitude-play-pause' event handlers.\n  */\n\t\tbindPlayPause();\n\n\t\t/*\n  \tBinds 'amplitude-stop' event handlers.\n  */\n\t\tbindStop();\n\n\t\t/*\n  \tBinds 'amplitude-mute' event handlers.\n  */\n\t\tbindMute();\n\n\t\t/*\n  \tBinds 'amplitude-volume-up' event handlers\n  */\n\t\tbindVolumeUp();\n\n\t\t/*\n  \tBinds 'amplitude-volume-down' event handlers\n  */\n\t\tbindVolumeDown();\n\n\t\t/*\n  \tBinds 'amplitude-song-slider' event handlers\n  */\n\t\tbindSongSlider();\n\n\t\t/*\n  \tBinds 'amplitude-volume-slider' event handlers.\n  */\n\t\tbindVolumeSlider();\n\n\t\t/*\n  \tBinds 'amplitude-next' event handlers.\n  */\n\t\tbindNext();\n\n\t\t/*\n  \tBinds 'amplitude-prev' event handlers.\n  */\n\t\tbindPrev();\n\n\t\t/*\n  \tBinds 'amplitude-shuffle' event handlers.\n  */\n\t\tbindShuffle();\n\n\t\t/*\n  \tBinds 'amplitude-repeat' event handlers.\n  */\n\t\tbindRepeat();\n\n\t\t/*\n  \tBinds 'amplitude-playback-speed' event handlers.\n  */\n\t\tbindPlaybackSpeed();\n\n\t\t/*\n  \tBinds 'amplitude-skip-to' event handlers.\n  */\n\t\tbindSkipTo();\n\t}\n\n\t/*--------------------------------------------------------------------------\n \tOn time update for the audio element, update visual displays that\n \t\trepresent the time on either a visualized element or time display.\n --------------------------------------------------------------------------*/\n\tfunction bindTimeUpdate() {\n\t\t_config2.default.active_song.removeEventListener('timeupdate', _handlers2.default.updateTime);\n\t\t_config2.default.active_song.addEventListener('timeupdate', _handlers2.default.updateTime);\n\n\t\t// also bind change of duratuion\n\t\t_config2.default.active_song.removeEventListener('durationchange', _handlers2.default.updateTime);\n\t\t_config2.default.active_song.addEventListener('durationchange', _handlers2.default.updateTime);\n\t}\n\n\t/*--------------------------------------------------------------------------\n \tOn keydown, we listen to what key got pressed so we can map the key to\n \ta function. This allows the user to map pause and play, next, etc. to key\n \tpresses.\n --------------------------------------------------------------------------*/\n\tfunction bindKeyDownEventHandlers() {\n\t\tdocument.removeEventListener(\"keydown\", _helpers2.default.keydown);\n\t\tdocument.addEventListener(\"keydown\", _handlers2.default.keydown);\n\t}\n\n\t/*--------------------------------------------------------------------------\n \tWhen the audio element has ended playing, we handle the song\n \tending. In a single song or multiple modular song instance,\n \tthis just synchronizes the visuals for time and song time\n \tvisualization, but for a playlist it determines whether\n \tit should play the next song or not.\n --------------------------------------------------------------------------*/\n\tfunction bindSongEnded() {\n\t\t_config2.default.active_song.removeEventListener('ended', _handlers2.default.songEnded);\n\t\t_config2.default.active_song.addEventListener('ended', _handlers2.default.songEnded);\n\t}\n\n\t/*--------------------------------------------------------------------------\n \tAs the audio is loaded, the progress event gets fired. We bind into this\n \tto grab the buffered percentage of the song. We can then add more elements\n \tto show the buffered amount.\n --------------------------------------------------------------------------*/\n\tfunction bindProgress() {\n\t\t_config2.default.active_song.removeEventListener('progress', _handlers2.default.progess);\n\t\t_config2.default.active_song.addEventListener('progress', _handlers2.default.progress);\n\t}\n\n\t/*--------------------------------------------------------------------------\n \tBINDS: class=\"amplitude-play\"\n \t\tBinds click and touchend events for amplitude play buttons.\n --------------------------------------------------------------------------*/\n\tfunction bindPlay() {\n\t\t/*\n  \tGets all of the elements with the class amplitude-play\n  */\n\t\tvar play_classes = document.getElementsByClassName(\"amplitude-play\");\n\n\t\t/*\n  \tIterates over all of the play classes and binds the event interaction\n  \tmethod to the element. If the browser is mobile, then the event is touchend\n  \totherwise it is click.\n  */\n\t\tfor (var i = 0; i < play_classes.length; i++) {\n\t\t\tif (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {\n\t\t\t\tplay_classes[i].removeEventListener('touchend', _handlers2.default.play);\n\t\t\t\tplay_classes[i].addEventListener('touchend', _handlers2.default.play);\n\t\t\t} else {\n\t\t\t\tplay_classes[i].removeEventListener('click', _handlers2.default.play);\n\t\t\t\tplay_classes[i].addEventListener('click', _handlers2.default.play);\n\t\t\t}\n\t\t}\n\t}\n\n\t/*--------------------------------------------------------------------------\n \tBINDS: class=\"amplitude-pause\"\n \t\tBinds click and touchend events for amplitude pause buttons.\n --------------------------------------------------------------------------*/\n\tfunction bindPause() {\n\t\t/*\n  \tGets all of the elements with the class amplitude-pause\n  */\n\t\tvar pause_classes = document.getElementsByClassName(\"amplitude-pause\");\n\n\t\t/*\n  \tIterates over all of the pause classes and binds the event interaction\n  \tmethod to the element. If the browser is mobile, then the event is touchend\n  \totherwise it is click.\n  */\n\t\tfor (var i = 0; i < pause_classes.length; i++) {\n\t\t\tif (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {\n\t\t\t\tpause_classes[i].removeEventListener('touchend', _handlers2.default.pause);\n\t\t\t\tpause_classes[i].addEventListener('touchend', _handlers2.default.pause);\n\t\t\t} else {\n\t\t\t\tpause_classes[i].removeEventListener('click', _handlers2.default.pause);\n\t\t\t\tpause_classes[i].addEventListener('click', _handlers2.default.pause);\n\t\t\t}\n\t\t}\n\t}\n\n\t/*--------------------------------------------------------------------------\n \tBINDS: class=\"amplitude-play-pause\"\n \t\tBinds click and touchend events for amplitude play pause buttons.\n --------------------------------------------------------------------------*/\n\tfunction bindPlayPause() {\n\t\t/*\n  \tGets all of the elements with the class amplitude-play-pause\n  */\n\t\tvar play_pause_classes = document.getElementsByClassName(\"amplitude-play-pause\");\n\n\t\t/*\n  \tIterates over all of the play/pause classes and binds the event interaction\n  \tmethod to the element. If the browser is mobile, then the event is touchend\n  \totherwise it is click.\n  */\n\t\tfor (var i = 0; i < play_pause_classes.length; i++) {\n\t\t\tif (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {\n\t\t\t\tplay_pause_classes[i].removeEventListener('touchend', _handlers2.default.playPause);\n\t\t\t\tplay_pause_classes[i].addEventListener('touchend', _handlers2.default.playPause);\n\t\t\t} else {\n\t\t\t\tplay_pause_classes[i].removeEventListener('click', _handlers2.default.playPause);\n\t\t\t\tplay_pause_classes[i].addEventListener('click', _handlers2.default.playPause);\n\t\t\t}\n\t\t}\n\t}\n\n\t/*--------------------------------------------------------------------------\n \tBINDS: class=\"amplitude-stop\"\n \t\tBinds click and touchend events for amplitude stop buttons\n --------------------------------------------------------------------------*/\n\tfunction bindStop() {\n\t\t/*\n  \tGets all of the elements with the class amplitude-stop\n  */\n\t\tvar stop_classes = document.getElementsByClassName(\"amplitude-stop\");\n\n\t\t/*\n  \tIterates over all of the stop classes and binds the event interaction\n  \tmethod to the element.  If the browser is mobile, then the event is touchend\n  \totherwise it is click.\n  */\n\t\tfor (var i = 0; i < stop_classes.length; i++) {\n\t\t\tif (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {\n\t\t\t\tstop_classes[i].removeEventListener('touchend', _handlers2.default.stop);\n\t\t\t\tstop_classes[i].addEventListener('touchend', _handlers2.default.stop);\n\t\t\t} else {\n\t\t\t\tstop_classes[i].removeEventListener('click', _handlers2.default.stop);\n\t\t\t\tstop_classes[i].addEventListener('click', _handlers2.default.stop);\n\t\t\t}\n\t\t}\n\t}\n\n\t/*--------------------------------------------------------------------------\n \tBINDS: class=\"amplitude-mute\"\n \t\tBinds click and touchend events for amplitude mute buttons\n --------------------------------------------------------------------------*/\n\tfunction bindMute() {\n\t\t/*\n  \tGets all of the elements with the class amplitue-mute\n  */\n\t\tvar mute_classes = document.getElementsByClassName(\"amplitude-mute\");\n\n\t\t/*\n  \tIterates over all of the mute classes and binds the event interaction\n  \tmethod to the element. If the browser is mobile, then the event is touchend\n  \totherwise it is click.\n  */\n\t\tfor (var i = 0; i < mute_classes.length; i++) {\n\t\t\t/*\n   \tWARNING: If iOS, we don't do anything because iOS does not allow the\n   \tvolume to be adjusted through anything except the buttons on the side of\n   \tthe device.\n   */\n\t\t\tif (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {\n\t\t\t\t/*\n    \tChecks for an iOS device and displays an error message if debugging\n    \tis turned on.\n    */\n\t\t\t\tif (/iPhone|iPad|iPod/i.test(navigator.userAgent)) {\n\t\t\t\t\t_helpers2.default.writeDebugMessage('iOS does NOT allow volume to be set through javascript: https://developer.apple.com/library/safari/documentation/AudioVideo/Conceptual/Using_HTML5_Audio_Video/Device-SpecificConsiderations/Device-SpecificConsiderations.html#//apple_ref/doc/uid/TP40009523-CH5-SW4');\n\t\t\t\t} else {\n\t\t\t\t\tmute_classes[i].removeEventListener('touchend', _handlers2.default.mute);\n\t\t\t\t\tmute_classes[i].addEventListener('touchend', _handlers2.default.mute);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tmute_classes[i].removeEventListener('click', _handlers2.default.mute);\n\t\t\t\tmute_classes[i].addEventListener('click', _handlers2.default.mute);\n\t\t\t}\n\t\t}\n\t}\n\n\t/*--------------------------------------------------------------------------\n \tBINDS: class=\"amplitude-volume-up\"\n \t\tBinds click and touchend events for amplitude volume up buttons\n --------------------------------------------------------------------------*/\n\tfunction bindVolumeUp() {\n\t\t/*\n  \tGets all of the elements with the class amplitude-volume-up\n  */\n\t\tvar volume_up_classes = document.getElementsByClassName(\"amplitude-volume-up\");\n\n\t\t/*\n  \tIterates over all of the volume up classes and binds the event interaction\n  \tmethods to the element. If the browser is mobile, then the event is touchend\n  \totherwise it is click.\n  */\n\t\tfor (var i = 0; i < volume_up_classes.length; i++) {\n\t\t\t/*\n   \tWARNING: If iOS, we don't do anything because iOS does not allow the\n   \tvolume to be adjusted through anything except the buttons on the side of\n   \tthe device.\n   */\n\t\t\tif (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {\n\t\t\t\t/*\n    \tChecks for an iOS device and displays an error message if debugging\n    \tis turned on.\n    */\n\t\t\t\tif (/iPhone|iPad|iPod/i.test(navigator.userAgent)) {\n\t\t\t\t\t_helpers2.default.writeDebugMessage('iOS does NOT allow volume to be set through javascript: https://developer.apple.com/library/safari/documentation/AudioVideo/Conceptual/Using_HTML5_Audio_Video/Device-SpecificConsiderations/Device-SpecificConsiderations.html#//apple_ref/doc/uid/TP40009523-CH5-SW4');\n\t\t\t\t} else {\n\t\t\t\t\tvolume_up_classes[i].removeEventListener('touchend', _handlers2.default.volumeUp);\n\t\t\t\t\tvolume_up_classes[i].addEventListener('touchend', _handlers2.default.volumeUp);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvolume_up_classes[i].removeEventListener('click', _handlers2.default.volumeUp);\n\t\t\t\tvolume_up_classes[i].addEventListener('click', _handlers2.default.volumeUp);\n\t\t\t}\n\t\t}\n\t}\n\n\t/*--------------------------------------------------------------------------\n \tBINDS: class=\"amplitude-volume-down\"\n \t\tBinds click and touchend events for amplitude volume down buttons\n --------------------------------------------------------------------------*/\n\tfunction bindVolumeDown() {\n\t\t/*\n  \tGets all of the elements with the class amplitude-volume-down\n  */\n\t\tvar volume_down_classes = document.getElementsByClassName(\"amplitude-volume-down\");\n\n\t\t/*\n  \tIterates over all of the volume down classes and binds the event interaction\n  \tmethods to the element. If the browser is mobile, then the event is touchend\n  \totherwise it is click.\n  */\n\t\tfor (var i = 0; i < volume_down_classes.length; i++) {\n\t\t\t/*\n   \tWARNING: If iOS, we don't do anything because iOS does not allow the\n   \tvolume to be adjusted through anything except the buttons on the side of\n   \tthe device.\n   */\n\t\t\tif (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {\n\t\t\t\t/*\n    \tChecks for an iOS device and displays an error message if debugging\n    \tis turned on.\n    */\n\t\t\t\tif (/iPhone|iPad|iPod/i.test(navigator.userAgent)) {\n\t\t\t\t\t_helpers2.default.writeDebugMessage('iOS does NOT allow volume to be set through javascript: https://developer.apple.com/library/safari/documentation/AudioVideo/Conceptual/Using_HTML5_Audio_Video/Device-SpecificConsiderations/Device-SpecificConsiderations.html#//apple_ref/doc/uid/TP40009523-CH5-SW4');\n\t\t\t\t} else {\n\t\t\t\t\tvolume_down_classes[i].removeEventListener('touchend', _handlers2.default.volumeDown);\n\t\t\t\t\tvolume_down_classes[i].addEventListener('touchend', _handlers2.default.volumeDown);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvolume_down_classes[i].removeEventListener('click', _handlers2.default.volumeDown);\n\t\t\t\tvolume_down_classes[i].addEventListener('click', _handlers2.default.volumeDown);\n\t\t\t}\n\t\t}\n\t}\n\n\t/*--------------------------------------------------------------------------\n \tBINDS: class=\"amplitude-song-slider\"\n \t\tBinds change and input events for amplitude song slider inputs\n --------------------------------------------------------------------------*/\n\tfunction bindSongSlider() {\n\t\t/*\n  \tGets browser so if we need to apply overrides, like we usually\n  \thave to do for anything cool in IE, we can do that.\n  */\n\t\tvar ua = window.navigator.userAgent;\n\t\tvar msie = ua.indexOf(\"MSIE \");\n\n\t\t/*\n  \tGets all of the elements with the class amplitude-song-slider\n  */\n\t\tvar song_sliders = document.getElementsByClassName(\"amplitude-song-slider\");\n\n\t\t/*\n  \tIterates over all of the song slider classes and binds the event interaction\n  \tmethods to the element. If the browser is IE we listen to the change event\n  \twhere if it is anything else, it's the input method.\n  */\n\t\tfor (var i = 0; i < song_sliders.length; i++) {\n\t\t\tif (msie > 0 || !!navigator.userAgent.match(/Trident.*rv\\:11\\./)) {\n\t\t\t\tsong_sliders[i].removeEventListener('change', _handlers2.default.songSlider);\n\t\t\t\tsong_sliders[i].addEventListener('change', _handlers2.default.songSlider);\n\t\t\t} else {\n\t\t\t\tsong_sliders[i].removeEventListener('input', _handlers2.default.songSlider);\n\t\t\t\tsong_sliders[i].addEventListener('input', _handlers2.default.songSlider);\n\t\t\t}\n\t\t}\n\t}\n\n\t/*--------------------------------------------------------------------------\n \tBINDS: class=\"amplitude-volume-slider\"\n \t\tBinds change and input events for amplitude volume slider inputs\n --------------------------------------------------------------------------*/\n\tfunction bindVolumeSlider() {\n\t\t/*\n  \tGets browser so if we need to apply overrides, like we usually\n  \thave to do for anything cool in IE, we can do that.\n  */\n\t\tvar ua = window.navigator.userAgent;\n\t\tvar msie = ua.indexOf(\"MSIE \");\n\n\t\t/*\n  Gets all of the elements with the class amplitude-volume-slider\n  */\n\t\tvar volume_sliders = document.getElementsByClassName(\"amplitude-volume-slider\");\n\n\t\t/*\n  \tIterates over all of the volume slider classes and binds the event interaction\n  \tmethods to the element. If the browser is IE we listen to the change event\n  \twhere if it is anything else, it's the input method.\n  */\n\t\tfor (var i = 0; i < volume_sliders.length; i++) {\n\t\t\t/*\n   \tWARNING: If iOS, we don't do anything because iOS does not allow the\n   \tvolume to be adjusted through anything except the buttons on the side of\n   \tthe device.\n   */\n\t\t\tif (/iPhone|iPad|iPod/i.test(navigator.userAgent)) {\n\t\t\t\t_helpers2.default.writeDebugMessage('iOS does NOT allow volume to be set through javascript: https://developer.apple.com/library/safari/documentation/AudioVideo/Conceptual/Using_HTML5_Audio_Video/Device-SpecificConsiderations/Device-SpecificConsiderations.html#//apple_ref/doc/uid/TP40009523-CH5-SW4');\n\t\t\t} else {\n\t\t\t\tif (msie > 0 || !!navigator.userAgent.match(/Trident.*rv\\:11\\./)) {\n\t\t\t\t\tvolume_sliders[i].removeEventListener('change', _handlers2.default.volumeSlider);\n\t\t\t\t\tvolume_sliders[i].addEventListener('change', _handlers2.default.volumeSlider);\n\t\t\t\t} else {\n\t\t\t\t\tvolume_sliders[i].removeEventListener('input', _handlers2.default.volumeSlider);\n\t\t\t\t\tvolume_sliders[i].addEventListener('input', _handlers2.default.volumeSlider);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/*--------------------------------------------------------------------------\n \tBINDS: class=\"amplitude-next\"\n \t\tBinds click and touchend events for amplitude next buttons.\n --------------------------------------------------------------------------*/\n\tfunction bindNext() {\n\t\t/*\n  \tGets all of the elements with the class amplitude-next\n        */\n\t\tvar next_classes = document.getElementsByClassName(\"amplitude-next\");\n\n\t\t/*\n  \tIterates over all of the next classes and binds the event interaction\n  \tmethods to the element. If the browser is mobile, then the event is touchend\n  \totherwise it is click.\n  */\n\t\tfor (var i = 0; i < next_classes.length; i++) {\n\t\t\tif (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {\n\t\t\t\tnext_classes[i].removeEventListener('touchend', _handlers2.default.next);\n\t\t\t\tnext_classes[i].addEventListener('touchend', _handlers2.default.next);\n\t\t\t} else {\n\t\t\t\tnext_classes[i].removeEventListener('click', _handlers2.default.next);\n\t\t\t\tnext_classes[i].addEventListener('click', _handlers2.default.next);\n\t\t\t}\n\t\t}\n\t}\n\n\t/*--------------------------------------------------------------------------\n \tBINDS: class=\"amplitude-prev\"\n \t\tBinds click and touchend events for amplitude prev buttons.\n --------------------------------------------------------------------------*/\n\tfunction bindPrev() {\n\t\t/*\n  \tGets all of the elements with the class amplitude-prev\n  */\n\t\tvar prev_classes = document.getElementsByClassName(\"amplitude-prev\");\n\n\t\t/*\n  \tIterates over all of the prev classes and binds the event interaction\n  \tmethods to the element. If the browser is mobile, then the event is touchend\n  \totherwise it is click.\n  */\n\t\tfor (var i = 0; i < prev_classes.length; i++) {\n\t\t\tif (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {\n\t\t\t\tprev_classes[i].removeEventListener('touchend', _handlers2.default.prev);\n\t\t\t\tprev_classes[i].addEventListener('touchend', _handlers2.default.prev);\n\t\t\t} else {\n\t\t\t\tprev_classes[i].removeEventListener('click', _handlers2.default.prev);\n\t\t\t\tprev_classes[i].addEventListener('click', _handlers2.default.prev);\n\t\t\t}\n\t\t}\n\t}\n\n\t/*--------------------------------------------------------------------------\n \tBINDS: class=\"amplitude-shuffle\"\n \t\tBinds click and touchend events for amplitude shuffle buttons.\n --------------------------------------------------------------------------*/\n\tfunction bindShuffle() {\n\t\t/*\n  \tGets all of the elements with the class amplitude-shuffle\n  */\n\t\tvar shuffle_classes = document.getElementsByClassName(\"amplitude-shuffle\");\n\n\t\t/*\n  \tIterates over all of the shuffle classes and binds the event interaction\n  \tmethods to the element. If the browser is mobile, then the event is touchend\n  \totherwise it is click.\n  */\n\t\tfor (var i = 0; i < shuffle_classes.length; i++) {\n\t\t\t/*\n   \tSince we are re-binding everything we remove any classes that signify\n   \ta state of the shuffle control.\n   */\n\t\t\tshuffle_classes[i].classList.remove('amplitude-shuffle-on');\n\t\t\tshuffle_classes[i].classList.add('amplitude-shuffle-off');\n\n\t\t\tif (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {\n\t\t\t\tshuffle_classes[i].removeEventListener('touchend', _handlers2.default.shuffle);\n\t\t\t\tshuffle_classes[i].addEventListener('touchend', _handlers2.default.shuffle);\n\t\t\t} else {\n\t\t\t\tshuffle_classes[i].removeEventListener('click', _handlers2.default.shuffle);\n\t\t\t\tshuffle_classes[i].addEventListener('click', _handlers2.default.shuffle);\n\t\t\t}\n\t\t}\n\t}\n\n\t/*--------------------------------------------------------------------------\n \tBINDS: class=\"amplitude-repeat\"\n \t\tBinds click and touchend events for amplitude repeat buttons.\n --------------------------------------------------------------------------*/\n\tfunction bindRepeat() {\n\t\t/*\n  \tGets all of the elements with the class amplitude-repeat\n  */\n\t\tvar repeat_classes = document.getElementsByClassName(\"amplitude-repeat\");\n\n\t\t/*\n  \tIterates over all of the repeat classes and binds the event interaction\n  \tmethods to the element. If the browser is mobile, then the event is touchend\n  \totherwise it is click.\n  */\n\t\tfor (var i = 0; i < repeat_classes.length; i++) {\n\t\t\t/*\n   \tSince we are re-binding everything we remove any classes that signify\n   \ta state of the repeat control.\n   */\n\t\t\trepeat_classes[i].classList.remove('amplitude-repeat-on');\n\t\t\trepeat_classes[i].classList.add('amplitude-repeat-off');\n\n\t\t\tif (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {\n\t\t\t\trepeat_classes[i].removeEventListener('touchend', _handlers2.default.repeat);\n\t\t\t\trepeat_classes[i].addEventListener('touchend', _handlers2.default.repeat);\n\t\t\t} else {\n\t\t\t\trepeat_classes[i].removeEventListener('click', _handlers2.default.repeat);\n\t\t\t\trepeat_classes[i].addEventListener('click', _handlers2.default.repeat);\n\t\t\t}\n\t\t}\n\t}\n\n\t/*--------------------------------------------------------------------------\n \tBINDS: class=\"amplitude-playback-speed\"\n \t\tBinds click and touchend events for amplitude playback speed buttons.\n --------------------------------------------------------------------------*/\n\tfunction bindPlaybackSpeed() {\n\t\t/*\n  \tGets all of the elements with the class amplitude-playback-speed\n  */\n\t\tvar playback_speed_classes = document.getElementsByClassName(\"amplitude-playback-speed\");\n\n\t\t/*\n  \tIterates over all of the playback speed classes and binds the event interaction\n  \tmethods to the element. If the browser is mobile, then the event is touchend\n  \totherwise it is click.\n  */\n\t\tfor (var i = 0; i < playback_speed_classes.length; i++) {\n\t\t\tif (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {\n\t\t\t\tplayback_speed_classes[i].removeEventListener('touchend', _handlers2.default.playbackSpeed);\n\t\t\t\tplayback_speed_classes[i].addEventListener('touchend', _handlers2.default.playbackSpeed);\n\t\t\t} else {\n\t\t\t\tplayback_speed_classes[i].removeEventListener('click', _handlers2.default.playbackSpeed);\n\t\t\t\tplayback_speed_classes[i].addEventListener('click', _handlers2.default.playbackSpeed);\n\t\t\t}\n\t\t}\n\t}\n\n\t/*--------------------------------------------------------------------------\n \tBINDS: class=\"amplitude-skip-to\"\n \t\tBinds click and touchend events for amplitude skip to buttons.\n --------------------------------------------------------------------------*/\n\tfunction bindSkipTo() {\n\t\t/*\n  \tGets all of the skip to elements with the class 'amplitude-skip-to'\n  */\n\t\tvar skipToClasses = document.getElementsByClassName(\"amplitude-skip-to\");\n\n\t\t/*\n  \tIterates over all of the skip to classes and binds the event interaction\n  \tmethods to the element. If the browser is mobile, then the event is touchend\n  \totherwise it's a click.\n  */\n\t\tfor (var i = 0; i < skipToClasses.length; i++) {\n\t\t\tif (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {\n\t\t\t\tskipToClasses[i].removeEventListener('touchend', _handlers2.default.skipTo);\n\t\t\t\tskipToClasses[i].addEventListener('touchend', _handlers2.default.skipTo);\n\t\t\t} else {\n\t\t\t\tskipToClasses[i].removeEventListener('click', _handlers2.default.skipTo);\n\t\t\t\tskipToClasses[i].addEventListener('click', _handlers2.default.skipTo);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tinitializeEvents: initializeEvents\n\t};\n}(); /*\n     \tImport the necessary classes and config to use\n     \twith the events.\n     */\nexports.default = AmplitudeEvents;\nmodule.exports = exports['default'];\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _config = __webpack_require__(0);\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _visual = __webpack_require__(2);\n\nvar _visual2 = _interopRequireDefault(_visual);\n\nvar _core = __webpack_require__(3);\n\nvar _core2 = _interopRequireDefault(_core);\n\nvar _helpers = __webpack_require__(1);\n\nvar _helpers2 = _interopRequireDefault(_helpers);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * These methods help handle interactions whether it's computation or shuffling\n * songs.\n *\n * @module events/AmplitudeEventsHelpers\n */\n\n\n/**\n * Imports the Amplitude Core module\n * @module core/AmplitudeCore\n */\n/**\n * Imports the config module\n * @module config\n */\nvar AmplitudeEventsHelpers = function () {\n\t/**\n  * Computes the current song time. Breaks down where the song is into\n  * hours, minutes, seconds and formats it to be displayed to the user.\n  *\n  * @access public\n  */\n\tfunction computeCurrentTimes() {\n\t\t/*\n  \tInitialize the current time object that will be returned.\n  */\n\t\tvar currentTime = {};\n\n\t\t/*\n  \tComputes the current seconds for the song.\n  */\n\t\tvar currentSeconds = (Math.floor(_config2.default.active_song.currentTime % 60) < 10 ? '0' : '') + Math.floor(_config2.default.active_song.currentTime % 60);\n\n\t\t/*\n  \tComputes the current minutes for the song.\n  */\n\t\tvar currentMinutes = Math.floor(_config2.default.active_song.currentTime / 60);\n\n\t\t/*\n  \tInitialize the current hours variable.\n  */\n\t\tvar currentHours = '00';\n\n\t\t/*\n  \tIf the current minutes is less than 10, we add a leading 0.\n  */\n\t\tif (currentMinutes < 10) {\n\t\t\tcurrentMinutes = '0' + currentMinutes;\n\t\t}\n\n\t\t/*\n  \tIf the user is more than 60 minutes into the song, then\n  \twe extract the hours.\n  */\n\t\tif (currentMinutes >= 60) {\n\t\t\tcurrentHours = Math.floor(currentMinutes / 60);\n\t\t\tcurrentMinutes = currentMinutes % 60;\n\n\t\t\t/*\n   \tIf the user is less than 10 minutes in, we append the\n   \tadditional 0 to the minutes.\n   */\n\t\t\tif (currentMinutes < 10) {\n\t\t\t\tcurrentMinutes = '0' + currentMinutes;\n\t\t\t}\n\t\t}\n\n\t\t/*\n  \tBuild a clean current time object and send back the appropriate information.\n  */\n\t\tcurrentTime.seconds = currentSeconds;\n\t\tcurrentTime.minutes = currentMinutes;\n\t\tcurrentTime.hours = currentHours;\n\n\t\treturn currentTime;\n\t}\n\n\t/**\n  * Computes the current song duration. Breaks down where the song is into\n  * hours, minutes, seconds and formats it to be displayed to the user.\n  *\n  * @access public\n  */\n\tfunction computeSongDuration() {\n\t\t/*\n  \tInitialize the song duration object that will be returned.\n  */\n\t\tvar songDuration = {};\n\n\t\t/*\n  \tComputes the duration of the song's seconds.\n  */\n\t\tvar songDurationSeconds = (Math.floor(_config2.default.active_song.duration % 60) < 10 ? '0' : '') + Math.floor(_config2.default.active_song.duration % 60);\n\n\t\t/*\n  \tComputes the duration of the song's minutes.\n  */\n\t\tvar songDurationMinutes = Math.floor(_config2.default.active_song.duration / 60);\n\n\t\t/*\n  \tInitialize the hours duration variable.\n  */\n\t\tvar songDurationHours = '0';\n\n\t\t/*\n  \tIf the song duration minutes is less than 10, we add a leading 0.\n  */\n\t\tif (songDurationMinutes < 10) {\n\t\t\tsongDurationMinutes = '0' + songDurationMinutes;\n\t\t}\n\n\t\t/*\n  \tIf there is more than 60 minutes in the song, then we\n  \textract the hours.\n  */\n\t\tif (songDurationMinutes >= 60) {\n\t\t\tsongDurationHours = Math.floor(songDurationMinutes / 60);\n\t\t\tsongDurationMinutes = songDurationMinutes % 60;\n\n\t\t\t/*\n   \tIf the song duration minutes is less than 10 we append\n   \tthe additional 0.\n   */\n\t\t\tif (songDurationMinutes < 10) {\n\t\t\t\tsongDurationMinutes = '0' + songDurationMinutes;\n\t\t\t}\n\t\t}\n\n\t\t/*\n  \tBuild a clean song duration object and send back the appropriate information.\n  */\n\t\tsongDuration.seconds = songDurationSeconds;\n\t\tsongDuration.minutes = songDurationMinutes;\n\t\tsongDuration.hours = songDurationHours;\n\n\t\treturn songDuration;\n\t}\n\n\t/**\n  * Computes the song completion percentage.\n  *\n  * @access public\n  */\n\tfunction computeSongCompletionPercentage() {\n\t\treturn _config2.default.active_song.currentTime / _config2.default.active_song.duration * 100;\n\t}\n\n\t/**\n  * Sets the current song's playback speed\n  *\n  * @access public\n  * @param {number} speed \t- The float with a base of 1 representing the speed\n  *\n  */\n\tfunction setPlaybackSpeed(speed) {\n\t\t_core2.default.setPlaybackSpeed(speed);\n\t}\n\n\t/**\n  * Sets the state of the repeat for the current song.\n  *\n  * @access public\n  * @param {boolean} repeat - A boolean representing whether the repeat should be on or off\n  * @param {string} playlist - The key of the playlist for repeating\n  */\n\tfunction setRepeat(repeat, playlist) {\n\t\t/*\n    If the playlist is null, then we are dealing with the global\n    repeat status.\n  */\n\t\tif (playlist == null) {\n\t\t\t/*\n   \tSet the global repeat to be toggled\n   */\n\t\t\t_config2.default.repeat = repeat;\n\n\t\t\t/*\n   \tVisually sync repeat\n   */\n\t\t\t_visual2.default.syncRepeat();\n\t\t} else {\n\t\t\t/*\n   \tSet the playlist repeat to be toggled.\n   */\n\t\t\t_config2.default.repeat_statuses[playlist] = repeat;\n\n\t\t\t/*\n   \tVisually sync playlist repeat\n   */\n\t\t\t_visual2.default.syncRepeatPlaylist(playlist);\n\t\t}\n\n\t\t/** When song ends and in playlis mode and done with playlist check repeat  **/\n\t}\n\n\t/**\n  * Sets the state of the repeat song\n  *\n  * @access public\n  * @param {boolean} repeat - A boolean representing whether the repeat shoudl be on or off for the song.\n  */\n\tfunction setRepeatSong(repeat) {\n\t\t_config2.default.repeat_song = repeat;\n\t}\n\n\t/**\n  * Sets the main play pause buttons to the current state of the song.\n  *\n  * @access public\n  */\n\tfunction setMainPlayPause() {\n\t\t/*\n  \tDetermines what action we should take based on the\n  \tstate of the song.\n  */\n\t\tif (_config2.default.active_song.paused) {\n\t\t\t/*\n   \tThe song was paused so we sync visually for the song\n   \tthat is playing and we play the song.\n   */\n\t\t\t_visual2.default.syncMainPlayPause('playing');\n\n\t\t\t/*\n   \tIf there is an active playlist, then\n   \twe need to sync that playlist's play pause\n   \tbutton to the state of playing.\n   */\n\t\t\t_visual2.default.syncPlaylistPlayPause(_config2.default.active_playlist, 'playing');\n\n\t\t\t/*\n   \tSync the song play pause buttons\n   */\n\t\t\t_visual2.default.syncSongPlayPause(_config2.default.active_playlist, _config2.default.active_index, 'playing');\n\n\t\t\t/*\n   \tPlay the song\n   */\n\t\t\t_core2.default.play();\n\t\t} else {\n\t\t\t/*\n   \tThe song was playing so we sync visually for the song\n   \tto be paused and we pause the song.\n   */\n\t\t\t_visual2.default.syncMainPlayPause('paused');\n\n\t\t\t/*\n   \tIf there is an active playlist, then\n   \twe need to sync that playlist's play pause\n   \tbutton to the state of paused.\n   */\n\t\t\t_visual2.default.syncPlaylistPlayPause(_config2.default.active_playlist, 'paused');\n\n\t\t\t/*\n   \tSync the song play pause buttons\n   */\n\t\t\t_visual2.default.syncSongPlayPause(_config2.default.active_playlist, _config2.default.active_index, 'paused');\n\n\t\t\t/*\n   \tPause the song\n   */\n\t\t\t_core2.default.pause();\n\t\t}\n\t}\n\n\t/**\n  * Sets the playlist main play pause buttons to the current state of the song.\n  *\n  * @access public\n  * @param {string} playlist The playlist the main play pause button controls\n  */\n\tfunction setPlaylistPlayPause(playlist) {\n\t\t/*\n  \tThe only thing that can change when you click a playlist\n  \tplay pause is the playlist. Main play pauses have no change\n  \tin song, song play pauses can change playlist and song.\n  */\n\t\tif (_helpers2.default.checkNewPlaylist(playlist)) {\n\t\t\t_helpers2.default.setActivePlaylist(playlist);\n\n\t\t\t/*\n   \tPlay first song in the playlist since we just\n   \tswitched playlists, we start from the first song.\n   \t\tIf the user has shuffle on for the playlist, then\n   \twe go from the first song in the shuffle playlist array.\n   */\n\t\t\tif (_config2.default.shuffled_statuses[playlist]) {\n\t\t\t\t_helpers2.default.changeSong(_config2.default.shuffled_playlists[playlist][0].original_index);\n\t\t\t} else {\n\t\t\t\t_helpers2.default.changeSong(_config2.default.playlists[playlist][0]);\n\t\t\t}\n\t\t}\n\n\t\t/*\n  \tDetermines what action we should take based on the\n  \tstate of the song.\n  */\n\t\tif (_config2.default.active_song.paused) {\n\t\t\t/*\n   \tThe song was paused so we sync visually for the song\n   \tthat is playing and we play the song.\n   */\n\t\t\t_visual2.default.syncMainPlayPause('playing');\n\n\t\t\t/*\n   \tIf there is an active playlist, then\n   \twe need to sync that playlist's play pause\n   \tbutton to the state of playing.\n   */\n\t\t\t_visual2.default.syncPlaylistPlayPause(_config2.default.active_playlist, 'playing');\n\n\t\t\t/*\n   \tSync the song play pause buttons\n   */\n\t\t\t_visual2.default.syncSongPlayPause(_config2.default.active_playlist, _config2.default.active_index, 'playing');\n\n\t\t\t/*\n   \tPlay the song\n   */\n\t\t\t_core2.default.play();\n\t\t} else {\n\t\t\t/*\n   \tThe song was playing so we sync visually for the song\n   \tto be paused and we pause the song.\n   */\n\t\t\t_visual2.default.syncMainPlayPause('paused');\n\n\t\t\t/*\n   \tIf there is an active playlist, then\n   \twe need to sync that playlist's play pause\n   \tbutton to the state of paused.\n   */\n\t\t\t_visual2.default.syncPlaylistPlayPause(_config2.default.active_playlist, 'paused');\n\n\t\t\t/*\n   \tSync the song play pause buttons\n   */\n\t\t\t_visual2.default.syncSongPlayPause(_config2.default.active_playlist, _config2.default.active_index, 'paused');\n\n\t\t\t/*\n   \tPause the song\n   */\n\t\t\t_core2.default.pause();\n\t\t}\n\t}\n\n\t/**\n  * Sets the song play pause buttons to the current state of the song.\n  *\n  * @access public\n  * @param {string} playlist The playlist the song is a part of\n  * @param {number} songIndex The index of the song being played/paused\n  *\n  */\n\tfunction setSongPlayPause(playlist, songIndex) {\n\t\t/*\n  \tThere can be multiple playlists on the page and there can be\n  \tmultiple songs on the page AND there can be songs in multiple\n  \tplaylists, so we have some checking to do.\n  */\n\n\t\t/*\n  \tCheck to see if the playlist has changed. If it has,\n  \tset the active playlist.\n  */\n\t\tif (_helpers2.default.checkNewPlaylist(playlist)) {\n\t\t\t_helpers2.default.setActivePlaylist(playlist);\n\n\t\t\t/*\n   \tIf there's a new playlist then we reset the\n   \tsong since the song could be in 2 playlists,\n   \tbut the user selects another playlist.\n   */\n\t\t\t_helpers2.default.changeSong(songIndex);\n\t\t}\n\n\t\t/*\n  \tCheck to see if the song has changed. If it has,\n  \tset the active song. If it was in a playlist, the\n  \tsong wouldn't change here, since we already set the\n  \tsong when we checked for a playlist.\n  */\n\t\tif (_helpers2.default.checkNewSong(songIndex)) {\n\t\t\t/*\n   \tThe song selected is different, so we change the\n   \tsong.\n   */\n\t\t\t_helpers2.default.changeSong(songIndex);\n\t\t}\n\n\t\t/*\n  \tDetermines what action we should take based on the\n  \tstate of the song.\n  */\n\t\tif (_config2.default.active_song.paused) {\n\t\t\t/*\n   \tThe song was paused so we sync visually for the song\n   \tthat is playing and we play the song.\n   */\n\t\t\t_visual2.default.syncMainPlayPause('playing');\n\n\t\t\t/*\n   \tIf there is an active playlist, then\n   \twe need to sync that playlist's play pause\n   \tbutton to the state of playing.\n   */\n\t\t\t_visual2.default.syncPlaylistPlayPause(_config2.default.active_playlist, 'playing');\n\n\t\t\t/*\n   \tSync the song play pause buttons\n   */\n\t\t\t_visual2.default.syncSongPlayPause(_config2.default.active_playlist, _config2.default.active_index, 'playing');\n\n\t\t\t/*\n   \tPlay the song\n   */\n\t\t\t_core2.default.play();\n\t\t} else {\n\t\t\t/*\n   \tThe song was playing so we sync visually for the song\n   \tto be paused and we pause the song.\n   */\n\t\t\t_visual2.default.syncMainPlayPause('paused');\n\n\t\t\t/*\n   \tIf there is an active playlist, then\n   \twe need to sync that playlist's play pause\n   \tbutton to the state of paused.\n   */\n\t\t\t_visual2.default.syncPlaylistPlayPause(_config2.default.active_playlist, 'paused');\n\n\t\t\t/*\n   \tSync the song play pause buttons\n   */\n\t\t\t_visual2.default.syncSongPlayPause(_config2.default.active_playlist, _config2.default.active_index, 'paused');\n\n\t\t\t/*\n   \tPause the song\n   */\n\t\t\t_core2.default.pause();\n\t\t}\n\t}\n\n\t/**\n  * Sets the shuffle state for a playlist\n  *\n  * @access public\n  * @param {string} playlist - The playlist being shuffled\n  */\n\tfunction setShuffle(playlist) {\n\t\t/*\n  \tIf the playlist is null, then we are dealing with the global\n  \tshuffle status.\n  */\n\t\tif (playlist == null) {\n\t\t\t/*\n   \tIf shuffle is on, we toggle it off. If shuffle is off, we\n   \ttoggle on.\n   */\n\t\t\tif (_config2.default.shuffle_on) {\n\t\t\t\t_config2.default.shuffle_on = false;\n\t\t\t\t_config2.default.shuffle_list = {};\n\t\t\t} else {\n\t\t\t\t_config2.default.shuffle_on = true;\n\t\t\t\t_helpers2.default.shuffleSongs();\n\t\t\t}\n\n\t\t\t/*\n   \tVisually sync the shuffle statuses\n   */\n\t\t\t_visual2.default.syncShuffle(_config2.default.shuffle_on);\n\t\t} else {\n\t\t\t/*\n   \tIf the playlist shuffled is on, we toggle it off. If the\n   \tplaylist shuffled is off, we toggle it on.\n   */\n\t\t\tif (_config2.default.shuffled_statuses[playlist]) {\n\t\t\t\t_config2.default.shuffled_statuses[playlist] = false;\n\t\t\t\t_config2.default.shuffled_playlists[playlist] = [];\n\t\t\t} else {\n\t\t\t\t_config2.default.shuffled_statuses[playlist] = true;\n\t\t\t\t_helpers2.default.shufflePlaylistSongs(playlist);\n\t\t\t}\n\n\t\t\t/*\n   \tVisually sync the playlist shuffle statuses.\n   */\n\t\t\t_visual2.default.syncPlaylistShuffle(_config2.default.shuffled_statuses[playlist], playlist);\n\t\t}\n\t}\n\n\t/**\n  * Sets the next song when next is clicked\n  *\n  * @access public\n  * @param {boolean} [songEnded=false] If the song ended, this is set to true\n  * so we take into effect the repeat setting.\n */\n\tfunction setNext() {\n\t\tvar songEnded = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n\t\t/*\n  \tInitializes the next index variable. This will be the\n  \tindex of the song that is next.\n  */\n\t\tvar nextIndex = 0;\n\t\t/*\n    Ensure we don't loop in the playlist if config.repeat is not true\n  */\n\t\tvar endOfList = false;\n\n\t\tif (_config2.default.repeat_song) {\n\t\t\t/*\n   \tIf the playlist is shuffled, get the now playing index.\n   */\n\t\t\tif (_config2.default.shuffle_on) {\n\t\t\t\tnextIndex = _config2.default.shuffle_active_index;\n\t\t\t} else {\n\t\t\t\tnextIndex = _config2.default.active_index;\n\t\t\t}\n\t\t} else {\n\n\t\t\t/*\n   \tIf the shuffle is on, we use the shuffled list of\n   \tsongs to determine our next song.\n   */\n\t\t\tif (_config2.default.shuffle_on) {\n\t\t\t\t/*\n    \tIf the active shuffle index + 1 is less than the length, then\n    \twe use the next shuffle otherwise we go to the beginning\n    \tof the shuffle list.\n    */\n\t\t\t\tif (parseInt(_config2.default.shuffle_active_index) + 1 < _config2.default.shuffle_list.length) {\n\t\t\t\t\t_config2.default.shuffle_active_index = parseInt(_config2.default.shuffle_active_index) + 1;\n\n\t\t\t\t\t/*\n     \tSet the next index to be the index of the song in the shuffle list.\n     */\n\t\t\t\t\tnextIndex = _config2.default.shuffle_list[parseInt(_config2.default.shuffle_active_index)].original_index;\n\t\t\t\t} else {\n\t\t\t\t\t_config2.default.shuffle_active_index = 0;\n\t\t\t\t\tnextIndex = 0;\n\t\t\t\t\tendOfList = true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t/*\n    \tIf the active index + 1 is less than the length of the songs, then\n    \twe use the next song otherwise we go to the beginning of the\n    \tsong list.\n    */\n\t\t\t\tif (parseInt(_config2.default.active_index) + 1 < _config2.default.songs.length) {\n\t\t\t\t\t_config2.default.active_index = parseInt(_config2.default.active_index) + 1;\n\t\t\t\t} else {\n\t\t\t\t\t_config2.default.active_index = 0;\n\t\t\t\t\tendOfList = true;\n\t\t\t\t}\n\n\t\t\t\t/*\n    \tSets the next index.\n    */\n\t\t\t\tnextIndex = _config2.default.active_index;\n\t\t\t}\n\t\t}\n\n\t\t/*\n  \tStops the active song.\n  */\n\t\t_core2.default.stop();\n\n\t\t/*\n  \tChange the song to the index we need.\n  */\n\t\t_helpers2.default.changeSong(nextIndex);\n\n\t\t/*\n  \tIf it's the end of the list and repeat is not on, do nothing.\n  */\n\t\tif (endOfList && !_config2.default.repeat) {} else {\n\t\t\t/*\n   \tIf the song has ended and repeat is on, play the song.\n   */\n\t\t\tif (!(songEnded && !_config2.default.repeat && endOfList)) {\n\t\t\t\t_core2.default.play();\n\t\t\t}\n\t\t}\n\n\t\t/*\n  \tSyncs the main play pause button, playlist play pause button and\n  \tsong play pause.\n  */\n\t\t_visual2.default.syncMainPlayPause();\n\t\t_visual2.default.syncSongPlayPause(null, nextIndex);\n\n\t\t/*\n  \tCall after next callback\n  */\n\t\t_helpers2.default.runCallback('after_next');\n\n\t\t/*\n  \tIf we are repeating the song, call the song repeated callback\n  */\n\t\tif (_config2.default.repeat_song) {\n\t\t\t_helpers2.default.runCallback('song_repeated');\n\t\t}\n\t}\n\n\t/**\n  * Sets the next song in a playlist\n  *\n  * @param {string} playlist - The playlist being shuffled\n  * @param {boolean} [songEnded=false] - If the song ended, this is set to true\n  * so we take into effect the repeat setting.\n  */\n\tfunction setNextPlaylist(playlist) {\n\t\tvar songEnded = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n\t\t/*\n  \tInitializes the next index\n  */\n\t\tvar nextIndex = 0;\n\n\t\t/*\n    Used to determine whether the playlist looped over\n    If it did, only play if repeat is allowed, end otherwise\n    @TODO: Different settings for song loop, in-playlist loop and global loop\n  */\n\t\tvar endOfList = false;\n\n\t\t/*\n  \tIf we are repeating the song, then we just start the song over.\n  */\n\n\t\tif (_config2.default.repeat_song) {\n\t\t\t/*\n   \tIf the playlist is shuffled, get the now playing index.\n   */\n\t\t\tif (_config2.default.shuffled_statuses[playlist]) {\n\t\t\t\tnextIndex = _config2.default.shuffled_playlists[playlist][_config2.default.shuffled_active_indexes[playlist]].original_index;\n\t\t\t} else {\n\t\t\t\tnextIndex = _config2.default.active_index;\n\t\t\t}\n\t\t} else {\n\t\t\t/*\n   \tIf the playlist is shuffled we get the next index of the playlist.\n   */\n\t\t\tif (_config2.default.shuffled_statuses[playlist]) {\n\t\t\t\t/*\n    \tGets the shuffled playlist's active song index.\n    */\n\t\t\t\tvar shuffledPlaylistActiveSongIndex = parseInt(_config2.default.shuffled_active_indexes[playlist]);\n\n\t\t\t\t/*\n    \tIf the index + 1 is less than the length of the playlist, we increment\n    \tthe next index otherwise we take the first index of 0.\n    */\n\t\t\t\tif (shuffledPlaylistActiveSongIndex + 1 < _config2.default.shuffled_playlists[playlist].length) {\n\t\t\t\t\t/*\n     \tSet the shuffled playlist active song index.\n     */\n\t\t\t\t\t_config2.default.shuffled_active_indexes[playlist] = shuffledPlaylistActiveSongIndex + 1;\n\t\t\t\t\t/*\n     \tGet the index of the song that we will be switching to.\n     */\n\t\t\t\t\tnextIndex = _config2.default.shuffled_playlists[playlist][_config2.default.shuffled_active_indexes[playlist]].original_index;\n\t\t\t\t} else {\n\t\t\t\t\t/*\n     \tSets the active shuffled playlist active index to 0 and gets the original index of\n     \tthe song at the shuffled index of 0.\n     */\n\t\t\t\t\t_config2.default.shuffled_active_indexes[playlist] = 0;\n\t\t\t\t\tnextIndex = _config2.default.shuffled_playlists[playlist][0].original_index;\n\t\t\t\t\tendOfList = true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t/*\n    \tGets the index of the active song within the scope\n    \tof the playlist.\n    */\n\t\t\t\tvar playlistActiveSongIndex = _config2.default.playlists[playlist].indexOf(parseInt(_config2.default.active_index));\n\n\t\t\t\t/*\n    \tChecks to see if the next index is still less than the length of the playlist.\n    \tIf it is, use the next index othwerwise get the first song in the playlist.\n    */\n\t\t\t\tif (playlistActiveSongIndex + 1 < _config2.default.playlists[playlist].length) {\n\t\t\t\t\t_config2.default.active_index = parseInt(_config2.default.playlists[playlist][playlistActiveSongIndex + 1]);\n\t\t\t\t} else {\n\t\t\t\t\t_config2.default.active_index = parseInt(_config2.default.playlists[playlist][0]);\n\t\t\t\t\tendOfList = true;\n\t\t\t\t}\n\n\t\t\t\t/*\n    \tSets the next inex to the active index in the config.\n    */\n\t\t\t\tnextIndex = _config2.default.active_index;\n\t\t\t}\n\t\t}\n\n\t\t/*\n  \tStops the active song playing.\n  */\n\n\t\t_core2.default.stop();\n\n\t\t/*\n  \tChanges the song to the next song in the playlist.\n  */\n\t\t_helpers2.default.changeSong(nextIndex);\n\n\t\t/*\n  \tIf it's the end of the song in the playlist, and repeat for\n  \tthe playlist is not on, do nothing.\n  */\n\t\tif (endOfList && !_config2.default.repeat_statuses[playlist]) {} else {\n\t\t\t/*\n   \tIf the song has ended and repeat is on, play the song.\n   */\n\t\t\tif (!(songEnded && !_config2.default.repeat_statuses[playlist] && endOfList)) {\n\t\t\t\t_core2.default.play();\n\t\t\t}\n\t\t}\n\n\t\t_helpers2.default.setActivePlaylist(playlist);\n\n\t\t/*\n  \tSyncs the main play pause button, playlist play pause button and\n  \tsong play pause.\n  */\n\t\t_visual2.default.syncMainPlayPause();\n\t\t_visual2.default.syncPlaylistPlayPause(playlist);\n\t\t_visual2.default.syncSongPlayPause(playlist, nextIndex);\n\n\t\t/*\n  \tCall after next callback\n  */\n\t\t_helpers2.default.runCallback('after_next');\n\n\t\t/*\n  \tIf we are repeating the song, call the song repeated callback\n  */\n\t\tif (_config2.default.repeat_song) {\n\t\t\t_helpers2.default.runCallback('song_repeated');\n\t\t}\n\t}\n\n\t/**\n  * Sets the previous song\n  * @access public\n  *\n /*--------------------------------------------------------------------------\n \tSets the previous song\n --------------------------------------------------------------------------*/\n\tfunction setPrev() {\n\t\t/*\n  \tInitializes the prev index variable. This will be the\n  \tindex of the song that is next.\n  */\n\t\tvar prevIndex = 0;\n\n\t\t/*\n  \tIf the shuffle is on for the individual songs, we get the previous\n  \tsong.\n  */\n\t\tif (_config2.default.shuffle_on) {\n\t\t\t/*\n   \tIf the previous index is greater than or equal to 0, we use the active\n   \tindex - 1.\n   */\n\t\t\tif (parseInt(_config2.default.shuffle_active_index) - 1 >= 0) {\n\t\t\t\t/*\n    \tSets the new active to be 1 less than the current active index.\n    */\n\t\t\t\t_config2.default.shuffle_active_index = parseInt(_config2.default.shuffle_active_index) - 1;\n\n\t\t\t\t/*\n    \tGets the index of the song in the song array for the new index.\n    */\n\t\t\t\tprevIndex = _config2.default.shuffle_list[parseInt(_config2.default.shuffle_active_index)].original_index;\n\t\t\t} else {\n\t\t\t\t/*\n    \tSet the active index and previous index.\n    */\n\t\t\t\t_config2.default.shuffle_active_index = _config2.default.shuffle_list.length - 1;\n\t\t\t\tprevIndex = _config2.default.shuffle_list[parseInt(_config2.default.shuffle_list.length) - 1].original_index;\n\t\t\t}\n\t\t} else {\n\t\t\t/*\n   \tIf the active index - 1 is greater than or equal to 0, we subtract 1 from the\n   \tactive index otherwise we set the active index to the end of the songs array index.\n   */\n\t\t\tif (parseInt(_config2.default.active_index) - 1 >= 0) {\n\t\t\t\t_config2.default.active_index = parseInt(_config2.default.active_index) - 1;\n\t\t\t} else {\n\t\t\t\t_config2.default.active_index = _config2.default.songs.length - 1;\n\t\t\t}\n\n\t\t\t/*\n   \tSet the previous index.\n   */\n\t\t\tprevIndex = _config2.default.active_index;\n\t\t}\n\n\t\t/*\n  \tStops the active song.\n  */\n\t\t_core2.default.stop();\n\n\t\t/*\n  \tChange the song to the index we need.\n  */\n\t\t_helpers2.default.changeSong(prevIndex);\n\n\t\t/*\n  \tPlay the next song.\n  */\n\t\t_core2.default.play();\n\n\t\t/*\n  \tSync the play/pause buttons to the current state of the player.\n  */\n\t\t_visual2.default.syncMainPlayPause('playing');\n\t\t_visual2.default.syncSongPlayPause(null, prevIndex, 'playing');\n\n\t\t/*\n  \tCall after prev callback\n  */\n\t\t_helpers2.default.runCallback('after_prev');\n\t}\n\n\t/**\n  * Sets the previous song in a playlist\n  *\n  * @access public\n  * @param {string} playlist \t- The playlist we are setting the previous for.\n  */\n\tfunction setPrevPlaylist(playlist) {\n\t\t/*\n  \tInitializes the prev index variable. This will be the\n  \tindex of the song that is next.\n  */\n\t\tvar prevIndex = 0;\n\n\t\t/*\n  \tIf the shuffle is on for the playlist, we get the previous\n  \tsong.\n  */\n\t\tif (_config2.default.shuffled_statuses[playlist]) {\n\t\t\t/*\n   \tGets the active song index for the shuffled playlist\n   */\n\t\t\tvar shuffledPlaylistActiveSongIndex = parseInt(_config2.default.shuffled_active_indexes[playlist]);\n\n\t\t\t/*\n   \tIf the shuffled song active index is greater than or equal to 0,\n   \twe use the active index - 1.\n   */\n\t\t\tif (shuffledPlaylistActiveSongIndex - 1 >= 0) {\n\t\t\t\t/*\n    \tSets the active index to the active song index - 1\n    */\n\t\t\t\t_config2.default.shuffled_active_indexes[playlist] = shuffledPlaylistActiveSongIndex - 1;\n\n\t\t\t\t/*\n    \tGets the index of the song in the song array for the new index.\n    */\n\t\t\t\tprevIndex = _config2.default.shuffled_playlists[playlist][_config2.default.shuffled_active_indexes[playlist]].original_index;\n\t\t\t} else {\n\t\t\t\t/*\n    \tSet the active index and previous index.\n    */\n\t\t\t\t_config2.default.shuffled_active_indexes[playlist] = _config2.default.shuffled_playlists[playlist].length - 1;\n\t\t\t\tprevIndex = _config2.default.shuffled_playlists[playlist][_config2.default.shuffled_playlists[playlist].length - 1].original_index;\n\t\t\t}\n\t\t} else {\n\t\t\t/*\n   \tGets the active song index for the playlist\n   */\n\t\t\tvar playlistActiveSongIndex = _config2.default.playlists[playlist].indexOf(parseInt(_config2.default.active_index));\n\n\t\t\t/*\n   \tIf the active song index in the playlist - 1 is greater than\n   \tor equal to 0, then we use the active song index - 1.\n   */\n\t\t\tif (playlistActiveSongIndex - 1 >= 0) {\n\t\t\t\t_config2.default.active_index = parseInt(_config2.default.playlists[playlist][playlistActiveSongIndex - 1]);\n\t\t\t} else {\n\t\t\t\t_config2.default.active_index = parseInt(_config2.default.playlists[playlist][_config2.default.playlists[playlist].length - 1]);\n\t\t\t}\n\n\t\t\t/*\n   \tSet the previous index to the active index for use later.\n   */\n\t\t\tprevIndex = _config2.default.active_index;\n\t\t}\n\n\t\t/*\n  \tStops the active song.\n  */\n\t\t_core2.default.stop();\n\n\t\t/*\n  \tChanges the song to the prev song in the playlist.\n  */\n\t\t_helpers2.default.changeSong(prevIndex);\n\t\t_helpers2.default.setActivePlaylist(playlist);\n\n\t\t/*\n  \tPlays the song\n  */\n\t\t_core2.default.play();\n\n\t\t/*\n  \tSyncs the main play pause button, playlist play pause button and\n  \tsong play pause.\n  */\n\t\t_visual2.default.syncMainPlayPause('playing');\n\t\t_visual2.default.syncPlaylistPlayPause(playlist, 'playing');\n\t\t_visual2.default.syncSongPlayPause(playlist, prevIndex, 'playing');\n\n\t\t/*\n  \tCall after prev callback\n  */\n\t\t_helpers2.default.runCallback('after_prev');\n\t}\n\n\t/**\n  * Runs an event on key down\n  *\n  * @access public\n  * @param {number} key \t- The key code the event is bound to.\n  */\n\tfunction runKeyEvent(key) {\n\t\t/*\n  \tChecks to see if the user bound an event to the code pressed.\n  */\n\t\tif (_config2.default.bindings[key] != undefined) {\n\t\t\t/*\n   \tDetermine which event should be run if bound.\n   */\n\t\t\tswitch (_config2.default.bindings[key]) {\n\t\t\t\t/*\n    \tFires a play pause event.\n    */\n\t\t\t\tcase 'play_pause':\n\t\t\t\t\tsetSongPlayPause(_config2.default.active_playlist, _config2.default.active_index);\n\t\t\t\t\tbreak;\n\n\t\t\t\t/*\n    \tFires a next event.\n    */\n\t\t\t\tcase 'next':\n\t\t\t\t\t/*\n     \tCheck to see if the current state of the player\n     \tis in playlist mode or not playlist mode.\n     */\n\t\t\t\t\tif (_config2.default.active_playlist == '' || _config2.default.active_playlist == null) {\n\t\t\t\t\t\tsetNext();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetNextPlaylist(_config2.default.active_playlist);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\t/*\n    \tFires a previous event.\n    */\n\t\t\t\tcase 'prev':\n\t\t\t\t\t/*\n     \tCheck to see if the current playlist has been set\n     \tor null and set the previous song.\n     */\n\t\t\t\t\tif (_config2.default.active_playlist == '' || _config2.default.active_playlist == null) {\n\t\t\t\t\t\tAmplitudeEventsHelpers.setPrev();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tAmplitudeEventsHelpers.setPrevPlaylist(_config2.default.active_playlist);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\t/*\n    \tFires a stop event.\n    */\n\t\t\t\tcase 'stop':\n\t\t\t\t\t/*\n     \tSets all of the play/pause buttons to pause\n     */\n\t\t\t\t\t_visual2.default.setPlayPauseButtonsToPause();\n\n\t\t\t\t\t/*\n     \tStops the active song.\n     */\n\t\t\t\t\t_core2.default.stop();\n\t\t\t\t\tbreak;\n\n\t\t\t\t/*\n    \tFires a shuffle event.\n    */\n\t\t\t\tcase 'shuffle':\n\t\t\t\t\t/*\n     \tCheck to see if the current playlist has been set\n     \tor null and set the previous song.\n     */\n\t\t\t\t\tif (_config2.default.active_playlist == '' || _config2.default.active_playlist == null) {\n\t\t\t\t\t\tAmplitudesEventHelpers.setShuffle(null);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tAmplitudeEvenstHelpers.setShuffle(_config2.default.active_playlist);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\t/*\n    \tFires a repeat event.\n    */\n\t\t\t\tcase 'repeat':\n\t\t\t\t\t/*\n     \tSets repeat to the opposite of what it was set to\n     */\n\t\t\t\t\tAmplitudeEventsHelpers.setRepeat(!_config2.default.repeat);\n\n\t\t\t\t\t/*\n     \tVisually sync repeat\n     */\n\t\t\t\t\t_visual2.default.syncRepeat();\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n \tReturn the publically scoped functions\n */\n\treturn {\n\t\tcomputeCurrentTimes: computeCurrentTimes,\n\t\tcomputeSongDuration: computeSongDuration,\n\t\tcomputeSongCompletionPercentage: computeSongCompletionPercentage,\n\t\tsetPlaybackSpeed: setPlaybackSpeed,\n\t\tsetRepeat: setRepeat,\n\t\tsetRepeatSong: setRepeatSong,\n\t\tsetMainPlayPause: setMainPlayPause,\n\t\tsetPlaylistPlayPause: setPlaylistPlayPause,\n\t\tsetSongPlayPause: setSongPlayPause,\n\t\tsetShuffle: setShuffle,\n\t\tsetNext: setNext,\n\t\tsetNextPlaylist: setNextPlaylist,\n\t\tsetPrev: setPrev,\n\t\tsetPrevPlaylist: setPrevPlaylist,\n\t\trunKeyEvent: runKeyEvent\n\t};\n}();\n\n/**\n * Imports the Amplitude Core Helpers module\n * @module core/AmplitudeCoreHelpers\n */\n\n\n/**\n * Imports the Amplitude Visual Sync module\n * @module visual/AmplitudeVisualSync\n */\nexports.default = AmplitudeEventsHelpers;\nmodule.exports = exports['default'];\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _config = __webpack_require__(0);\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _core = __webpack_require__(3);\n\nvar _core2 = _interopRequireDefault(_core);\n\nvar _helpers = __webpack_require__(1);\n\nvar _helpers2 = _interopRequireDefault(_helpers);\n\nvar _events = __webpack_require__(4);\n\nvar _events2 = _interopRequireDefault(_events);\n\nvar _soundcloud = __webpack_require__(9);\n\nvar _soundcloud2 = _interopRequireDefault(_soundcloud);\n\nvar _visual = __webpack_require__(2);\n\nvar _visual2 = _interopRequireDefault(_visual);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * AmplitudeJS Initializer Module. Helps with the handling of all of the\n * initialization for AmplitudeJS.\n *\n * @module init/AmplitudeInitializer\n */\n\n\n/**\n * AmplitudeJS Soundcloud\n * @module soundcloud/AmplitudeSoundcloud\n */\n\n\n/**\n * AmplitudeJS Core Helpers\n * @module core/AmplitudeHelpers\n */\n/**\n * Imports the config module\n * @module config\n */\nvar AmplitudeInitializer = function () {\n\n\t/**\n   * The main init function.  The user will call this through\n  * Amplitude.init({}) and pass in their settings.\n  *\n  * Public Accessor: Amplitude.init( user_config_json )\n  * @access public\n   * @param {object} userConfig - A JSON object of user defined values that help configure and initialize AmplitudeJS.\n   */\n\tfunction initialize(userConfig) {\n\t\tvar ready = false;\n\n\t\t/*\n  \tReset the config on init so we have a clean slate. This is if the\n  \tuser has to re-init.\n  */\n\t\t_helpers2.default.resetConfig();\n\n\t\t/*\n  \tInitialize event handlers on init. This will clear any old\n  \tevent handlers on the amplitude element and re-bind what is\n  \tnecessary.\n  */\n\t\t_events2.default.initializeEvents();\n\n\t\t/*\n  \tInitializes debugging right away so we can use it for the rest\n  \tof the configuration.\n  */\n\t\t_config2.default.debug = userConfig.debug != undefined ? userConfig.debug : false;\n\n\t\t/*\n  \tChecks to see if the user has songs defined.\n  */\n\t\tif (userConfig.songs) {\n\t\t\t/*\n   \tChecks to see if the user has some songs in the songs array.\n   */\n\t\t\tif (userConfig.songs.length != 0) {\n\t\t\t\t/*\n    \tCopies over the user defined songs. and prepares\n    \tAmplitude for the rest of the configuration.\n    */\n\t\t\t\t_config2.default.songs = userConfig.songs;\n\t\t\t\t/*\n    \tFlag amplitude as ready.\n    */\n\t\t\t\tready = true;\n\t\t\t} else {\n\t\t\t\t_helpers2.default.writeDebugMessage('Please add some songs, to your songs object!');\n\t\t\t}\n\t\t} else {\n\t\t\t_helpers2.default.writeDebugMessage('Please provide a songs object for AmplitudeJS to run!');\n\t\t}\n\n\t\t/**\n   * Initializes the audio context. In this method it checks to see if the\n   * user wants to use visualizations or not before proceeding.\n   * @todo MAKE HANDLED BY AMPLITUDE FX.\n   */\n\t\t//privateHelpInitializeAudioContext();\n\n\t\t/*\n  \tChecks if the user has any playlists defined. If they do\n  \twe have to initialize the functionality for the playlists.\n  */\n\t\tif (userConfig.playlists && countPlaylists(userConfig.playlists) > 0) {\n\t\t\t/*\n   \tCopy the playlists over to Amplitude\n   */\n\t\t\t_config2.default.playlists = userConfig.playlists;\n\n\t\t\t/*\n   \tInitialize default live settings\n   */\n\t\t\tinitializeDefaultLiveSettings();\n\n\t\t\t/*\n   \tCheck to see if the user has valid song indexes in their playlist.\n   */\n\t\t\tcheckValidSongsInPlaylists();\n\n\t\t\t/*\n   \tInitialize the shuffle status of the playlists.\n   */\n\t\t\tinitializePlaylistShuffleStatuses();\n\n\t\t\t/*\n   \tInitialize the repeat status for the playlits.\n   */\n\t\t\tinitializePlaylistsRepeatStatuses();\n\n\t\t\t/*\n   \tInitialize temporary place holders for shuffle lists.\n   */\n\t\t\tinitializePlaylistShuffleLists();\n\n\t\t\t/*\n   \tInitializes the active shuffled indexes for shuffled playlists.\n   */\n\t\t\tinitializePlaylistShuffleIndexes();\n\n\t\t\t/*\n   \tInitializes the first song in the playlist\n   */\n\t\t\tinitializeFirstSongInPlaylistMetaData();\n\t\t}\n\n\t\t/*\n  \tWhen the preliminary config is ready, we are ready to proceed.\n  */\n\t\tif (ready) {\n\t\t\t/*\n   \tCopies over the soundcloud information to the global config\n   \twhich will determine where we go from there.\n   */\n\t\t\t_config2.default.soundcloud_client = userConfig.soundcloud_client != undefined ? userConfig.soundcloud_client : '';\n\n\t\t\t/*\n   \tChecks if we want to use the art loaded from soundcloud.\n   */\n\t\t\t_config2.default.soundcloud_use_art = userConfig.soundcloud_use_art != undefined ? userConfig.soundcloud_use_art : '';\n\n\t\t\t/*\n   \tIf the user provides a soundcloud client then we assume that\n   \tthere are URLs in their songs that will reference SoundcCloud.\n   \tWe then copy over the user config they provided to the\n   \ttemp_user_config so we don't mess up the global or their configs\n   \tand load the soundcloud information.\n   */\n\t\t\tvar tempUserConfig = {};\n\n\t\t\tif (_config2.default.soundcloud_client != '') {\n\t\t\t\ttempUserConfig = userConfig;\n\n\t\t\t\t/*\n    \tLoad up SoundCloud for use with AmplitudeJS.\n    */\n\t\t\t\t_soundcloud2.default.loadSoundCloud(tempUserConfig);\n\t\t\t} else {\n\t\t\t\t/*\n    \tThe user is not using Soundcloud with Amplitude at this point\n    \tso we just finish the configuration with the users's preferences.\n    */\n\t\t\t\tsetConfig(userConfig);\n\t\t\t}\n\t\t}\n\n\t\t/*\n  \tDebug out what was initialized with AmplitudeJS.\n  */\n\t\t_helpers2.default.writeDebugMessage('Initialized With: ');\n\t\t_helpers2.default.writeDebugMessage(_config2.default);\n\t}\n\n\t/**\n  * Rebinds all of the elements in the display.\n  *\n  * Public Accessor: Amplitude.rebindDisplay()\n  * @access public\n  */\n\tfunction rebindDisplay() {\n\t\t_events2.default.initializeEvents();\n\t\t_visual2.default.displaySongMetadata();\n\t}\n\n\t/**\n  * Finishes the initalization of the config. Takes all of the user defined\n  * parameters and makes sure they override the defaults. The important\n  * config information is assigned in the publicInit() function.\n  *\n  * This function can be called from 2 different locations:\n  * \t1. Right away on init after the important settings are defined.\n  *\n  * \t2. After all of the Soundcloud URLs are resolved properly and\n  *\t \tsoundcloud is configured.  We will need the proper URLs from Soundcloud\n  * \t\tto stream through Amplitude so we get those right away before we\n  * \t\tset the information and the active song\n  *\n  * @access public\n  * @param {object} userConfig - A JSON object of user defined values that help configure and initialize AmplitudeJS.\n  */\n\tfunction setConfig(userConfig) {\n\t\t/*\n  \tCheck to see if the user entered a start song\n  */\n\t\tif (userConfig.start_song != undefined) {\n\t\t\t/*\n   \tEnsure what has been entered is an integer.\n   */\n\t\t\tif (_helpers2.default.isInt(userConfig.start_song)) {\n\t\t\t\t_helpers2.default.changeSong(userConfig.start_song);\n\t\t\t} else {\n\t\t\t\t_helpers2.default.writeDebugMessage(\"You must enter an integer index for the start song.\");\n\t\t\t}\n\t\t} else {\n\t\t\t_helpers2.default.changeSong(0);\n\t\t}\n\n\t\t/*\n  \tInitialize a sh\n  */\n\t\tif (userConfig.shuffle_on != undefined && userConfig.shuffle_on) {\n\t\t\t_config2.default.shuffle_on = true;\n\t\t\t_helpers2.default.shuffleSongs();\n\n\t\t\t/*\n   \tVisually sync the shuffle statuses\n   */\n\t\t\t_visual2.default.syncShuffle(_config2.default.shuffle_on);\n\n\t\t\t_helpers2.default.changeSong(_config2.default.shuffle_list[0].original_index);\n\t\t}\n\n\t\t/*\n  \tAllows the user to set whether they want to continue to the next song\n  \twhen the current song finishes or not. In any scenario that's not a playlist,\n  \tcontining to the next song may not be desired.\n  */\n\t\t_config2.default.continue_next = userConfig.continue_next != undefined ? userConfig.continue_next : true;\n\n\t\t/*\n  \tIf the user defined a playback speed, we copy over their\n  \tpreference here, otherwise we default to normal playback\n  \tspeed of 1.0.\n  */\n\t\t_config2.default.playback_speed = userConfig.playback_speed != undefined ? userConfig.playback_speed : 1.0;\n\n\t\t/*\n  \tSets the audio playback speed.\n  */\n\t\t_core2.default.setPlaybackSpeed(_config2.default.playback_speed);\n\n\t\t/*\n  \tIf the user wants the song to be pre-loaded for instant\n  \tplayback, they set it to true. By default it's set to just\n  \tload the metadata.\n  */\n\t\t_config2.default.active_song.preload = userConfig.preload != undefined ? userConfig.preload : \"auto\";\n\n\t\t/*\n  \tInitializes the user defined callbacks. This should be a JSON\n  \tobject that contains a key->value store of the callback name\n  \tand the name of the function the user needs to call.\n  */\n\t\t_config2.default.callbacks = userConfig.callbacks != undefined ? userConfig.callbacks : {};\n\n\t\t/*\n  \tInitializes the user defined key bindings. This should be a JSON\n  \tobject that contains a key->value store of the key event number\n  \tpressed and the method to be run.\n  */\n\t\t_config2.default.bindings = userConfig.bindings != undefined ? userConfig.bindings : {};\n\n\t\t/*\n  \tThe user can define a starting volume in a range of 0-100 with\n  \t0 being muted and 100 being the loudest. After the config is set\n  \tAmplitude sets the active song's volume to the volume defined\n  \tby the user.\n  */\n\t\t_config2.default.volume = userConfig.volume != undefined ? userConfig.volume : 50;\n\n\t\t/*\n  \tThe user can set the volume increment and decrement values between 1 and 100\n  \tfor when the volume up or down button is pressed.  The default is an increase\n  \tor decrease of 5.\n  */\n\t\t_config2.default.volume_increment = userConfig.volume_increment != undefined ? userConfig.volume_increment : 5;\n\n\t\t_config2.default.volume_decrement = userConfig.volume_decrement != undefined ? userConfig.volume_decrement : 5;\n\n\t\t/*\n  \tSet the volume to what is defined in the config. The user can define this,\n  \tso we should set it up that way.\n  */\n\t\t_core2.default.setVolume(_config2.default.volume);\n\n\t\t/*\n  \tSince the user can define a start volume, we want our volume\n  \tsliders to sync with the user defined start value.\n  */\n\t\t_visual2.default.syncVolumeSliders();\n\n\t\t/*\n  \tIf the user defines default album art, this image will display if the active\n  \tsong doesn't have album art defined.\n  */\n\t\tif (userConfig.default_album_art != undefined) {\n\t\t\t_config2.default.default_album_art = userConfig.default_album_art;\n\t\t} else {\n\t\t\t_config2.default.default_album_art = '';\n\t\t}\n\n\t\t/*\n  \tSyncs all of the visual time elements to 00.\n  */\n\t\t_visual2.default.resetTimes();\n\n\t\t/*\n  \tSets all of the play pause buttons to pause.\n  */\n\t\t_visual2.default.setPlayPauseButtonsToPause();\n\n\t\t/*\n  \tSets the meta data for the songs automatically.\n  */\n\t\t_visual2.default.syncSongsMetaData();\n\n\t\t/*\n  \tIf the user has autoplay enabled, then begin playing the song. Everything should\n  \tbe configured for this to be ready to play.\n  */\n\t\tif (userConfig.autoplay) {\n\t\t\t/*\n   \tIf the user hasn't set a starting playlist, set it to null otherwise initialize to the\n   \tstarting playlist selected by the user.\n   */\n\t\t\tif (userConfig.starting_playlist == '') {\n\t\t\t\t_config2.default.active_playlist = null;\n\t\t\t} else {\n\t\t\t\t_config2.default.active_playlist = userConfig.starting_playlist;\n\t\t\t}\n\n\t\t\t/*\n   \tSync the main and song play pause buttons.\n   */\n\t\t\t_visual2.default.syncMainPlayPause('playing');\n\t\t\t_visual2.default.syncSongPlayPause(_config2.default.active_playlist, 0, 'playing');\n\n\t\t\t/*\n   \tStart playing the song\n   */\n\t\t\t_core2.default.play();\n\t\t}\n\n\t\t/*\n  \tIf the user has selected a starting playlist, we need to set the starting playlist\n  \tand sync the visuals\n  */\n\t\tif (userConfig.starting_playlist != '' && userConfig.starting_playlist != undefined) {\n\t\t\t/*\n   \tSet the active playlist to the starting playlist by the user\n   */\n\t\t\t_config2.default.active_playlist = userConfig.starting_playlist;\n\n\t\t\t/*\n   \tSet the player to the first song in the playlist\n   */\n\t\t\t_helpers2.default.changeSong(userConfig.playlists[userConfig.starting_playlist][0]);\n\n\t\t\t/*\n   \tSync the main and song play pause buttons.\n   */\n\t\t\t_visual2.default.syncMainPlayPause('paused');\n\t\t\t_visual2.default.syncSongPlayPause(_config2.default.active_playlist, 0, 'paused');\n\t\t}\n\n\t\t/*\n  \tRun after init callback\n  */\n\t\t_helpers2.default.runCallback('after_init');\n\t}\n\n\t/**\n  * Counts the number of playlists the user has configured. This ensures\n  * that the user has at least 1 playlist so we can validate the songs\n  * defined in the playlist are correct and they didn't enter an invalid\n  * ID.\n  *\n  * @access private\n  * @param {object} playlists \t-\n  */\n\tfunction countPlaylists(playlists) {\n\t\t/*\n  \tInitialize the placeholders to iterate through the playlists\n  \tand find out how many we have to account for.\n  */\n\t\tvar size = 0,\n\t\t    key = void 0;\n\n\t\t/*\n  \tIterate over playlists and if the user has the playlist defined,\n  \tincrement the size of playlists.\n  */\n\t\tfor (key in playlists) {\n\t\t\tif (playlists.hasOwnProperty(key)) {\n\t\t\t\tsize++;\n\t\t\t}\n\t\t}\n\n\t\t/*\n  \tDebug how many playlists are in the config.\n  */\n\t\t_helpers2.default.writeDebugMessage('You have ' + size + ' playlist(s) in your config');\n\n\t\t/*\n  \tReturn the number of playlists in the config.\n  */\n\t\treturn size;\n\t}\n\n\t/**\n * Ensures the indexes in the playlists are valid indexes. The song has\n * to exist in the Amplitude config to be played correctly.\n *\n * @access private\n */\n\tfunction checkValidSongsInPlaylists() {\n\t\t/*\n  \tIterate over all of the config's playlists\n  */\n\t\tfor (var key in _config2.default.playlists) {\n\t\t\t/*\n   \tChecks if the playlist key is accurate.\n   */\n\t\t\tif (_config2.default.playlists.hasOwnProperty(key)) {\n\t\t\t\t/*\n    \tChecks if the playlist has songs.\n    */\n\t\t\t\tif (_config2.default.playlists[key].songs) {\n\t\t\t\t\t/*\n     \tIterate over all of the songs in the playlist\n     */\n\t\t\t\t\tfor (var i = 0; i < _config2.default.playlists[key].songs.length; i++) {\n\t\t\t\t\t\t/*\n      \tCheck to see if the index for the song in the playlist\n      \texists in the songs config.\n      */\n\t\t\t\t\t\tif (!_config2.default.songs[_config2.default.playlists[key].songs[i]]) {\n\t\t\t\t\t\t\t_helpers2.default.writeDebugMessage('The song index: ' + _config2.default.playlists[key].songs[i] + ' in playlist with key: ' + key + ' is not defined in your songs array!');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n  * Initializes the shuffle statuses for each of the playlists. These will\n  * be referenced when we shuffle individual playlists.\n  *\n  * @access private\n  */\n\tfunction initializePlaylistShuffleStatuses() {\n\t\t/*\n  \tIterate over all of the playlists the user defined adding\n  \tthe playlist key to the shuffled playlist array and creating\n  \tand empty object to house the statuses.\n  */\n\t\tfor (var key in _config2.default.playlists) {\n\t\t\t_config2.default.shuffled_statuses[key] = false;\n\t\t}\n\t}\n\n\t/**\n  * Initializes the repeat statuses for each of the playlists.  These will\n  * be referenced when we repeat individual playlits.\n  *\n  * @access private\n  */\n\tfunction initializePlaylistsRepeatStatuses() {\n\t\t/*\n  \tIterate over all of the playlists the user defined adding\n  \tthe playlist key to the repeated playlist array and creating\n  \tand empty object to house the statuses.\n  */\n\t\tfor (var key in _config2.default.playlists) {\n\t\t\t_config2.default.repeat_statuses[key] = false;\n\t\t}\n\t}\n\n\t/**\n  * Initializes the shuffled playlist placeholders. These will be set for\n  * playlists that are shuffled and contain the shuffled songs.\n  *\n  * @access private\n \t */\n\tfunction initializePlaylistShuffleLists() {\n\t\t/*\n  \tIterate over all of the playlists the user defined adding\n  \tthe playlist key to the shuffled playlists array and creating\n  \tand empty object to house the shuffled playlists\n  */\n\t\tfor (var key in _config2.default.playlists) {\n\t\t\t_config2.default.shuffled_playlists[key] = [];\n\t\t}\n\t}\n\n\t/**\n  * Initializes the shuffled playlist indexes array. These will be set for\n  * playlists that are shuffled and contain the active shuffled index.\n  *\n  * @access private\n  */\n\tfunction initializePlaylistShuffleIndexes() {\n\t\t/*\n  \tIterates over all of the playlists adding a key\n  \tto the shuffled_active_indexes array that contains\n  \tthe active shuffled index.\n  */\n\t\tfor (var key in _config2.default.playlists) {\n\t\t\t_config2.default.shuffled_active_indexes[key] = 0;\n\t\t}\n\t}\n\n\t/**\n  * Intializes the display for the first song in the playlist meta data.\n  *\n  * @access private\n  */\n\tfunction initializeFirstSongInPlaylistMetaData() {\n\t\t/*\n  \tIterates over all of the playlists setting the meta data for the\n  \tfirst song.\n  */\n\t\tfor (var key in _config2.default.playlists) {\n\t\t\t_visual2.default.setFirstSongInPlaylist(_config2.default.songs[_config2.default.playlists[key][0]], key);\n\t\t}\n\t}\n\n\t/**\n  * Intializes the default live settings for all of the songs.\n  *\n  * @access priavet\n  */\n\tfunction initializeDefaultLiveSettings() {\n\t\tfor (var i = 0; i < _config2.default.songs.length; i++) {\n\t\t\tif (_config2.default.songs[i].live == undefined) {\n\t\t\t\t_config2.default.songs[i].live = false;\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n \tReturns the publicly accessible methods\n */\n\treturn {\n\t\tinitialize: initialize,\n\t\tsetConfig: setConfig,\n\t\trebindDisplay: rebindDisplay\n\t};\n}();\n\n/**\n * AmplitudeJS Visual Sync\n * @module visual/AmplitudeVisualSync\n*/\n\n\n/**\n * AmplitudeJS Events\n * @module events/AmplitudeEvents\n */\n\n\n/**\n * AmplitudeJS Core Module\n * @module core/AmplitudeCore\n */\nexports.default = AmplitudeInitializer;\nmodule.exports = exports['default'];\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _config = __webpack_require__(0);\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _helpers = __webpack_require__(5);\n\nvar _helpers2 = _interopRequireDefault(_helpers);\n\nvar _visual = __webpack_require__(2);\n\nvar _visual2 = _interopRequireDefault(_visual);\n\nvar _core = __webpack_require__(3);\n\nvar _core2 = _interopRequireDefault(_core);\n\nvar _helpers3 = __webpack_require__(1);\n\nvar _helpers4 = _interopRequireDefault(_helpers3);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * These functions handle the events that we bound to each element and\n * prepare for a function to be called. These kind of act like filters/middleware.\n *\n * @module events/AmplitudeHandlers\n */\n\n\n/**\n * Imports the core module of Amplitude which handles the basic functions\n * @module core/AmplitudeCore\n */\n\n\n/**\n * Imports the helpers for the event handlers.\n * @module events/AmplitudeEventsHelpers\n */\nexports.default = {\n\t/**\n  * When the time updates on the active song, we sync the current time displays\n  *\n  * HANDLER FOR: timeupdate\n  *\n  * @access public\n  */\n\tupdateTime: function updateTime() {\n\t\t/*\n  \tHelp from: http://jsbin.com/badimipi/1/edit?html,js,output\n  */\n\t\tif (_config2.default.active_song.buffered.length - 1 >= 0) {\n\t\t\tvar bufferedEnd = _config2.default.active_song.buffered.end(_config2.default.active_song.buffered.length - 1);\n\t\t\tvar duration = _config2.default.active_song.duration;\n\n\t\t\t_config2.default.buffered = bufferedEnd / duration * 100;\n\t\t}\n\n\t\t/*\n  \tSync the buffered progress bars.\n  */\n\t\t_visual2.default.syncBufferedProgressBars();\n\n\t\t/*\n  \tIf the current song is not live, then\n  \twe can update the time information. Otherwise the\n  \tcurrent time updates wouldn't mean much since the time\n  \tis infinite.\n  */\n\t\tif (!_config2.default.active_metadata.live) {\n\t\t\t/*\n   \tCompute the current time\n   */\n\t\t\tvar currentTime = _helpers2.default.computeCurrentTimes();\n\n\t\t\t/*\n   \tCompute the song completion percentage\n   */\n\t\t\tvar songCompletionPercentage = _helpers2.default.computeSongCompletionPercentage();\n\n\t\t\t/*\n   \tComputes the song duration\n   */\n\t\t\tvar songDuration = _helpers2.default.computeSongDuration();\n\n\t\t\t/*\n   \tSync the current time elements with the current\n   \tlocation of the song and the song duration elements with\n   \tthe duration of the song.\n   */\n\t\t\t_visual2.default.syncCurrentTime(currentTime, songCompletionPercentage);\n\t\t\t_visual2.default.syncSongDuration(currentTime, songDuration);\n\n\t\t\t/*\n   \tRuns the callback defined for the time update.\n   */\n\t\t\t_helpers4.default.runCallback('time_update');\n\t\t}\n\t},\n\n\t/**\n  * When the keydown event is fired, we determine which function should be run\n  * based on what was passed in.\n  *\n  * HANDLER FOR: keydown\n  *\n  * @access public\n  */\n\tkeydown: function keydown(event) {\n\t\t_helpers2.default.runKeyEvent(event.which);\n\t},\n\n\t/**\n  * When the song has ended, handles what to do next\n  *\n  * HANDLER FOR: ended\n  *\n  * @access public\n  */\n\tsongEnded: function songEnded() {\n\t\tif (_config2.default.continue_next) {\n\t\t\t/*\n   \tIf the active playlist is not set, we set the\n   \tnext song that's in the songs array.\n   */\n\t\t\tif (_config2.default.active_playlist == '' || _config2.default.active_playlist == null) {\n\t\t\t\t_helpers2.default.setNext(true);\n\t\t\t} else {\n\t\t\t\t/*\n    \tSet the next song in the playlist\n    */\n\t\t\t\t_helpers2.default.setNextPlaylist(_config2.default.active_playlist, true);\n\t\t\t}\n\t\t} else {\n\t\t\tif (!_config2.default.is_touch_moving) {\n\t\t\t\t/*\n    \tSets all of the play/pause buttons to pause\n    */\n\t\t\t\t_visual2.default.setPlayPauseButtonsToPause();\n\n\t\t\t\t/*\n    \tStops the active song.\n    */\n\t\t\t\t_core2.default.stop();\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n  * As the song is buffered, we can display the buffered percentage in\n  * a progress bar.\n  *\n  * HANDLER FOR: ended\n  *\n  * @access public\n  */\n\tprogress: function progress() {\n\t\t/*\n  \tHelp from: http://jsbin.com/badimipi/1/edit?html,js,output\n  */\n\t\tif (_config2.default.active_song.buffered.length - 1 >= 0) {\n\t\t\tvar bufferedEnd = _config2.default.active_song.buffered.end(_config2.default.active_song.buffered.length - 1);\n\t\t\tvar duration = _config2.default.active_song.duration;\n\n\t\t\t_config2.default.buffered = bufferedEnd / duration * 100;\n\t\t}\n\n\t\t/*\n  \tSync the buffered progress bars.\n  */\n\t\t_visual2.default.syncBufferedProgressBars();\n\t},\n\n\t/**\n  * Handles an event on a play button in Amplitude.\n  *\n  * HANDLER FOR: 'amplitude-play'\n  *\n  * @access public\n  * @TODO Finish commenting and re-structure\n  */\n\tplay: function play() {\n\t\tif (!_config2.default.is_touch_moving) {\n\t\t\t/*\n   \tGets the attribute for song index so we can check if\n   \tthere is a need to change the song.  In some scenarios\n   \tthere might be multiple play classes on the page. In that\n   \tcase it is possible the user could click a different play\n   \tclass and change the song.\n   */\n\t\t\tvar playButtonSongIndex = this.getAttribute('amplitude-song-index');\n\t\t\tvar playButtonPlaylistIndex = this.getAttribute('amplitude-playlist');\n\n\t\t\tif (playButtonPlaylistIndex == null && playButtonSongIndex == null) {\n\t\t\t\t_helpers2.default.setSongPlayPause(_config2.default.active_playlist, _config2.default.active_index);\n\t\t\t}\n\n\t\t\t/*\n   \t*/\n\t\t\tif (playButtonPlaylistIndex != null && playButtonPlaylistIndex != '') {\n\t\t\t\tif (_helpers4.default.checkNewPlaylist(playButtonPlaylistIndex)) {\n\t\t\t\t\t_helpers4.default.setActivePlaylist(playButtonPlaylistIndex);\n\n\t\t\t\t\tif (playButtonSongIndex != null) {\n\t\t\t\t\t\t_helpers4.default.changeSong(playButtonSongIndex);\n\t\t\t\t\t\t_helpers2.default.setPlaylistPlayPause(playButtonPlaylistIndex);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_helpers4.default.changeSong(_config2.default.playlists[playButtonPlaylistIndex][0]);\n\t\t\t\t\t\t_helpers2.default.setPlaylistPlayPause(playButtonPlaylistIndex);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (playButtonSongIndex != null) {\n\t\t\t\t\t\t_helpers4.default.changeSong(playButtonSongIndex);\n\t\t\t\t\t\t_helpers2.default.setPlaylistPlayPause(playButtonPlaylistIndex);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_helpers4.default.changeSong(_config2.default.active_index);\n\t\t\t\t\t\t_helpers2.default.setPlaylistPlayPause(playButtonPlaylistIndex);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/*\n   \t*/\n\t\t\tif ((playButtonPlaylistIndex == null || playButtonPlaylistIndex == '') && playButtonSongIndex != null && playButtonSongIndex != '') {\n\n\t\t\t\tif (_helpers4.default.checkNewSong(playButtonSongIndex) || _config2.default.active_playlist != playButtonPlaylistIndex) {\n\t\t\t\t\t_helpers4.default.changeSong(playButtonSongIndex);\n\t\t\t\t}\n\n\t\t\t\t_helpers2.default.setSongPlayPause(playButtonPlaylistIndex, playButtonSongIndex);\n\t\t\t}\n\n\t\t\t/*\n   \tStart the visualizations for the song.\n   \tAMPFX-TODO: MAKE HANDLED BY AMPLITUDE FX\n   */\n\t\t\t//privateStartVisualization();\n\t\t}\n\t},\n\n\t/**\n  * Handles an event on a pause button\n  *\n  * HANDLER FOR: 'amplitude-pause'\n  *\n  * @access public\n  * @TODO Finish commenting and optimize\n  */\n\tpause: function pause() {\n\t\tif (!_config2.default.is_touch_moving) {\n\t\t\tvar pauseButtonSongIndex = this.getAttribute('amplitude-song-index');\n\t\t\tvar pauseButtonPlaylistIndex = this.getAttribute('amplitude-playlist');\n\n\t\t\tif (pauseButtonSongIndex == null && pauseButtonPlaylistIndex == null) {\n\t\t\t\t_helpers2.default.setSongPlayPause(_config2.default.active_playlist, _config2.default.active_index);\n\t\t\t\t_core2.default.pause();\n\t\t\t}\n\n\t\t\tif (pauseButtonPlaylistIndex != null || pauseButtonPlaylistIndex != '' && _config2.default.active_playlist == pauseButtonPlaylistIndex) {\n\t\t\t\t/*\n    \tThe song was playing so we sync visually for the song\n    \tto be paused and we pause the song.\n    */\n\t\t\t\t_visual2.default.syncMainPlayPause('paused');\n\n\t\t\t\t/*\n    \tIf there is an active playlist, then\n    \twe need to sync that playlist's play pause\n    \tbutton to the state of paused.\n    */\n\t\t\t\t_visual2.default.syncPlaylistPlayPause(_config2.default.active_playlist, 'paused');\n\n\t\t\t\t/*\n    \tSync the song play pause buttons\n    */\n\t\t\t\t_visual2.default.syncSongPlayPause(_config2.default.active_playlist, _config2.default.active_index, 'paused');\n\n\t\t\t\t_core2.default.pause();\n\t\t\t}\n\n\t\t\tif ((pauseButtonPlaylistIndex == null || pauseButtonPlaylistIndex == '') && pauseButtonSongIndex == _config2.default.active_index) {\n\t\t\t\t/*\n    \tThe song was playing so we sync visually for the song\n    \tto be paused and we pause the song.\n    */\n\t\t\t\t_visual2.default.syncMainPlayPause('paused');\n\n\t\t\t\t/*\n    \tIf there is an active playlist, then\n    \twe need to sync that playlist's play pause\n    \tbutton to the state of paused.\n    */\n\t\t\t\t_visual2.default.syncPlaylistPlayPause(_config2.default.active_playlist, 'paused');\n\n\t\t\t\t/*\n    \tSync the song play pause buttons\n    */\n\t\t\t\t_visual2.default.syncSongPlayPause(_config2.default.active_playlist, _config2.default.active_index, 'paused');\n\n\t\t\t\t_core2.default.pause();\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n  * Handles an event on a play/pause button\n  *\n  * HANDLER FOR: 'amplitude-play-pause'\n  *\n  * @access public\n  */\n\tplayPause: function playPause() {\n\t\tif (!_config2.default.is_touch_moving) {\n\t\t\t/*\n   \tChecks to see if the element has an attribute for amplitude-main-play-pause\n   \tand syncs accordingly\n   */\n\t\t\tif (this.getAttribute('amplitude-main-play-pause') != null) {\n\t\t\t\t_helpers2.default.setMainPlayPause();\n\n\t\t\t\t/*\n    \tSyncs playlist main play pause buttons\n    */\n\t\t\t} else if (this.getAttribute('amplitude-playlist-main-play-pause') != null) {\n\t\t\t\tvar playlist = this.getAttribute('amplitude-playlist');\n\n\t\t\t\t_helpers2.default.setPlaylistPlayPause(playlist);\n\n\t\t\t\t/*\n    \tSyncs amplitude individual song buttons\n    */\n\t\t\t} else {\n\t\t\t\tvar _playlist = this.getAttribute('amplitude-playlist');\n\t\t\t\tvar songIndex = this.getAttribute('amplitude-song-index');\n\n\t\t\t\t_helpers2.default.setSongPlayPause(_playlist, songIndex);\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n  * Handles an event on a stop element.\n  *\n  * HANDLER FOR: 'amplitude-stop'\n  *\n  * @access public\n  * @TODO: AMP-FX Before stopping, make sure that AmplitudeFX visualization is stopped as well.\n  */\n\tstop: function stop() {\n\t\tif (!_config2.default.is_touch_moving) {\n\t\t\t/*\n   \tSets all of the play/pause buttons to pause\n   */\n\t\t\t_visual2.default.setPlayPauseButtonsToPause();\n\n\t\t\t/*\n   \tStops the active song.\n   */\n\t\t\t_core2.default.stop();\n\t\t}\n\t},\n\n\t/**\n  * Handles an event for a mute element\n  *\n  * HANDLER FOR: 'amplitude-mute'\n  *\n  * @access public\n  */\n\tmute: function mute() {\n\t\tif (!_config2.default.is_touch_moving) {\n\t\t\t/*\n   \tIf the current volume in the config is 0, we set the volume to the\n   \tpre_mute level.  This means that the audio is already muted and\n   \tneeds to be restored to the pre_mute level.\n   \t\tOtherwise, we set pre_mute volume to the current volume\n   \tand set the config volume to 0, muting the audio.\n   */\n\t\t\tif (_config2.default.volume == 0) {\n\t\t\t\t_config2.default.active_song.muted = false;\n\t\t\t\t_config2.default.volume = _config2.default.pre_mute_volume;\n\t\t\t\t_visual2.default.syncMute(false);\n\t\t\t} else {\n\t\t\t\t_config2.default.active_song.muted = true;\n\t\t\t\t_config2.default.pre_mute_volume = _config2.default.volume;\n\t\t\t\t_config2.default.volume = 0;\n\t\t\t\t_visual2.default.syncMute(true);\n\t\t\t}\n\n\t\t\t/*\n   \tCalls the core function to set the volume to the computed value\n   \tbased on the user's intent.\n   */\n\t\t\t_core2.default.setVolume(_config2.default.volume);\n\n\t\t\t/*\n   \tSyncs the volume sliders so the visuals align up with the functionality.\n   \tIf the volume is at 0, then the sliders should represent that so the user\n   \thas the right starting point.\n   */\n\t\t\t_visual2.default.syncVolumeSliders(_config2.default.volume);\n\t\t}\n\t},\n\n\t/**\n  * Handles a click on a volume up element.\n  *\n  * HANDLER FOR: 'amplitude-volume-up'\n  *\n  * @access public\n  */\n\tvolumeUp: function volumeUp() {\n\t\tif (!_config2.default.is_touch_moving) {\n\t\t\t/*\n   \tThe volume range is from 0 to 1 for an audio element. We make this\n   \ta base of 100 for ease of working with.\n   \t\tIf the new value is less than 100, we use the new calculated\n   \tvalue which gets converted to the proper unit for the audio element.\n   \t\tIf the new value is greater than 100, we set the volume to 1 which\n   \tis the max for the audio element.\n   */\n\t\t\tif (_config2.default.volume + _config2.default.volume_increment <= 100) {\n\t\t\t\t_config2.default.volume = _config2.default.volume + _config2.default.volume_increment;\n\t\t\t} else {\n\t\t\t\t_config2.default.volume = 100;\n\t\t\t}\n\n\t\t\t/*\n   \tCalls the core function to set the volume to the computed value\n   \tbased on the user's intent.\n   */\n\t\t\t_core2.default.setVolume(_config2.default.volume);\n\n\t\t\t/*\n   \tSyncs the volume sliders so the visuals align up with the functionality.\n   \tIf the volume is at 0, then the sliders should represent that so the user\n   \thas the right starting point.\n   */\n\t\t\t_visual2.default.syncVolumeSliders(_config2.default.volume);\n\t\t}\n\t},\n\n\t/**\n  * Handles a click on a volume down element.\n  *\n  * HANDLER FOR: 'amplitude-volume-down'\n  *\n  * @access public\n  */\n\tvolumeDown: function volumeDown() {\n\t\tif (!_config2.default.is_touch_moving) {\n\t\t\t/*\n   \tThe volume range is from 0 to 1 for an audio element. We make this\n   \ta base of 100 for ease of working with.\n   \t\tIf the new value is less than 100, we use the new calculated\n   \tvalue which gets converted to the proper unit for the audio element.\n   \t\tIf the new value is greater than 100, we set the volume to 1 which\n   \tis the max for the audio element.\n   */\n\t\t\tif (_config2.default.volume - _config2.default.volume_increment > 0) {\n\t\t\t\t_config2.default.volume = _config2.default.volume - _config2.default.volume_increment;\n\t\t\t} else {\n\t\t\t\t_config2.default.volume = 0;\n\t\t\t}\n\n\t\t\t/*\n   \tCalls the core function to set the volume to the computed value\n   \tbased on the user's intent.\n   */\n\t\t\t_core2.default.setVolume(_config2.default.volume);\n\n\t\t\t/*\n   \tSyncs the volume sliders so the visuals align up with the functionality.\n   \tIf the volume is at 0, then the sliders should represent that so the user\n   \thas the right starting point.\n   */\n\t\t\t_visual2.default.syncVolumeSliders(_config2.default.volume);\n\t\t}\n\t},\n\n\t/**\n  * Handles a change on the song slider\n  *\n  * HANDLER FOR: 'amplitude-song-slider'\n  *\n  * @access public\n  */\n\tsongSlider: function songSlider() {\n\t\t/*\n  \tGets the percentage of the song we will be setting the location for.\n  */\n\t\tvar locationPercentage = this.value;\n\n\t\t/*\n  \tChecks to see if the element has an attribute for amplitude-main-play-pause\n  \tand syncs accordingly\n  */\n\t\tif (this.getAttribute('amplitude-main-song-slider') != null) {\n\t\t\t/*\n   \tIf the active song is not live, set the current time\n   */\n\t\t\tif (!_config2.default.active_metadata.live) {\n\t\t\t\tvar currentTime = _config2.default.active_song.duration * (locationPercentage / 100);\n\n\t\t\t\tif (isFinite(currentTime)) {\n\t\t\t\t\t_config2.default.active_song.currentTime = currentTime;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_visual2.default.syncMainSliderLocation(locationPercentage);\n\n\t\t\tif (_config2.default.active_playlist != '' && _config2.default.active_playlist != null) {\n\t\t\t\t_visual2.default.syncPlaylistSliderLocation(_config2.default.active_playlist, locationPercentage);\n\t\t\t}\n\t\t}\n\n\t\t/*\n  \tSyncs playlist main play pause buttons\n  */\n\t\tif (this.getAttribute('amplitude-playlist-song-slider') != null) {\n\t\t\tvar playlist = this.getAttribute('amplitude-playlist');\n\n\t\t\t/*\n   \tWe don't want to song slide a playlist that's not the\n   \tactive placylist.\n   */\n\t\t\tif (_config2.default.active_playlist == playlist) {\n\t\t\t\t/*\n    \tIf the active song is not live, set the current time\n    */\n\t\t\t\tif (!_config2.default.active_metadata.live) {\n\t\t\t\t\t_config2.default.active_song.currentTime = _config2.default.active_song.duration * (locationPercentage / 100);\n\t\t\t\t}\n\t\t\t\t_visual2.default.syncMainSliderLocation(locationPercentage);\n\t\t\t\t_visual2.default.syncPlaylistSliderLocation(playlist, locationPercentage);\n\t\t\t}\n\t\t}\n\n\t\t/*\n  \tSyncs amplitude individual song buttons\n  */\n\t\tif (this.getAttribute('amplitude-playlist-song-slider') == null && this.getAttribute('amplitude-main-song-slider') == null) {\n\n\t\t\tvar _playlist2 = this.getAttribute('amplitude-playlist');\n\t\t\tvar songIndex = this.getAttribute('amplitude-song-index');\n\n\t\t\tif (_config2.default.active_index == songIndex) {\n\t\t\t\t/*\n    \tIf the active song is not live, set the current time\n    */\n\t\t\t\tif (!_config2.default.active_metadata.live) {\n\t\t\t\t\t_config2.default.active_song.currentTime = _config2.default.active_song.duration * (locationPercentage / 100);\n\t\t\t\t}\n\n\t\t\t\t_visual2.default.syncMainSliderLocation();\n\n\t\t\t\tif (_config2.default.active_playlist != '' && _config2.default.active_playlist != null && _config2.default.active_playlist == _playlist2) {\n\t\t\t\t\t_visual2.default.syncPlaylistSliderLocation(_playlist2, location);\n\t\t\t\t}\n\n\t\t\t\t_visual2.default.syncSongSliderLocation(_playlist2, songIndex, location);\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n  * Handles a change on the volume slider\n  *\n  * HANDLER FOR: 'amplitude-volume-slider'\n  *\n  * @access public\n  */\n\tvolumeSlider: function volumeSlider() {\n\t\t/*\n  \tCalls the core function to set the volume to the computed value\n  \tbased on the user's intent.\n  */\n\t\t_core2.default.setVolume(this.value);\n\n\t\t/*\n  \tSync the volume slider locations\n  */\n\t\t_visual2.default.syncVolumeSliderLocation(this.value);\n\t},\n\n\t/**\n  * Handles an event on the next button\n  *\n  * HANDLER FOR: 'amplitude-next'\n  *\n  * @access public\n  */\n\tnext: function next() {\n\t\tif (!_config2.default.is_touch_moving) {\n\t\t\t/*\n   \tChecks to see if the button is a playlist next button or\n   \tif it's a global playlist button.\n   */\n\t\t\tif (this.getAttribute('amplitude-playlist') == '' || this.getAttribute('amplitude-playlist') == null) {\n\n\t\t\t\t/*\n    \tCheck to see if the current state of the player\n    \tis in playlist mode or not playlist mode.\n    */\n\t\t\t\tif (_config2.default.active_playlist == '' || _config2.default.active_playlist == null) {\n\t\t\t\t\t_helpers2.default.setNext();\n\t\t\t\t} else {\n\t\t\t\t\t_helpers2.default.setNextPlaylist(_config2.default.active_playlist);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t/*\n    \tGets the playlist of the next button.\n    */\n\t\t\t\tvar playlist = this.getAttribute('amplitude-playlist');\n\n\t\t\t\t/*\n    \tSets the next playlist\n    */\n\t\t\t\t_helpers2.default.setNextPlaylist(playlist);\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n  * Handles an event on the previous button\n  *\n  * HANDLER FOR: 'amplitude-prev'\n  *\n  * @access public\n  */\n\tprev: function prev() {\n\t\tif (!_config2.default.is_touch_moving) {\n\t\t\t/*\n   \tChecks to see if the previous button is a playlist previous\n   \tbutton or if it's a global playlist button.\n   */\n\t\t\tif (this.getAttribute('amplitude-playlist') == '' || this.getAttribute('amplitude-playlist') == null) {\n\n\t\t\t\t/*\n    \tCheck to see if the current playlist has been set\n    \tor null and set the previous song.\n    */\n\t\t\t\tif (_config2.default.active_playlist == '' || _config2.default.active_playlist == null) {\n\t\t\t\t\t_helpers2.default.setPrev();\n\t\t\t\t} else {\n\t\t\t\t\t_helpers2.default.setPrevPlaylist(_config2.default.active_playlist);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t/*\n    \tGets the playlist of the previous button.\n    */\n\t\t\t\tvar playlist = this.getAttribute('amplitude-playlist');\n\n\t\t\t\t/*\n    \tSets the previous playlist\n    */\n\t\t\t\t_helpers2.default.setPrevPlaylist(playlist);\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n  * Handles an event on the shuffle button\n  *\n  * HANDLER FOR: 'amplitude-shuffle'\n  *\n  * @access public\n  */\n\tshuffle: function shuffle() {\n\t\tif (!_config2.default.is_touch_moving) {\n\t\t\t/*\n   \tCheck to see if the shuffle button belongs to a playlist\n   */\n\t\t\tif (this.getAttribute('amplitude-playlist') == '' || this.getAttribute('amplitude-playlist') == null) {\n\t\t\t\t/*\n    \tSets the shuffle button to null\n    */\n\t\t\t\t_helpers2.default.setShuffle(null);\n\t\t\t} else {\n\t\t\t\t/*\n    \tGets the playlist attribute of the shuffle button and\n    \tset shuffle to on for the playlist.\n    */\n\t\t\t\tvar playlist = this.getAttribute('amplitude-playlist');\n\t\t\t\t_helpers2.default.setShuffle(playlist);\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n  * Handles an event on the repeat button\n  *\n  * HANDLER FOR: 'amplitude-repeat'\n  *\n  * @access private\n  */\n\trepeat: function repeat() {\n\t\tif (!_config2.default.is_touch_moving) {\n\t\t\t/*\n   \tCheck to see if the repeat button belongs to a playlist\n   */\n\t\t\tif (this.getAttribute('amplitude-playlist') == '' || this.getAttribute('amplitude-playlist') == null) {\n\t\t\t\t/*\n    \tSets repeat to the opposite of what it was set to\n    */\n\t\t\t\t_helpers2.default.setRepeat(!_config2.default.repeat, null);\n\t\t\t} else {\n\t\t\t\t/*\n    \tGets the playlist attribute of the repeat button and\n    \tset repeat to on for the playlist.\n    */\n\t\t\t\tvar playlist = this.getAttribute('amplitude-playlist');\n\t\t\t\t_helpers2.default.setRepeat(!_config2.default.repeat_statuses[playlist], playlist);\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n  * Handles an event on the repeat song button\n  *\n  * HANDLER FOR: 'amplitude-repeat-song'\n  *\n  * @access private\n  */\n\trepeatSong: function repeatSong() {\n\t\tif (!_config2.default.is_touch_moving) {\n\t\t\t/*\n   \tSets repeat song to the opposite of what it was set to\n   */\n\t\t\t_helpers2.default.setRepeatSong(!_config2.default.repeat_song);\n\n\t\t\t/*\n   \tVisually sync repeat song\n   */\n\t\t\t_visual2.default.syncRepeatSong();\n\t\t}\n\t},\n\n\t/**\n  * Handles an event on the playback speed button\n  *\n  * HANDLER FOR: 'amplitude-playback-speed'\n  *\n  * @access private\n  */\n\tplaybackSpeed: function playbackSpeed() {\n\t\tif (!_config2.default.is_touch_moving) {\n\t\t\t/*\n   \tWe increment the speed by .5 everytime we click\n   \tthe button to change the playback speed. Once we are\n   \tactively playing back at 2, we start back at 1 which\n   \tis normal speed.\n   */\n\t\t\tswitch (_config2.default.playback_speed) {\n\t\t\t\tcase 1:\n\t\t\t\t\t_helpers2.default.setPlaybackSpeed(1.5);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 1.5:\n\t\t\t\t\t_helpers2.default.setPlaybackSpeed(2);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 2:\n\t\t\t\t\t_helpers2.default.setPlaybackSpeed(1);\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t/*\n   \tVisually sync the playback speed.\n   */\n\t\t\t_visual2.default.syncPlaybackSpeed();\n\t\t}\n\t},\n\n\t/**\n  * Handles an event on a skip to button.\n  *\n  * HANDLER FOR: 'amplitude-skip-to'\n  *\n  * @access private\n  */\n\tskipTo: function skipTo() {\n\t\tif (!_config2.default.is_touch_moving) {\n\t\t\t/*\n   \tDetermines if the skip to button is in the scope of a playlist.\n   */\n\t\t\tif (this.hasAttribute('amplitude-playlist')) {\n\t\t\t\tvar playlist = this.getAttribute('amplitude-playlist');\n\n\t\t\t\tif (_helpers4.default.checkNewPlaylist(playlist)) {\n\t\t\t\t\t_helpers4.default.setActivePlaylist(playlist);\n\t\t\t\t}\n\t\t\t\t/*\n    \tGets the location, playlist and song index that is being skipped\n    \tto.\n    */\n\t\t\t\tvar seconds = parseInt(this.getAttribute('amplitude-location'));\n\t\t\t\tvar songIndex = parseInt(this.getAttribute('amplitude-song-index'));\n\n\t\t\t\t/*\n    \tChanges the song to where it's being skipped and then\n    \tplay the song.\n    */\n\t\t\t\t_helpers4.default.changeSong(songIndex);\n\t\t\t\t_core2.default.play();\n\n\t\t\t\t_visual2.default.syncMainPlayPause('playing');\n\t\t\t\t_visual2.default.syncPlaylistPlayPause(playlist, 'playing');\n\t\t\t\t_visual2.default.syncSongPlayPause(playlist, songIndex, 'playing');\n\n\t\t\t\t/*\n    \tSkip to the location in the song.\n    */\n\t\t\t\t_core2.default.skipToLocation(seconds);\n\t\t\t} else {\n\t\t\t\t/*\n    \tGets the location and song index that is being skipped\n    \tto.\n    */\n\t\t\t\tvar _seconds = parseInt(this.getAttribute('amplitude-location'));\n\t\t\t\tvar _songIndex = parseInt(this.getAttribute('amplitude-song-index'));\n\n\t\t\t\t/*\n    \tChanges the song to where it's being skipped and then\n    \tplay the song.\n    */\n\t\t\t\t_helpers4.default.changeSong(_songIndex);\n\t\t\t\t_core2.default.play();\n\n\t\t\t\t_visual2.default.syncMainPlayPause('playing');\n\t\t\t\t_visual2.default.syncSongPlayPause(null, _songIndex, 'playing');\n\n\t\t\t\t/*\n    \tSkip to the location in the song.\n    */\n\t\t\t\t_core2.default.skipToLocation(_seconds);\n\t\t\t}\n\t\t}\n\t}\n};\n\n/**\n * Imports the core helpers for Amplitude which help run some of AmplitudeJS functions\n * @module core/AmplitudeHelpers\n */\n\n\n/**\n * Imports the visual sync module to keep the display in sync with AmplitudeJS\n * @module visual/AmplitudeVisualSync\n */\n/**\n * Imports the config module\n * @module config\n */\n\nmodule.exports = exports['default'];\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _init = __webpack_require__(6);\n\nvar _init2 = _interopRequireDefault(_init);\n\nvar _core = __webpack_require__(3);\n\nvar _core2 = _interopRequireDefault(_core);\n\nvar _helpers = __webpack_require__(1);\n\nvar _helpers2 = _interopRequireDefault(_helpers);\n\nvar _events = __webpack_require__(4);\n\nvar _events2 = _interopRequireDefault(_events);\n\nvar _helpers3 = __webpack_require__(5);\n\nvar _helpers4 = _interopRequireDefault(_helpers3);\n\nvar _visual = __webpack_require__(2);\n\nvar _visual2 = _interopRequireDefault(_visual);\n\nvar _config = __webpack_require__(0);\n\nvar _config2 = _interopRequireDefault(_config);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Amplitude should just be an interface to the public functions.\n * Everything else should be handled by other objects\n *\n * @module Amplitude\n */\n\n/**\n * AmplitudeJS Visual Sync Module\n *\n * @module visual/AmplitudeVisualSync\n */\n\n\n/**\n * AmplitudeJS Events Module\n *\n * @module events/AmplitudeEvents\n */\n\n\n/**\n * AmplitudeJS Core Module\n *\n * @module core/AmplitudeCore\n */\nvar Amplitude = function () {\n\t/**\n  * The main init function.  The user will call this through\n  * Amplitude.init({}) and pass in their settings.\n  *\n  * Public Accessor: Amplitude.init( user_config_json );\n  *\n  * @access public\n  * @param {object} userConfig \t- A JSON object of user defined values that helps configure and initialize AmplitudeJS.\n  */\n\tfunction init(userConfig) {\n\t\t_init2.default.initialize(userConfig);\n\t}\n\n\t/**\n  * Binds new elements that were added to the page.\n  *\n  * Public Accessor: Amplitude.bindNewElements()\n  *\n  * @access public\n  */\n\tfunction bindNewElements() {\n\t\t_init2.default.rebindDisplay();\n\t}\n\n\t/**\n  * Returns the active playlist.\n  *\n  * Public Accessor: Amplitude.getActivePlaylist()\n  *\n  * @access public\n  */\n\tfunction getActivePlaylist() {\n\t\treturn _config2.default.active_playlist;\n\t}\n\n\t/**\n  * Returns the current playback speed.\n  *\n  * Public Accessor: Amplitude.getPlaybackSpeed()\n  *\n  * @access public\n  */\n\tfunction getPlaybackSpeed() {\n\t\treturn _config2.default.playback_speed;\n\t}\n\n\t/**\n  * Gets the repeat state of the player.\n  *\n  * Public Accessor: Amplitude.getRepeat()\n  *\n  * @access public\n  */\n\tfunction getRepeat() {\n\t\treturn _config2.default.repeat;\n\t}\n\n\t/**\n  * Returns the shuffle state of the player.\n  *\n  * Public Accessor: Amplitude.getShuffle()\n  *\n  * @access public\n  */\n\tfunction getShuffle() {\n\t\treturn _config2.default.shuffle_on;\n\t}\n\n\t/**\n  * Returns the shuffle state of the playlist.\n  *\n  * Public Accessor: Amplitude.getShufflePlaylist( playlist )\n  *\n  * @access public\n  * @param {string} playlist \t- The key representing the playlist ID to see if it's shuffled or not.\n  */\n\tfunction getShufflePlaylist(playlist) {\n\t\treturn _config2.default.shuffled_statuses[playlist];\n\t}\n\n\t/**\n  * Sets the shuffle state for the player.\n  *\n  * Public Accessor: Amplitude.setShuffle()\n  *\n  * @access public\n  */\n\tfunction setShuffle() {\n\t\t_helpers4.default.setShuffle(null);\n\t}\n\n\t/**\n  * Sets the shuffle state for the playlist\n  *\n  * Public Accessor: Amplitude.setShufflePlaylist( playlistKey )\n  *\n  * @access public\n * @param {string} playlistKey \t- The key representing the playlist ID to to shuffle the playlist.\n  */\n\tfunction setShufflePlaylist(playlistKey) {\n\t\t_helpers4.default.setShuffle(playlistKey);\n\t}\n\n\t/**\n  * Sets the repeat state for the player.\n *\n * Public Accessor: Amplitude.setRepeat()\n *\n * @access public\n  */\n\tfunction setRepeat() {\n\t\tif (!_config2.default.is_touch_moving) {\n\t\t\t/*\n   \tSets repeat to the opposite of what it was set to\n   */\n\t\t\t_helpers4.default.setRepeat(!_config2.default.repeat);\n\n\t\t\t/*\n   \tVisually sync repeat\n   */\n\t\t\t_visual2.default.syncRepeat();\n\t\t}\n\t}\n\n\t/**\n  * Sets the repeat state for the song.\n  *\n  * Public Accessor: Amplitude.setRepeatSong()\n  *\n  * @access public\n  */\n\tfunction setRepeatSong() {\n\t\tif (!_config2.default.is_touch_moving) {\n\t\t\t/*\n    Sets repeat to the opposite of what it was set to\n   */\n\t\t\t_helpers4.default.setRepeatSong(!_config2.default.repeat_song);\n\n\t\t\t/*\n    Visually sync repeat song\n   */\n\t\t\t_visual2.default.syncRepeatSong();\n\t\t}\n\t}\n\n\t/**\n  * Gets the default album art for the player\n  *\n  * Public Accessor: Amplitude.getDefaultAlbumArt()\n  *\n  * @access public\n  */\n\tfunction getDefaultAlbumArt() {\n\t\treturn _config2.default.default_album_art;\n\t}\n\n\t/**\n  * Sets the default album art for the player\n  *\n  * Public Accessor: Amplitude.setDefaultAlbumArt( url )\n  *\n  * @access public\n  * @param {string} url \t- A string representing the URL of the new default album art.\n  */\n\tfunction setDefaultAlbumArt(url) {\n\t\t_config2.default.default_album_art = url;\n\t}\n\n\t/**\n  * Allows the user to get the percentage of the song played.\n  *\n  * Public Accessor: Amplitude.getSongPlayedPercentage();\n  *\n  * @access public\n  */\n\tfunction getSongPlayedPercentage() {\n\t\t/*\n  \tReturns the percentage of the song played.\n  */\n\t\treturn _config2.default.active_song.currentTime / _config2.default.active_song.duration * 100;\n\t}\n\n\t/**\n  * Allows the user to set how far into the song they want to be. This is\n  * helpful for implementing custom range sliders. Only works on the current song.\n  *\n  * Public Accessor: Amplitude.setSongPlayedPercentage( float );\n  *\n  * @access public\n  * @param {number} percentage \t- The percentage of the song played\n  */\n\tfunction setSongPlayedPercentage(percentage) {\n\t\t/*\n  \tEnsures the percentage is a number and is between 0 and 100.\n  */\n\t\tif (typeof percentage == 'number' && percentage > 0 && percentage < 100) {\n\t\t\t/*\n   \tSets the current time of the song to the percentage.\n   */\n\t\t\t_config2.default.active_song.currentTime = _config2.default.active_song.duration * (percentage / 100);\n\t\t}\n\t}\n\n\t/**\n  * Allows the user to turn on debugging.\n  *\n  * Public Accessor: Amplitude.setDebug( bool );\n  *\n  * @access public\n  * @param {boolean} state \t\t- Turns debugging on and off.\n  */\n\tfunction setDebug(state) {\n\t\t/*\n  \tSets the global config debug on or off.\n  */\n\t\t_config2.default.debug = state;\n\t}\n\n\t/**\n  * Returns the active song meta data for the user to do what is\n  * needed.\n  *\n  * Public Accessor: Amplitude.getActiveSongMetadata();\n  *\n  * @access public\n  * @returns {object} JSON Object with the active song information\n  */\n\tfunction getActiveSongMetadata() {\n\t\treturn _config2.default.active_metadata;\n\t}\n\n\t/**\n  * Returns a song in the songs array at that index\n  *\n  * Public Accessor: Amplitude.getSongByIndex( song_index )\n  *\n  * @access public\n  * @param {number} index \t- The integer for the index of the song in the songs array.\n  * @returns {object} JSON representation for the song at a specific index.\n  */\n\tfunction getSongByIndex(index) {\n\t\treturn _config2.default.songs[index];\n\t}\n\n\t/**\n  * Returns a song at a playlist index\n  *\n  * Public Accessor: Amplitude.getSongAtPlaylistIndex( playlist, index\n  *\n  * @access public\n  * @param {number} index \t\t\t- The integer for the index of the song in the playlist.\n  * @param {string} playlist\t\t- The key of the playlist we are getting the song at the index for\n  * @returns {object} JSON representation for the song at a specific index.\n  */\n\tfunction getSongAtPlaylistIndex(playlist, index) {\n\t\tvar songIndex = _config2.default.playlists[playlist][index];\n\n\t\treturn _config2.default.songs[songIndex];\n\t}\n\n\t/**\n  * Adds a song to the end of the config array.  This will allow Amplitude\n  * to play the song in a playlist type setting.\n  *\n  * Public Accessor: Amplitude.addSong( song_json )\n  *\n  * @access public\n  * @param {object} song \t- JSON representation of a song.\n  * @returns {number} New index of the song.\n  */\n\tfunction addSong(song) {\n\t\t/*\n  \tEnsures we have a songs array to push to.\n  */\n\t\tif (_config2.default.songs == undefined) {\n\t\t\t_config2.default.songs = [];\n\t\t}\n\n\t\t_config2.default.songs.push(song);\n\t\treturn _config2.default.songs.length - 1;\n\t}\n\n\t/**\n  * Adds a song to a playlist. This will allow Amplitude to play the song in the\n  * playlist\n  *\n  * Public Accessor: Amplitude.addSongToPlaylist( song_json, playlist_key )\n  *\n  * @access public\n  * @param {object} song \t\t\t- JSON representation of a song.\n  * @param {string} playlist\t\t- Playlist we are adding the song to.\n  * @returns {mixed} New index of song in playlist or null if no playlist exists\n  */\n\tfunction addSongToPlaylist(song, playlist) {\n\t\t/*\n  \tEnsures we have a songs array to push to. This is step 1.\n  */\n\t\tif (_config2.default.songs == undefined) {\n\t\t\t_config2.default.songs = [];\n\t\t}\n\n\t\t_config2.default.songs.push(song);\n\n\t\tvar songIndex = _config2.default.songs.length - 1;\n\n\t\t/*\n  \tEnsures the playlist is valid to push the song on to.\n  */\n\t\tif (_config2.default.playlists[playlist] != undefined) {\n\t\t\t_config2.default.playlists[playlist].push(songIndex);\n\n\t\t\treturn _config2.default.playlists[playlist].length - 1;\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\t/**\n  * Removes a song from the song array\n  *\n  * Public Accessor: Amplitude.removeSong( index )\n  *\n  * @access public\n  * @param {integer} index \t\t\t- Index of the song being removed\n  * @returns {boolean} True if removed false if not.\n  */\n\tfunction removeSong(index) {\n\t\tif (_config2.default.songs[index] != undefined) {\n\t\t\t_config2.default.songs.splice(index, 1);\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t/**\n  * Removes a song from the playlist\n  *\n  * Public Accessor: Amplitude.removeSongFromPlaylist( index, playlist )\n  *\n  * @access public\n  * @param {integer} index \t\t\t- Index of the song being removed from the playlist.\n  * @param {string} playlist\t\t\t- Playlist we are removing the song from.\n  * @returns {boolean} True if removed false if not.\n  */\n\tfunction removeSongFromPlaylist(index, playlist) {\n\t\tif (_config2.default.playlists[playlist] != undefined) {\n\t\t\t_config2.default.playlists[playlist].splice(index, 1);\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t/**\n  * When you pass a song object it plays that song right awawy.  It sets\n  * the active song in the config to the song you pass in and synchronizes\n  * the visuals.\n  *\n  * Public Accessor: Amplitude.playNow( song )\n  *\n  * @access public\n  * @param {object} song \t- JSON representation of a song.\n  */\n\tfunction playNow(song) {\n\t\t_core2.default.playNow(song);\n\t}\n\n\t/**\n  * Plays a song at the index passed in from the songs array.\n  *\n  * Public Accessor: Amplitude.playSongAtIndex( index )\n  *\n  * @access public\n  * @param {number} index \t- The number representing the song in the songs array.\n  */\n\tfunction playSongAtIndex(index) {\n\t\t_core2.default.playSongAtIndex(index);\n\t}\n\n\t/**\n  * Plays a song at the index passed in for the playlist provided. The index passed\n  * in should be the index of the song in the playlist and not the songs array.\n  *\n  * @access public\n  * @param {number} index \t\t- The number representing the song in the playlist array.\n  * @param {string} playlist - The key string representing the playlist we are playing the song from.\n  *\n  */\n\tfunction playPlaylistSongAtIndex(index, playlist) {\n\t\t_core2.default.playPlaylistSongAtIndex(index, playlist);\n\t}\n\n\t/**\n  * @TODO: Implement Add Song To Playlist Functionality\n  */\n\tfunction addSongToPlaylist(song, playlist) {}\n\n\t/**\n  * Allows the user to play whatever the active song is directly\n  * through Javascript. Normally ALL of Amplitude functions that access\n  * the core features are called through event handlers.\n  *\n  * Public Accessor: Amplitude.play();\n  *\n  * @access public\n  */\n\tfunction play() {\n\t\t_core2.default.play();\n\t}\n\n\t/**\n  * Allows the user to pause whatever the active song is directly\n  * through Javascript. Normally ALL of Amplitude functions that access\n  * the core features are called through event handlers.\n  *\n  * Public Accessor: Amplitude.pause();\n  *\n  * @access public\n  */\n\tfunction pause() {\n\t\t_core2.default.pause();\n\t}\n\n\t/**\n  * Returns the audio object used to play the audio\n  *\n  * Public Accessor: Amplitude.getAudio();\n  *\n  * @access public\n  */\n\tfunction getAudio() {\n\t\treturn _config2.default.active_song;\n\t}\n\n\t/**\n  * Plays the next song either in the playlist or globally.\n  *\n  * Public Accessor: Amplitude.next( playlist );\n  *\n  * @access public\n  * @param {string} [playlist = null] \t- The playlist key\n  */\n\tfunction next() {\n\t\tvar playlist = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n\t\t/*\n  \tIf the playlist is empty or null, then we check the active\n  \tplaylist\n  */\n\t\tif (playlist == '' || playlist == null) {\n\t\t\t/*\n   \tIf the active playlist is null, then we set the next global\n   \tsong or we set the next in the playlist.\n   */\n\t\t\tif (_config2.default.active_playlist == null || _config2.default.active_playlist == '') {\n\t\t\t\t_helpers4.default.setNext();\n\t\t\t} else {\n\t\t\t\t_helpers4.default.setNextPlaylist(_config2.default.active_playlist);\n\t\t\t}\n\t\t} else {\n\t\t\t/*\n   \tSet the next in the playlist for the key provided.\n   */\n\t\t\t_helpers4.default.setNextPlaylist(playlist);\n\t\t}\n\t}\n\n\t/**\n  * Plays the prev song either in the playlist or globally.\n  *\n  * Public Accessor: Amplitude.prev( playlist );\n  *\n  * @access public\n  * @param {string} [playlist = null] \t- The playlist key\n  */\n\tfunction prev() {\n\t\tvar playlist = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n\t\t/*\n  \tIf the playlist is empty or null, then we check the active\n  \tplaylist\n  */\n\t\tif (playlist == '' || playlist == null) {\n\t\t\t/*\n   \tIf the active playlist is null, then we set the prev global\n   \tsong or we set the prev in the playlist.\n   */\n\t\t\tif (_config2.default.active_playlist == null || _config2.default.active_playlist == '') {\n\t\t\t\t_helpers4.default.setPrev();\n\t\t\t} else {\n\t\t\t\t_helpers4.default.setPrevPlaylist(_config2.default.active_playlist);\n\t\t\t}\n\t\t} else {\n\t\t\t/*\n   \tSet the prev in the playlist for the key provided.\n   */\n\t\t\t_helpers4.default.setPrevPlaylist(playlist);\n\t\t}\n\t}\n\n\t/**\n  * Gets all of the songs in the songs array\n  *\n  * Public Accessor: Amplitude.getSongs( );\n  *\n  * @access public\n  */\n\tfunction getSongs() {\n\t\treturn _config2.default.songs;\n\t}\n\n\t/**\n  * Gets all of the songs in a playlist\n  *\n  * Public Accessor: Amplitude.getSongsInPlaylist( playlist );\n  *\n  * @access public\n  * @param {string} playlist \t- The playlist key\n  */\n\tfunction getSongsInPlaylist(playlist) {\n\t\tvar songsArray = [];\n\n\t\tfor (var i = 0; i < _config2.default.playlists[playlist].length; i++) {\n\t\t\tsongsArray.push(_config2.default.songs[i]);\n\t\t}\n\n\t\treturn songsArray;\n\t}\n\n\t/**\n  * Get current state of songs. If shuffled, this will return the shuffled\n  * songs.\n  *\n  * Public Accessor: Amplitude.getSongsState();\n  *\n  * @access public\n  */\n\tfunction getSongsState() {\n\t\tif (_config2.default.shuffle_on) {\n\t\t\treturn _config2.default.shuffle_list;\n\t\t} else {\n\t\t\treturn _config2.default.songs;\n\t\t}\n\t}\n\n\t/**\n  * Get current state of songs in playlist. If shuffled, this will return the\n  * shuffled songs.\n  *\n  * Public Accessor: Amplitude.getSongsStatePlaylist( playlist );\n  *\n  * @access public\n  * @param {string} playlist \t- The playlist key\n  * @todo Finish commenting\n  */\n\tfunction getSongsStatePlaylist(playlist) {\n\t\tvar songsArray = [];\n\n\t\tif (_config2.default.shuffled_status[playlist]) {\n\n\t\t\tfor (var i = 0; i < _config2.default.shuffled_playlists[playlist].length; i++) {\n\t\t\t\tsongsArray.push(_config2.default.songs[i]);\n\t\t\t}\n\t\t} else {\n\n\t\t\tfor (var _i = 0; _i < _config2.default.playlists[playlist].length; _i++) {\n\t\t\t\tsongsArray.push(_config2.default.songs[_i]);\n\t\t\t}\n\t\t}\n\n\t\treturn songsArray;\n\t}\n\n\t/**\n  * Gets the active index of the player\n  *\n  * Public Accessor: Amplitude.getActiveIndex()\n  *\n  * @access public\n  */\n\tfunction getActiveIndex() {\n\t\treturn parseInt(_config2.default.active_index);\n\t}\n\n\t/**\n  * Gets the active index with respect to the state of the player whether it is\n  * shuffled or not.\n  *\n  * Public Accessor: Amplitude.getActiveIndexState()\n  *\n  * @access public\n  */\n\tfunction getActiveIndexState() {\n\t\tif (_config2.default.shuffle_on) {\n\t\t\treturn parseInt(_config2.default.shuffle_active_index);\n\t\t} else {\n\t\t\treturn parseInt(_config2.default.active_index);\n\t\t}\n\t}\n\n\t/**\n  * Get the version of AmplitudeJS\n  *\n  * Public Accessor: Amplitude.getVersion()\n  *\n  * @access public\n  */\n\tfunction getVersion() {\n\t\treturn _config2.default.version;\n\t}\n\n\t/**\n  * Get the buffered amount for the current song\n  *\n  * Public Accessor: Amplitude.getBuffered()\n  *\n  * @access public\n  */\n\tfunction getBuffered() {\n\t\treturn _config2.default.buffered;\n\t}\n\n\t/**\n  * Skip to a certain location in a selected song.\n  *\n  * Public Accessor: Amplitude.getBuffered()\n  *\n  * @access public\n  * @param {number} seconds \t\t\t\t\t\t- The amount of seconds we should skip to in the song.\n  * @param {number} songIndex \t\t\t\t\t- The index of the song in the songs array.\n  * @param {string} [playlist = null]\t- The playlist the song we are skipping to belogns to.\n  */\n\tfunction skipTo(seconds, songIndex) {\n\t\tvar playlist = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n\t\tif (playlist != null) {\n\t\t\tif (_helpers2.default.checkNewPlaylist(playlist)) {\n\t\t\t\t_helpers2.default.setActivePlaylist(playlist);\n\t\t\t}\n\t\t}\n\n\t\tseconds = parseInt(seconds);\n\n\t\t/*\n  \tChanges the song to where it's being skipped and then\n  \tplay the song.\n  */\n\t\t_helpers2.default.changeSong(songIndex);\n\t\t_core2.default.play();\n\n\t\t_visual2.default.syncMainPlayPause('playing');\n\n\t\tif (playlist != null) {\n\t\t\t_visual2.default.syncPlaylistPlayPause(playlist, 'playing');\n\t\t}\n\n\t\t_visual2.default.syncSongPlayPause(playlist, songIndex, 'playing');\n\n\t\t/*\n  \tSkip to the location in the song.\n  */\n\t\t_core2.default.skipToLocation(seconds);\n\t}\n\n\t/*\n \tReturns all of the publically accesible methods.\n */\n\treturn {\n\t\tinit: init,\n\t\tbindNewElements: bindNewElements,\n\t\tgetActivePlaylist: getActivePlaylist,\n\t\tgetPlaybackSpeed: getPlaybackSpeed,\n\t\tgetRepeat: getRepeat,\n\t\tgetShuffle: getShuffle,\n\t\tgetShufflePlaylist: getShufflePlaylist,\n\t\tsetShuffle: setShuffle,\n\t\tsetShufflePlaylist: setShufflePlaylist,\n\t\tsetRepeat: setRepeat,\n\t\tsetRepeatSong: setRepeatSong,\n\t\tgetDefaultAlbumArt: getDefaultAlbumArt,\n\t\tsetDefaultAlbumArt: setDefaultAlbumArt,\n\t\tgetSongPlayedPercentage: getSongPlayedPercentage,\n\t\tsetSongPlayedPercentage: setSongPlayedPercentage,\n\t\tsetDebug: setDebug,\n\t\tgetActiveSongMetadata: getActiveSongMetadata,\n\t\tgetSongByIndex: getSongByIndex,\n\t\tgetSongAtPlaylistIndex: getSongAtPlaylistIndex,\n\t\taddSong: addSong,\n\t\taddSongToPlaylist: addSongToPlaylist,\n\t\tremoveSong: removeSong,\n\t\tremoveSongFromPlaylist: removeSongFromPlaylist,\n\t\tplayNow: playNow,\n\t\tplaySongAtIndex: playSongAtIndex,\n\t\tplayPlaylistSongAtIndex: playPlaylistSongAtIndex,\n\t\tplay: play,\n\t\tpause: pause,\n\t\taudio: getAudio,\n\t\tnext: next,\n\t\tprev: prev,\n\t\tgetSongs: getSongs,\n\t\tgetSongsInPlaylist: getSongsInPlaylist,\n\t\tgetSongsState: getSongsState,\n\t\tgetSongsStatePlaylist: getSongsStatePlaylist,\n\t\tgetActiveIndex: getActiveIndex,\n\t\tgetActiveIndexState: getActiveIndexState,\n\t\tgetVersion: getVersion,\n\t\tgetBuffered: getBuffered,\n\t\tskipTo: skipTo\n\t};\n}();\n\n/**\n * Imports the config module\n * @module config\n */\n\n\n/**\n * AmplitudeJS Events Helpers Module\n *\n * @module events/AmplitudeEventsHelpers\n */\n\n\n/**\n * AmplitudeJS Core Helpers Module\n *\n * @module core/AmplitudeCoreHelpers\n */\n/**\n * @name \t\tAmplitude.js\n * @version 3.2.0\n * @author \tDan Pastori (521 Dimensions) <dan@521dimensions.com>\n*/\n\n/**\n * AmplitudeJS Initializer Module\n *\n * @module init/AmplitudeInitializer\n */\nexports.default = Amplitude;\nmodule.exports = exports['default'];\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _config = __webpack_require__(0);\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _helpers = __webpack_require__(1);\n\nvar _helpers2 = _interopRequireDefault(_helpers);\n\nvar _init = __webpack_require__(6);\n\nvar _init2 = _interopRequireDefault(_init);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * These helpers wrap around the basic methods of the Soundcloud API\n * and get the information we need from SoundCloud to make the songs\n * streamable through Amplitude\n *\n * @module soundcloud/AmplitudeSoundcloud\n */\n\n\n/**\n * Imports the helper functions for the core module\n * @module core/AmplitudeHelers\n */\nvar AmplitudeSoundcloud = function () {\n\n\t/**\n  * Defines the temporary user config used while we configure soundcloud\n  * @type {object}\n  */\n\tvar tempUserConfig = {};\n\n\t/**\n  * Loads the soundcloud SDK for use with Amplitude so the user doesn't have\n  * to load it themselves.\n  * With help from: http://stackoverflow.com/questions/950087/include-a-javascript-file-in-another-javascript-file\n  *\n  * @access public\n  * @param {object} userConfig \t- The config defined by the user for AmplitudeJS\n  */\n\tfunction loadSoundCloud(userConfig) {\n\t\t/*\n  \tSets the temporary config to the config passed by the user so we can make changes\n  \tand not break the actual config.\n  */\n\t\ttempUserConfig = userConfig;\n\n\t\t/*\n  \tGets the head tag for the document and create a script element.\n  */\n\t\tvar head = document.getElementsByTagName('head')[0];\n\t\tvar script = document.createElement('script');\n\n\t\tscript.type = 'text/javascript';\n\n\t\t/*\n  \tURL to the remote soundcloud SDK\n  */\n\t\tscript.src = 'https://connect.soundcloud.com/sdk.js';\n\t\tscript.onreadystatechange = initSoundcloud;\n\t\tscript.onload = initSoundcloud;\n\n\t\t/*\n  \tAdd the script to the head of the document.\n  */\n\t\thead.appendChild(script);\n\t}\n\n\t/**\n  * Initializes soundcloud with the key provided.\n  *\n  * @access private\n  */\n\tfunction initSoundcloud() {\n\t\t/*\n  \tCalls the SoundCloud initialize function\n  \tfrom their API and sends it the client_id\n  \tthat the user passed in.\n  */\n\t\tSC.initialize({\n\t\t\tclient_id: _config2.default.soundcloud_client\n\t\t});\n\n\t\t/*\n  \tGets the streamable URLs to run through Amplitue. This is\n  \tVERY important since Amplitude can't stream the copy and pasted\n  \tlink from the SoundCloud page, but can resolve the streaming\n  \tURLs from the link.\n  */\n\t\tgetStreamableURLs();\n\t}\n\n\t/**\n  * Gets the streamable URL from the URL provided for\n  * all of the soundcloud links.  This will loop through\n  * and set all of the information for the soundcloud\n  * urls.\n  *\n  * @access private\n  */\n\tfunction getStreamableURLs() {\n\t\t/*\n  \tDefine the regex to find the soundcloud URLs\n  */\n\t\tvar soundcloud_regex = /^https?:\\/\\/(soundcloud.com|snd.sc)\\/(.*)$/;\n\n\t\tfor (var i = 0; i < _config2.default.songs.length; i++) {\n\t\t\t/*\n   \tIf the URL matches soundcloud, we grab\n   \tthat url and get the streamable link\n   \tif there is one.\n   */\n\t\t\tif (_config2.default.songs[i].url.match(soundcloud_regex)) {\n\t\t\t\t_config2.default.soundcloud_song_count++;\n\t\t\t\tresolveStreamable(_config2.default.songs[i].url, i);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n  * Due to Soundcloud SDK being asynchronous, we need to scope the\n  * index of the song in another function. The privateGetSoundcloudStreamableURLs\n  * function does the actual iteration and scoping.\n  *\n  * @access private\n  * @param {string} url \t\t- URL of the soundcloud song\n  * @param {number} index \t- The index of the soundcloud song in the songs array.\n  */\n\tfunction resolveStreamable(url, index) {\n\t\tSC.get('/resolve/?url=' + url, function (sound) {\n\t\t\t/*\n   \tIf streamable we get the url and bind the client ID to the end\n   \tso Amplitude can just stream the song normally. We then overwrite\n   \tthe url the user provided with the streamable URL.\n   */\n\t\t\tif (sound.streamable) {\n\t\t\t\t_config2.default.songs[index].url = sound.stream_url + '?client_id=' + _config2.default.soundcloud_client;\n\n\t\t\t\t/*\n    \tIf the user want's to use soundcloud art, we overwrite the\n    \tcover_art_url with the soundcloud artwork url.\n    */\n\t\t\t\tif (_config2.default.soundcloud_use_art) {\n\t\t\t\t\t_config2.default.songs[index].cover_art_url = sound.artwork_url;\n\t\t\t\t}\n\n\t\t\t\t/*\n    \tGrab the extra metadata from soundcloud and bind it to the\n    \tsong.  The user can get this through the public function:\n    \tgetActiveSongMetadata\n    */\n\t\t\t\t_config2.default.songs[index].soundcloud_data = sound;\n\t\t\t} else {\n\t\t\t\t/*\n    \tIf not streamable, then we print a message to the user stating\n    \tthat the song with name X and artist X is not streamable. This\n    \tgets printed ONLY if they have debug turned on.\n    */\n\t\t\t\t_helpers2.default.writeDebugMessage(_config2.default.songs[index].name + ' by ' + _config2.default.songs[index].artist + ' is not streamable by the Soundcloud API');\n\t\t\t}\n\t\t\t/*\n   \tIncrements the song ready counter.\n   */\n\t\t\t_config2.default.soundcloud_songs_ready++;\n\n\t\t\t/*\n   \tWhen all songs are accounted for, then amplitude is ready\n   \tto rock and we set the rest of the config.\n   */\n\t\t\tif (_config2.default.soundcloud_songs_ready == _config2.default.soundcloud_song_count) {\n\t\t\t\t_init2.default.setConfig(tempUserConfig);\n\t\t\t}\n\t\t});\n\t}\n\n\t/*\n \tReturns the publically accessible methods\n */\n\treturn {\n\t\tloadSoundCloud: loadSoundCloud\n\t};\n}();\n\n/**\n * Imports the initializer\n * @module init/AmplitudeInitializer\n */\n/**\n * Imports the config module\n * @module config\n */\nexports.default = AmplitudeSoundcloud;\nmodule.exports = exports['default'];\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _config = __webpack_require__(0);\n\nvar _config2 = _interopRequireDefault(_config);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * These methods help sync visual displays. They essentially make the visual sync\n * methods smaller and more maintainable.\n *\n * @module visual/AmplitudeVisualSyncHelpers\n */\nvar AmplitudeVisualSyncHelpers = function () {\n\t/**\n  * Updates any elements that display the current hour for the song.\n  *\n  * @access public\n  * @param {number} hours \t- An integer conaining how many hours into the song.\n  */\n\tfunction syncCurrentHours(hours) {\n\t\t/*\n  \tGets all of the song hour selectors.\n  */\n\t\tvar hourSelectors = [];\n\n\t\tif (_config2.default.active_playlist != null && _config2.default.active_playlist != '') {\n\t\t\thourSelectors = ['.amplitude-current-hours[amplitude-main-current-hours=\"true\"]', '.amplitude-current-hours[amplitude-playlist-current-hours=\"true\"][amplitude-playlist=\"' + _config2.default.active_playlist + '\"]', '.amplitude-current-hours[amplitude-song-index=\"' + _config2.default.active_index + '\"]'];\n\t\t} else {\n\t\t\thourSelectors = ['.amplitude-current-hours[amplitude-main-current-hours=\"true\"]', '.amplitude-current-hours[amplitude-song-index=\"' + _config2.default.active_index + '\"]'];\n\t\t}\n\n\t\t/*\n  \tEnsures that there are some hour selectors.\n  */\n\t\tif (document.querySelectorAll(hourSelectors.join()).length > 0) {\n\t\t\t/*\n   \tGet all of the hour selectors\n   */\n\t\t\tvar currentHourSelectors = document.querySelectorAll(hourSelectors.join());\n\n\t\t\t/*\n   \tSet the current hour selector's inner html to hours passed in.\n   */\n\t\t\tfor (var i = 0; i < currentHourSelectors.length; i++) {\n\t\t\t\t/*\n    \tIf the selector is a main selector, we set the hours.\n    */\n\t\t\t\tif (currentHourSelectors[i].getAttribute('amplitude-main-current-hours') == 'true') {\n\t\t\t\t\tcurrentHourSelectors[i].innerHTML = hours;\n\t\t\t\t} else {\n\t\t\t\t\t/*\n     \tIf the active playlist is not null or empty\n     \tand the attribute of the playlist is equal to the\n     \tactive playlist, then we set the inner html.\n     */\n\t\t\t\t\tif (_config2.default.active_playlist != '' && _config2.default.active_playlist != null && currentHourSelectors[i].getAttribute('amplitude-playlist') == _config2.default.active_playlist) {\n\t\t\t\t\t\tcurrentHourSelectors[i].innerHTML = hours;\n\t\t\t\t\t\t/*\n      \tIf the active playlist is not set and the selector\n      \tdoes not have a playlist then we set the hours. This\n      \tmeans that the current selector is an individual song\n      \tselector.\n      */\n\t\t\t\t\t} else if (_config2.default.active_playlist == '' || _config2.default.active_playlist == null && !currentHourSelectors[i].hasAttribute('amplitude-playlist')) {\n\t\t\t\t\t\tcurrentHourSelectors[i].innerHTML = hours;\n\t\t\t\t\t\t/*\n      \tIf nothing else matches, set the selector's inner HTML to '00'\n      */\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcurrentHourSelectors[i].innerHTML = '0';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/*--------------------------------------------------------------------------\n \tResets the current hours displays to 0\n --------------------------------------------------------------------------*/\n\tfunction resetCurrentHours() {\n\t\t/*\n  \tGets the hour display elements\n  */\n\t\tvar hourSelectors = document.querySelectorAll('.amplitude-current-hours');\n\n\t\t/*\n  \tIterates over all of the hour selectors and sets the inner HTML\n  \tto 00.\n  */\n\t\tfor (var i = 0; i < hourSelectors.length; i++) {\n\t\t\thourSelectors[i].innerHTML = '0';\n\t\t}\n\t}\n\n\t/**\n  * Updates any elements that display the current minutes for the song.\n  *\n  * @access public\n  * @param {number} minutes \t- An integer conaining how many minutes into the song.\n  */\n\tfunction syncCurrentMinutes(minutes) {\n\t\t/*\n  \tGets all of the song minute selectors.\n  */\n\t\tvar minuteSelectors = [];\n\n\t\tif (_config2.default.active_playlist != null && _config2.default.active_playlist != '') {\n\t\t\tminuteSelectors = ['.amplitude-current-minutes[amplitude-main-current-minutes=\"true\"]', '.amplitude-current-minutes[amplitude-playlist-current-minutes=\"true\"][amplitude-playlist=\"' + _config2.default.active_playlist + '\"]', '.amplitude-current-minutes[amplitude-song-index=\"' + _config2.default.active_index + '\"]'];\n\t\t} else {\n\t\t\tminuteSelectors = ['.amplitude-current-minutes[amplitude-main-current-minutes=\"true\"]', '.amplitude-current-minutes[amplitude-song-index=\"' + _config2.default.active_index + '\"]'];\n\t\t}\n\n\t\t/*\n  \tGrabs the current minute selectors\n  */\n\t\tvar currentMinuteSelectors = document.querySelectorAll(minuteSelectors.join());\n\n\t\t/*\n  \tSet the current minute selector's inner html to minutes passed in.\n  */\n\t\tfor (var i = 0, l = currentMinuteSelectors.length; i < l; i++) {\n\t\t\t/*\n   \tIf the selector is a main selector, we set the seconds.\n   */\n\t\t\tif (currentMinuteSelectors[i].getAttribute('amplitude-main-current-minutes') == 'true') {\n\t\t\t\tcurrentMinuteSelectors[i].innerHTML = minutes;\n\t\t\t} else {\n\t\t\t\t/*\n    \tIf the active playlist is not null or empty\n    \tand the attribute of the playlist is equal to the\n    \tactive playlist, then we set the inner html.\n    */\n\t\t\t\tif (_config2.default.active_playlist != '' && _config2.default.active_playlist != null && currentMinuteSelectors[i].getAttribute('amplitude-playlist') == _config2.default.active_playlist) {\n\t\t\t\t\tcurrentMinuteSelectors[i].innerHTML = minutes;\n\t\t\t\t\t/*\n     \tIf the active playlist is not set and the selector\n     \tdoes not have a playlist then we set the minutes. This\n     \tmeans that the current selector is an individual song\n     \tselector.\n     */\n\t\t\t\t} else if (_config2.default.active_playlist == '' || _config2.default.active_playlist == null && !currentMinuteSelectors[i].hasAttribute('amplitude-playlist')) {\n\t\t\t\t\tcurrentMinuteSelectors[i].innerHTML = minutes;\n\t\t\t\t\t/*\n     \tIf nothing else matches, set the selector's inner HTML to '00'\n     */\n\t\t\t\t} else {\n\t\t\t\t\tcurrentMinuteSelectors[i].innerHTML = '00';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n  * Resets the current minutes displays to 00\n  *\n  * @access public\n  */\n\tfunction resetCurrentMinutes() {\n\t\t/*\n  \tGets the minutes display elements\n  */\n\t\tvar minuteSelectors = document.querySelectorAll('.amplitude-current-minutes');\n\n\t\t/*\n  \tIterates over all of the minute selectors and sets the inner HTML\n  \tto 00.\n  */\n\t\tfor (var i = 0; i < minuteSelectors.length; i++) {\n\t\t\tminuteSelectors[i].innerHTML = '00';\n\t\t}\n\t}\n\n\t/**\n  * Updates any elements that display the current seconds for the song.\n  *\n  * @access public\n  * @param {number} seconds\t- An integer conaining how many seconds into the song.\n  */\n\tfunction syncCurrentSeconds(seconds) {\n\t\t/*\n  \tGets all of the song second selectors. If the active playlist\n  \tis not null, then we get the playlist selectors.\n  */\n\t\tvar secondSelectors = [];\n\n\t\tif (_config2.default.active_playlist != null && _config2.default.active_playlist != '') {\n\t\t\tsecondSelectors = ['.amplitude-current-seconds[amplitude-main-current-seconds=\"true\"]', '.amplitude-current-seconds[amplitude-playlist-current-seconds=\"true\"][amplitude-playlist=\"' + _config2.default.active_playlist + '\"]', '.amplitude-current-seconds[amplitude-song-index=\"' + _config2.default.active_index + '\"]'];\n\t\t} else {\n\t\t\tsecondSelectors = ['.amplitude-current-seconds[amplitude-main-current-seconds=\"true\"]', '.amplitude-current-seconds[amplitude-song-index=\"' + _config2.default.active_index + '\"]'];\n\t\t}\n\n\t\t/*\n  \tGet all of the second selectors\n  */\n\t\tvar currentSecondSelectors = document.querySelectorAll(secondSelectors.join());\n\n\t\t/*\n  \tIterate over all of the second selectors.\n  */\n\t\tfor (var i = 0, l = currentSecondSelectors.length; i < l; i++) {\n\t\t\t/*\n   \tIf the selector is a main selector, we set the seconds.\n   */\n\t\t\tif (currentSecondSelectors[i].getAttribute('amplitude-main-current-seconds') == 'true') {\n\t\t\t\tcurrentSecondSelectors[i].innerHTML = seconds;\n\t\t\t} else {\n\t\t\t\t/*\n    \tIf the active playlist is not null or empty\n    \tand the attribute of the playlist is equal to the\n    \tactive playlist, then we set the inner html.\n    */\n\t\t\t\tif (_config2.default.active_playlist != '' && _config2.default.active_playlist != null && currentSecondSelectors[i].getAttribute('amplitude-playlist') == _config2.default.active_playlist) {\n\t\t\t\t\tcurrentSecondSelectors[i].innerHTML = seconds;\n\t\t\t\t\t/*\n     \tIf the active playlist is not set and the selector\n     \tdoes not have a playlist then we set the seconds. This\n     \tmeans that the current selector is an individual song\n     \tselector.\n     */\n\t\t\t\t} else if (_config2.default.active_playlist == '' || _config2.default.active_playlist == null && !currentSecondSelectors[i].hasAttribute('amplitude-playlist')) {\n\t\t\t\t\tcurrentSecondSelectors[i].innerHTML = seconds;\n\t\t\t\t\t/*\n     \tIf nothing else matches, set the selector's inner HTML to '00'\n     */\n\t\t\t\t} else {\n\t\t\t\t\tcurrentSecondSelectors[i].innerHTML = '00';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n  * Resets the current seconds displays to 00\n  *\n  * @access public\n  */\n\tfunction resetCurrentSeconds() {\n\t\t/*\n  \tGets the seconds display elements\n  */\n\t\tvar secondSelectors = document.querySelectorAll('.amplitude-current-seconds');\n\n\t\t/*\n  \tIterates over all of the seconds selectors and sets the inner HTML\n  \tto 00.\n  */\n\t\tfor (var i = 0; i < secondSelectors.length; i++) {\n\t\t\tsecondSelectors[i].innerHTML = '00';\n\t\t}\n\t}\n\n\t/**\n  * Updates any elements that display the current time for the song. This\n  * is a computed field that will be commonly used.\n  *\n  * @access public\n  * @param {object} currentTime \t- A json object conaining the parts for the current time for the song.\n  */\n\tfunction syncCurrentTime(currentTime) {\n\t\t/*\n  \tGets all of the song time selectors.\n  */\n\t\tvar timeSelectors = ['.amplitude-current-time[amplitude-main-current-time=\"true\"]', '.amplitude-current-time[amplitude-playlist-main-current-time=\"' + _config2.default.active_playlist + '\"]', '.amplitude-current-time[amplitude-song-index=\"' + _config2.default.active_index + '\"]'];\n\n\t\t/*\n  \tGet all of the time selectors.\n  */\n\t\tvar currentTimeSelectors = document.querySelectorAll(timeSelectors.join());\n\n\t\t/*\n  \tSet the time selector's inner html to the current time for the song. The current\n  \ttime is computed by joining minutes and seconds.\n  */\n\t\tvar timeText = currentTime.minutes + ':' + currentTime.seconds;\n\t\tif (currentTime.hours > 0) {\n\t\t\ttimeText = currentTime.hours + ':' + timeText;\n\t\t}\n\t\tfor (var i = 0, l = currentTimeSelectors.length; i < l; i++) {\n\t\t\tcurrentTimeSelectors[i].innerHTML = timeText;\n\t\t}\n\t}\n\n\t/**\n  * Resets the current time displays to 00:00\n  *\n  * @access public\n  */\n\tfunction resetCurrentTime() {\n\t\t/*\n  \tGets the time selector display elements\n  */\n\t\tvar timeSelectors = document.querySelectorAll('.amplitude-current-time');\n\n\t\t/*\n  \tIterates over all of the time selectors and sets the inner HTML\n  \tto 00.\n  */\n\t\tfor (var i = 0; i < timeSelectors.length; i++) {\n\t\t\ttimeSelectors[i].innerHTML = '00:00';\n\t\t}\n\t}\n\n\t/**\n  * Syncs the song played progress bars. These are HTML5 progress elements.\n  *\n  * @access private\n  * @param {number} songPlayedPercentage  \t- The percentage of the song that has been played.\n  */\n\tfunction syncSongPlayedProgressBar(songPlayedPercentage) {\n\t\tsyncMainSongPlayedProgressBars(songPlayedPercentage);\n\t\tsyncPlaylistSongPlayedProgressBars(songPlayedPercentage);\n\t\tsyncIndividualSongPlayedProgressBars(songPlayedPercentage);\n\t}\n\n\t/**\n  * Sync how much has been played with a progress bar. This is the main progress bar.\n  *\n  * @access private\n  * @param {number} songPlayedPercentage \t- The percent of the song completed.\n  */\n\tfunction syncMainSongPlayedProgressBars(songPlayedPercentage) {\n\t\t/*\n  \tEnsure that the song completion percentage is a number\n  */\n\t\tif (!isNaN(songPlayedPercentage)) {\n\t\t\t/*\n   \tGet all of the song progress bars\n   */\n\t\t\tvar songPlayedProgressBars = document.querySelectorAll('.amplitude-song-played-progress[amplitude-main-song-played-progress=\"true\"]');\n\n\t\t\tfor (var i = 0; i < songPlayedProgressBars.length; i++) {\n\t\t\t\tvar max = songPlayedProgressBars[i].max;\n\n\t\t\t\tsongPlayedProgressBars[i].value = songPlayedPercentage / 100 * max;\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n  * Sync how much has been played with a progress bar. This is the playlist progress bar.\n  *\n  * @access public\n  * @param {number} songPlayedPercentage \t- The percent of the song completed.\n  */\n\tfunction syncPlaylistSongPlayedProgressBars(songPlayedPercentage) {\n\t\t/*\n  \tEnsure that the song completion percentage is a number\n  */\n\t\tif (!isNaN(songPlayedPercentage)) {\n\t\t\t/*\n   \tGet all of the song progress bars\n   */\n\t\t\tvar songPlayedProgressBars = document.querySelectorAll('.amplitude-song-played-progress[amplitude-playlist-song-played-progress=\"true\"][amplitude-playlist=\"' + _config2.default.active_playlist + '\"]');\n\n\t\t\tfor (var i = 0; i < songPlayedProgressBars.length; i++) {\n\t\t\t\tvar max = songPlayedProgressBars[i].max;\n\n\t\t\t\tsongPlayedProgressBars[i].value = songPlayedPercentage / 100 * max;\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n  * Sync how much has been played with a progress bar. This is for an individual song.\n  *\n  * @access private\n  * @param {number} songPlayedPercentage \t- The percent of the song completed.\n  */\n\tfunction syncIndividualSongPlayedProgressBars(songPlayedPercentage) {\n\t\t/*\n  \tEnsure that the song completion percentage is a number\n  */\n\t\tif (!isNaN(songPlayedPercentage)) {\n\t\t\t/*\n   \tIf the active playlist is not null, we get the individual song\n   \tplayed progress for the playlist.\n   */\n\t\t\tif (_config2.default.active_playlist != '' && _config2.default.active_playlist != null) {\n\t\t\t\t/*\n    \tGet all of the song progress bars\n    */\n\t\t\t\tvar songPlayedProgressBars = document.querySelectorAll('.amplitude-song-played-progress[amplitude-playlist=\"' + _config2.default.active_playlist + '\"][amplitude-song-index=\"' + _config2.default.active_index + '\"]');\n\n\t\t\t\tfor (var i = 0; i < songPlayedProgressBars.length; i++) {\n\t\t\t\t\tvar max = songPlayedProgressBars[i].max;\n\n\t\t\t\t\tsongPlayedProgressBars[i].value = songPlayedPercentage / 100 * max;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t/*\n    \tGet all of the song progress bars\n    */\n\t\t\t\tvar _songPlayedProgressBars = document.querySelectorAll('.amplitude-song-played-progress[amplitude-song-index=\"' + _config2.default.active_index + '\"]');\n\n\t\t\t\tfor (var _i = 0; _i < _songPlayedProgressBars.length; _i++) {\n\t\t\t\t\tvar _max = _songPlayedProgressBars[_i].max;\n\n\t\t\t\t\t_songPlayedProgressBars[_i].value = songPlayedPercentage / 100 * _max;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n  * Sets an element to be playing by removing the 'amplitude-paused' class\n  * and adding the 'amplitude-playing' class\n  *\n  * @access public\n  * @param {element} element \t- The element getting the playing class added.\n  */\n\tfunction setElementPlay(element) {\n\t\telement.classList.add('amplitude-playing');\n\t\telement.classList.remove('amplitude-paused');\n\t}\n\n\t/**\n  * Sets an element to be paused by adding the 'amplitude-paused' class\n  * and removing the 'amplitude-playing' class\n  *\n  * @access public\n  * @param {element} element \t- The element getting the paused class added.\n  */\n\tfunction setElementPause(element) {\n\t\telement.classList.remove('amplitude-playing');\n\t\telement.classList.add('amplitude-paused');\n\t}\n\n\t/**\n  * Updates any elements that display the duration hour for the song.\n  *\n  * @access public\n  * @param {number} hours \t\t- An integer conaining how many hours are in the song\n  */\n\tfunction syncDurationHours(hours) {\n\t\t/*\n  \tGets all of the song hour selectors.\n  */\n\t\tvar hourSelectors = [];\n\n\t\tif (_config2.default.active_playlist != null && _config2.default.active_playlist != '') {\n\t\t\thourSelectors = ['.amplitude-duration-hours[amplitude-main-duration-hours=\"true\"]', '.amplitude-duration-hours[amplitude-playlist-duration-hours=\"true\"][amplitude-playlist=\"' + _config2.default.active_playlist + '\"]', '.amplitude-duration-hours[amplitude-song-index=\"' + _config2.default.active_index + '\"]'];\n\t\t} else {\n\t\t\thourSelectors = ['.amplitude-duration-hours[amplitude-main-duration-hours=\"true\"]', '.amplitude-duration-hours[amplitude-song-index=\"' + _config2.default.active_index + '\"]'];\n\t\t}\n\n\t\t/*\n  \tEnsures that there are some hour selectors.\n  */\n\t\tif (document.querySelectorAll(hourSelectors.join()).length > 0) {\n\t\t\t/*\n   \tGet all of the hour selectors\n   */\n\t\t\tvar durationHourSelectors = document.querySelectorAll(hourSelectors.join());\n\n\t\t\t/*\n   \tSet the duration hour selector's inner html to hours passed in.\n   */\n\t\t\tfor (var i = 0; i < durationHourSelectors.length; i++) {\n\t\t\t\t/*\n    \tIf the selector is a main selector, we set the hours.\n    */\n\t\t\t\tif (durationHourSelectors[i].getAttribute('amplitude-main-duration-hours') == 'true') {\n\t\t\t\t\tdurationHourSelectors[i].innerHTML = hours;\n\t\t\t\t} else {\n\t\t\t\t\t/*\n     \tIf the active playlist is not null or empty\n     \tand the attribute of the playlist is equal to the\n     \tactive playlist, then we set the inner html.\n     */\n\t\t\t\t\tif (_config2.default.active_playlist != '' && _config2.default.active_playlist != null && durationHourSelectors[i].getAttribute('amplitude-playlist') == _config2.default.active_playlist) {\n\t\t\t\t\t\tdurationHourSelectors[i].innerHTML = hours;\n\t\t\t\t\t\t/*\n      \tIf the active playlist is not set and the selector\n      \tdoes not have a playlist then we set the hours. This\n      \tmeans that the duration selector is an individual song\n      \tselector.\n      */\n\t\t\t\t\t} else if (_config2.default.active_playlist == '' || _config2.default.active_playlist == null && !durationHourSelectors[i].hasAttribute('amplitude-playlist')) {\n\t\t\t\t\t\tdurationHourSelectors[i].innerHTML = hours;\n\t\t\t\t\t\t/*\n      \tIf nothing else matches, set the selector's inner HTML to '00'\n      */\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdurationHourSelectors[i].innerHTML = '0';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n  * Updates any elements that display the duration minutes for the song.\n  *\n  * @access public\n  * @param {number} minutes \t- An integer conaining how many minutes into the song.\n  */\n\tfunction syncDurationMinutes(minutes) {\n\t\t/*\n  \tGets all of the song minute selectors.\n  */\n\t\tvar minuteSelectors = [];\n\n\t\tif (_config2.default.active_playlist != null && _config2.default.active_playlist != '') {\n\t\t\tminuteSelectors = ['.amplitude-duration-minutes[amplitude-main-duration-minutes=\"true\"]', '.amplitude-duration-minutes[amplitude-playlist-duration-minutes=\"true\"][amplitude-playlist=\"' + _config2.default.active_playlist + '\"]', '.amplitude-duration-minutes[amplitude-song-index=\"' + _config2.default.active_index + '\"]'];\n\t\t} else {\n\t\t\tminuteSelectors = ['.amplitude-duration-minutes[amplitude-main-duration-minutes=\"true\"]', '.amplitude-duration-minutes[amplitude-song-index=\"' + _config2.default.active_index + '\"]'];\n\t\t}\n\n\t\t/*\n  \tGet all of the minute selectors\n  */\n\t\tvar durationMinuteSelectors = document.querySelectorAll(minuteSelectors.join());\n\n\t\t/*\n  \tSet the duration minute selector's inner html to minutes passed in.\n  */\n\t\tfor (var i = 0; i < durationMinuteSelectors.length; i++) {\n\t\t\t/*\n   \tIf the selector is a main selector, we set the seconds.\n   */\n\t\t\tif (durationMinuteSelectors[i].getAttribute('amplitude-main-duration-minutes') == 'true') {\n\t\t\t\tdurationMinuteSelectors[i].innerHTML = minutes;\n\t\t\t} else {\n\t\t\t\t/*\n    \tIf the active playlist is not null or empty\n    \tand the attribute of the playlist is equal to the\n    \tactive playlist, then we set the inner html.\n    */\n\t\t\t\tif (_config2.default.active_playlist != '' && _config2.default.active_playlist != null && durationMinuteSelectors[i].getAttribute('amplitude-playlist') == _config2.default.active_playlist) {\n\t\t\t\t\tdurationMinuteSelectors[i].innerHTML = minutes;\n\t\t\t\t\t/*\n     \tIf the active playlist is not set and the selector\n     \tdoes not have a playlist then we set the minutes. This\n     \tmeans that the duration selector is an individual song\n     \tselector.\n     */\n\t\t\t\t} else if (_config2.default.active_playlist == '' || _config2.default.active_playlist == null && !durationMinuteSelectors[i].hasAttribute('amplitude-playlist')) {\n\t\t\t\t\tdurationMinuteSelectors[i].innerHTML = minutes;\n\t\t\t\t\t/*\n     \tIf nothing else matches, set the selector's inner HTML to '00'\n     */\n\t\t\t\t} else {\n\t\t\t\t\tdurationMinuteSelectors[i].innerHTML = '00';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n  * Updates any elements that display the duration seconds for the song.\n  *\n  * @access private\n  * @param {number} seconds \t- An integer conaining how many seconds into the song.\n  */\n\tfunction syncDurationSeconds(seconds) {\n\t\t/*\n  \tGets all of the song second selectors. If the active playlist\n  \tis not null, then we get the playlist selectors.\n  */\n\t\tvar secondSelectors = [];\n\n\t\tif (_config2.default.active_playlist != null && _config2.default.active_playlist != '') {\n\t\t\tsecondSelectors = ['.amplitude-duration-seconds[amplitude-main-duration-seconds=\"true\"]', '.amplitude-duration-seconds[amplitude-playlist-duration-seconds=\"true\"][amplitude-playlist=\"' + _config2.default.active_playlist + '\"]', '.amplitude-duration-seconds[amplitude-song-index=\"' + _config2.default.active_index + '\"]'];\n\t\t} else {\n\t\t\tsecondSelectors = ['.amplitude-duration-seconds[amplitude-main-duration-seconds=\"true\"]', '.amplitude-duration-seconds[amplitude-song-index=\"' + _config2.default.active_index + '\"]'];\n\t\t}\n\n\t\t/*\n  \tGet all of the second selectors\n  */\n\t\tvar durationSecondSelectors = document.querySelectorAll(secondSelectors.join());\n\n\t\t/*\n  \tIterate over all of the second selectors.\n  */\n\t\tfor (var i = 0; i < durationSecondSelectors.length; i++) {\n\t\t\t/*\n   \tIf the selector is a main selector, we set the seconds.\n   */\n\t\t\tif (durationSecondSelectors[i].getAttribute('amplitude-main-duration-seconds') == 'true') {\n\t\t\t\tdurationSecondSelectors[i].innerHTML = seconds;\n\t\t\t} else {\n\t\t\t\t/*\n    \tIf the active playlist is not null or empty\n    \tand the attribute of the playlist is equal to the\n    \tactive playlist, then we set the inner html.\n    */\n\t\t\t\tif (_config2.default.active_playlist != '' && _config2.default.active_playlist != null && durationSecondSelectors[i].getAttribute('amplitude-playlist') == _config2.default.active_playlist) {\n\t\t\t\t\tdurationSecondSelectors[i].innerHTML = seconds;\n\t\t\t\t\t/*\n     \tIf the active playlist is not set and the selector\n     \tdoes not have a playlist then we set the seconds. This\n     \tmeans that the duration selector is an individual song\n     \tselector.\n     */\n\t\t\t\t} else if (_config2.default.active_playlist == '' || _config2.default.active_playlist == null && !durationSecondSelectors[i].hasAttribute('amplitude-playlist')) {\n\t\t\t\t\tdurationSecondSelectors[i].innerHTML = seconds;\n\t\t\t\t\t/*\n     \tIf nothing else matches, set the selector's inner HTML to '00'\n     */\n\t\t\t\t} else {\n\t\t\t\t\tdurationSecondSelectors[i].innerHTML = '00';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n  * Updates any elements that display the duration time for the song. This\n  * is a computed field that will be commonly used.\n  *\n  * @access public\n  * @param {object} durationTime \t- A json object conaining the parts for the duration time for the song.\n  */\n\tfunction syncDurationTime(durationTime) {\n\t\t/*\n  \tGets all of the song time selectors.\n  */\n\t\tvar timeSelectors = ['.amplitude-duration-time[amplitude-main-duration-time=\"true\"]', '.amplitude-duration-time[amplitude-playlist-main-duration-time=\"' + _config2.default.active_playlist + '\"]', '.amplitude-duration-time[amplitude-song-index=\"' + _config2.default.active_index + '\"]'];\n\n\t\t/*\n  \tGet all of the time selectors.\n  */\n\t\tvar durationTimeSelectors = document.querySelectorAll(timeSelectors.join());\n\n\t\t/*\n  \tSet the time selector's inner html to the duration time for the song. The duration\n  \ttime is computed by joining minutes and seconds.\n  */\n\t\tvar durationText = '00:00';\n\t\tif (!isNaN(durationTime.minutes) && !isNaN(durationTime.seconds)) {\n\t\t\tdurationText = durationTime.minutes + ':' + durationTime.seconds;\n\t\t\tif (!isNaN(durationTime.hours) && durationTime.hours > 0) {\n\t\t\t\tdurationText = durationTime.hours + ':' + durationText;\n\t\t\t}\n\t\t}\n\t\tfor (var i = 0; i < durationTimeSelectors.length; i++) {\n\t\t\tdurationTimeSelectors[i].innerHTML = durationText;\n\t\t}\n\t}\n\n\t/**\n  * Updates the elements that show how much time is remaining in the song.\n  *\n  * @access public\n  * @param {object} currentTime \t- A json object containing the parts for the current time for the song.\n  * @param {object} durationTime - A json object conaining the parts for the duration time for the song.\n  */\n\tfunction syncCountDownTime(currentTime, songDuration) {\n\t\t/*\n  \tInitialize time remaining.\n  */\n\t\tvar timeRemaining = '00:00';\n\n\t\t/*\n  \tEnsure that all values are defined.\n  */\n\t\tif (currentTime != undefined && songDuration != undefined) {\n\t\t\t/*\n   \tInitialize the total current seconds and total duration seconds\n   */\n\t\t\tvar totalCurrentSeconds = parseInt(currentTime.seconds) + parseInt(currentTime.minutes) * 60 + parseInt(currentTime.hours) * 60 * 60;\n\t\t\tvar totalDurationSeconds = parseInt(songDuration.seconds) + parseInt(songDuration.minutes) * 60 + parseInt(songDuration.hours) * 60 * 60;\n\n\t\t\t/*\n   \tIf the two variables are numbers we continue the computing.\n   */\n\t\t\tif (!isNaN(totalCurrentSeconds) && !isNaN(totalDurationSeconds)) {\n\t\t\t\t/*\n    \tFind the total remaining seconds.\n    */\n\t\t\t\tvar timeRemainingTotalSeconds = totalDurationSeconds - totalCurrentSeconds;\n\n\t\t\t\tvar remainingHours = Math.floor(timeRemainingTotalSeconds / 3600);\n\t\t\t\tvar remainingMinutes = Math.floor((timeRemainingTotalSeconds - remainingHours * 3600) / 60);\n\t\t\t\tvar remainingSeconds = timeRemainingTotalSeconds - remainingHours * 3600 - remainingMinutes * 60;\n\n\t\t\t\ttimeRemaining = (remainingMinutes < 10 ? '0' + remainingMinutes : remainingMinutes) + ':' + (remainingSeconds < 10 ? '0' + remainingSeconds : remainingSeconds);\n\n\t\t\t\tif (remainingHours > 0) {\n\t\t\t\t\ttimeRemaining = remainingHours + ':' + timeRemaining;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/*\n  \tGets all of the song time selectors.\n  */\n\t\tvar timeSelectors = ['.amplitude-time-remaining[amplitude-main-time-remaining=\"true\"]', '.amplitude-time-remaining[amplitude-playlist-main-time-remaining=\"' + _config2.default.active_playlist + '\"]', '.amplitude-time-remaining[amplitude-song-index=\"' + _config2.default.active_index + '\"]'];\n\n\t\t/*\n  \tGet all of the time selectors.\n  */\n\t\tvar timeRemainingSelectors = document.querySelectorAll(timeSelectors.join());\n\n\t\t/*\n  \tSet the time selector's inner html to the duration time for the song. The duration\n  \ttime is computed by joining minutes and seconds.\n  */\n\t\tfor (var i = 0; i < timeRemainingSelectors.length; i++) {\n\t\t\ttimeRemainingSelectors[i].innerHTML = timeRemaining;\n\t\t}\n\t}\n\n\t/*\n \tReturn the publically available functions.\n */\n\treturn {\n\t\tsyncCurrentHours: syncCurrentHours,\n\t\tsyncCurrentMinutes: syncCurrentMinutes,\n\t\tsyncCurrentSeconds: syncCurrentSeconds,\n\t\tsyncCurrentTime: syncCurrentTime,\n\t\tresetCurrentHours: resetCurrentHours,\n\t\tresetCurrentMinutes: resetCurrentMinutes,\n\t\tresetCurrentSeconds: resetCurrentSeconds,\n\t\tresetCurrentTime: resetCurrentTime,\n\t\tsyncSongPlayedProgressBar: syncSongPlayedProgressBar,\n\t\tsetElementPlay: setElementPlay,\n\t\tsetElementPause: setElementPause,\n\t\tsyncDurationHours: syncDurationHours,\n\t\tsyncDurationMinutes: syncDurationMinutes,\n\t\tsyncDurationSeconds: syncDurationSeconds,\n\t\tsyncDurationTime: syncDurationTime,\n\t\tsyncCountDownTime: syncCountDownTime\n\t};\n}(); /**\n      * Imports the config module\n      * @module config\n      */\nexports.default = AmplitudeVisualSyncHelpers;\nmodule.exports = exports['default'];\n\n/***/ })\n/******/ ]);\n});","var _id = 0\nvar sheet = document.head.appendChild(document.createElement(\"style\")).sheet\n\nfunction hyphenate(str) {\n  return str.replace(/[A-Z]/g, \"-$&\").toLowerCase()\n}\n\nfunction insert(rule) {\n  sheet.insertRule(rule, sheet.cssRules.length)\n}\nfunction createStyle(obj) {\n  var id = \"p\" + _id++\n  parse(obj, \".\" + id).forEach(insert)\n  return id\n}\nfunction wrap(stringToWrap, wrapper) {\n  return wrapper + \"{\" + stringToWrap + \"}\"\n}\n\nfunction parse(obj, classname, isInsideObj) {\n  var arr = [\"\"]\n  isInsideObj = isInsideObj || 0\n  for (var prop in obj) {\n    var value = obj[prop]\n    prop = hyphenate(prop)\n    // Same as typeof value === 'object', but smaller\n    if (!value.sub) {\n      if (/^(:|>|\\.|\\*)/.test(prop)) {\n        prop = classname + prop\n      }\n      // replace & in \"&:hover\", \"p>&\"\n      prop = prop.replace(/&/g, classname)\n      arr.push(\n        wrap(parse(value, classname, 1 && !/^@/.test(prop)).join(\"\"), prop)\n      )\n    } else {\n      arr[0] += prop + \":\" + value + \";\"\n    }\n  }\n  if (!isInsideObj) {\n    arr[0] = wrap(arr[0], classname)\n  }\n  return arr\n}\nexport default function(h) {\n  return function(nodeName) {\n    var cache = {}\n    return function(decls) {\n      return function(attributes, children) {\n        attributes = attributes || {}\n        children = attributes.children || children\n        var nodeDecls = typeof decls == \"function\" ? decls(attributes) : decls\n        var key = JSON.stringify(nodeDecls)\n        cache[key] || (cache[key] = createStyle(nodeDecls))\n        attributes.class = [attributes.class, cache[key]]\n          .filter(Boolean)\n          .join(\" \")\n        return h(nodeName, attributes, children)\n      }\n    }\n  }\n}\nexport function keyframes(obj) {\n  var id = \"p\" + _id++\n  insert(wrap(parse(obj, id, 1).join(\"\"), \"@keyframes \" + id))\n  return id\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","var hasRAF = typeof window !== 'undefined' && window.requestAnimationFrame !== undefined;\r\nvar prevTime = 0;\r\nvar onNextFrame = hasRAF\r\n    ? function (callback) { return window.requestAnimationFrame(callback); }\r\n    : function (callback) {\r\n        var currentTime = Date.now();\r\n        var timeToCall = Math.max(0, 16.7 - (currentTime - prevTime));\r\n        prevTime = currentTime + timeToCall;\r\n        setTimeout(function () { return callback(prevTime); }, timeToCall);\r\n    };\n\nfunction createRenderStep(startRenderLoop) {\r\n    var functionsToRun = [];\r\n    var functionsToRunNextFrame = [];\r\n    var numThisFrame = 0;\r\n    var isProcessing = false;\r\n    var i = 0;\r\n    return {\r\n        cancel: function (callback) {\r\n            var indexOfCallback = functionsToRunNextFrame.indexOf(callback);\r\n            if (indexOfCallback !== -1) {\r\n                functionsToRunNextFrame.splice(indexOfCallback, 1);\r\n            }\r\n        },\r\n        process: function () {\r\n            isProcessing = true;\r\n            _a = [functionsToRunNextFrame, functionsToRun], functionsToRun = _a[0], functionsToRunNextFrame = _a[1];\r\n            functionsToRunNextFrame.length = 0;\r\n            numThisFrame = functionsToRun.length;\r\n            for (i = 0; i < numThisFrame; i++) {\r\n                functionsToRun[i]();\r\n            }\r\n            isProcessing = false;\r\n            var _a;\r\n        },\r\n        schedule: function (callback, immediate) {\r\n            if (immediate === void 0) { immediate = false; }\r\n            startRenderLoop();\r\n            var addToCurrentBuffer = immediate && isProcessing;\r\n            var buffer = addToCurrentBuffer ? functionsToRun : functionsToRunNextFrame;\r\n            if (buffer.indexOf(callback) === -1) {\r\n                buffer.push(callback);\r\n                if (addToCurrentBuffer) {\r\n                    numThisFrame = functionsToRun.length;\r\n                }\r\n            }\r\n        },\r\n    };\r\n}\n\nvar HAS_PERFORMANCE_NOW = typeof performance !== 'undefined' && performance.now !== undefined;\r\nvar currentTime = HAS_PERFORMANCE_NOW ? function () { return performance.now(); } : function () { return Date.now(); };\r\nvar willRenderNextFrame = false;\r\nvar MAX_ELAPSED = 40;\r\nvar defaultElapsed = 16.7;\r\nvar useDefaultElapsed = true;\r\nvar currentFramestamp = 0;\r\nvar elapsed = 0;\r\nfunction startRenderLoop() {\r\n    if (willRenderNextFrame)\r\n        return;\r\n    willRenderNextFrame = true;\r\n    useDefaultElapsed = true;\r\n    onNextFrame(processFrame);\r\n}\r\nvar frameStart = createRenderStep(startRenderLoop);\r\nvar frameUpdate = createRenderStep(startRenderLoop);\r\nvar frameRender = createRenderStep(startRenderLoop);\r\nvar frameEnd = createRenderStep(startRenderLoop);\r\nfunction processFrame(framestamp) {\r\n    willRenderNextFrame = false;\r\n    elapsed = useDefaultElapsed\r\n        ? defaultElapsed\r\n        : Math.max(Math.min(framestamp - currentFramestamp, MAX_ELAPSED), 1);\r\n    if (!useDefaultElapsed)\r\n        defaultElapsed = elapsed;\r\n    currentFramestamp = framestamp;\r\n    frameStart.process();\r\n    frameUpdate.process();\r\n    frameRender.process();\r\n    frameEnd.process();\r\n    if (willRenderNextFrame)\r\n        useDefaultElapsed = false;\r\n}\r\nvar onFrameStart = frameStart.schedule;\r\nvar onFrameUpdate = frameUpdate.schedule;\r\nvar onFrameRender = frameRender.schedule;\r\nvar onFrameEnd = frameEnd.schedule;\r\nvar cancelOnFrameStart = frameStart.cancel;\r\nvar cancelOnFrameUpdate = frameUpdate.cancel;\r\nvar cancelOnFrameRender = frameRender.cancel;\r\nvar cancelOnFrameEnd = frameEnd.cancel;\r\nvar timeSinceLastFrame = function () { return elapsed; };\r\nvar currentFrameTime = function () { return currentFramestamp; };\n\nexport { currentTime, onFrameStart, onFrameUpdate, onFrameRender, onFrameEnd, cancelOnFrameStart, cancelOnFrameUpdate, cancelOnFrameRender, cancelOnFrameEnd, timeSinceLastFrame, currentFrameTime };\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar clamp = function (min, max) { return function (v) {\r\n    return Math.max(Math.min(v, max), min);\r\n}; };\r\nvar contains = function (term) { return function (v) {\r\n    return typeof v === 'string' && v.indexOf(term) !== -1;\r\n}; };\r\nvar isFirstChars = function (term) { return function (v) {\r\n    return typeof v === 'string' && v.indexOf(term) === 0;\r\n}; };\r\nvar getValueFromFunctionString = function (value) {\r\n    return value.substring(value.indexOf('(') + 1, value.lastIndexOf(')'));\r\n};\r\nvar splitCommaDelimited = function (value) {\r\n    return typeof value === 'string' ? value.split(/,\\s*/) : [value];\r\n};\n\nvar number = {\r\n    test: function (v) { return typeof v === 'number'; },\r\n    parse: parseFloat,\r\n    transform: function (v) { return v; }\r\n};\r\nvar alpha = __assign({}, number, { transform: clamp(0, 1) });\r\nvar scale = __assign({}, number, { default: 1 });\n\nvar createUnitType = function (unit) {\r\n    var containsUnit = contains(unit);\r\n    return {\r\n        test: function (v) {\r\n            return typeof v === 'string' && containsUnit(v) && v.split(' ').length === 1;\r\n        },\r\n        parse: parseFloat,\r\n        transform: function (v) { return \"\" + v + unit; }\r\n    };\r\n};\r\nvar degrees = createUnitType('deg');\r\nvar percent = createUnitType('%');\r\nvar px = createUnitType('px');\r\nvar vh = createUnitType('vh');\r\nvar vw = createUnitType('vw');\n\nvar clampRgbUnit = clamp(0, 255);\r\nvar onlyColorRegex = /^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))$/i;\r\nvar isRgba = function (v) { return v.red !== undefined; };\r\nvar isHsla = function (v) { return v.hue !== undefined; };\r\nvar splitColorValues = function (terms) {\r\n    var numTerms = terms.length;\r\n    return function (v) {\r\n        if (typeof v !== 'string')\r\n            return v;\r\n        var values = {};\r\n        var valuesArray = splitCommaDelimited(getValueFromFunctionString(v));\r\n        for (var i = 0; i < numTerms; i++) {\r\n            values[terms[i]] =\r\n                valuesArray[i] !== undefined ? parseFloat(valuesArray[i]) : 1;\r\n        }\r\n        return values;\r\n    };\r\n};\r\nvar rgbaTemplate = function (_a) {\r\n    var red = _a.red, green = _a.green, blue = _a.blue, _b = _a.alpha, alpha$$1 = _b === void 0 ? 1 : _b;\r\n    return \"rgba(\" + red + \", \" + green + \", \" + blue + \", \" + alpha$$1 + \")\";\r\n};\r\nvar hslaTemplate = function (_a) {\r\n    var hue = _a.hue, saturation = _a.saturation, lightness = _a.lightness, _b = _a.alpha, alpha$$1 = _b === void 0 ? 1 : _b;\r\n    return \"hsla(\" + hue + \", \" + saturation + \", \" + lightness + \", \" + alpha$$1 + \")\";\r\n};\r\nvar rgbUnit = __assign({}, number, { transform: function (v) { return Math.round(clampRgbUnit(v)); } });\r\nvar testRgbaString = isFirstChars('rgb');\r\nvar rgba = {\r\n    test: function (v) { return (typeof v === 'string' ? testRgbaString(v) : isRgba(v)); },\r\n    parse: splitColorValues(['red', 'green', 'blue', 'alpha']),\r\n    transform: function (_a) {\r\n        var red = _a.red, green = _a.green, blue = _a.blue, alpha$$1 = _a.alpha;\r\n        return rgbaTemplate({\r\n            red: rgbUnit.transform(red),\r\n            green: rgbUnit.transform(green),\r\n            blue: rgbUnit.transform(blue),\r\n            alpha: alpha$$1\r\n        });\r\n    }\r\n};\r\nvar testHslaString = isFirstChars('hsl');\r\nvar hsla = {\r\n    test: function (v) { return (typeof v === 'string' ? testHslaString(v) : isHsla(v)); },\r\n    parse: splitColorValues(['hue', 'saturation', 'lightness', 'alpha']),\r\n    transform: function (_a) {\r\n        var hue = _a.hue, saturation = _a.saturation, lightness = _a.lightness, alpha$$1 = _a.alpha;\r\n        return hslaTemplate({\r\n            hue: Math.round(hue),\r\n            saturation: percent.transform(saturation),\r\n            lightness: percent.transform(lightness),\r\n            alpha: alpha$$1\r\n        });\r\n    }\r\n};\r\nvar hex = __assign({}, rgba, { test: isFirstChars('#'), parse: function (v) {\r\n        var r = '';\r\n        var g = '';\r\n        var b = '';\r\n        if (v.length > 4) {\r\n            r = v.substr(1, 2);\r\n            g = v.substr(3, 2);\r\n            b = v.substr(5, 2);\r\n        }\r\n        else {\r\n            r = v.substr(1, 1);\r\n            g = v.substr(2, 1);\r\n            b = v.substr(3, 1);\r\n            r += r;\r\n            g += g;\r\n            b += b;\r\n        }\r\n        return {\r\n            red: parseInt(r, 16),\r\n            green: parseInt(g, 16),\r\n            blue: parseInt(b, 16),\r\n            alpha: 1\r\n        };\r\n    } });\r\nvar color = {\r\n    test: function (v) {\r\n        return (typeof v === 'string' && onlyColorRegex.test(v)) ||\r\n            rgba.test(v) ||\r\n            hsla.test(v) ||\r\n            hex.test(v);\r\n    },\r\n    parse: function (v) {\r\n        if (rgba.test(v)) {\r\n            return rgba.parse(v);\r\n        }\r\n        else if (hsla.test(v)) {\r\n            return hsla.parse(v);\r\n        }\r\n        else if (hex.test(v)) {\r\n            return hex.parse(v);\r\n        }\r\n        return v;\r\n    },\r\n    transform: function (v) {\r\n        if (isRgba(v)) {\r\n            return rgba.transform(v);\r\n        }\r\n        else if (isHsla(v)) {\r\n            return hsla.transform(v);\r\n        }\r\n        return v;\r\n    }\r\n};\n\nvar floatRegex = /(-)?(\\d[\\d\\.]*)/g;\r\nvar colorRegex = /(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))/gi;\r\nvar COLOR_TOKEN = '${c}';\r\nvar NUMBER_TOKEN = '${n}';\r\nvar complex = {\r\n    test: function (v) {\r\n        if (typeof v !== 'string')\r\n            return false;\r\n        var numValues = 0;\r\n        var foundNumbers = v.match(floatRegex);\r\n        var foundColors = v.match(colorRegex);\r\n        if (foundNumbers)\r\n            numValues += foundNumbers.length;\r\n        if (foundColors)\r\n            numValues += foundColors.length;\r\n        return numValues > 1;\r\n    },\r\n    parse: function (v) {\r\n        var input = v;\r\n        var parsed = [];\r\n        var foundColors = input.match(colorRegex);\r\n        if (foundColors) {\r\n            input = input.replace(colorRegex, COLOR_TOKEN);\r\n            parsed.push.apply(parsed, foundColors.map(color.parse));\r\n        }\r\n        var foundNumbers = input.match(floatRegex);\r\n        if (foundNumbers) {\r\n            parsed.push.apply(parsed, foundNumbers.map(number.parse));\r\n        }\r\n        return parsed;\r\n    },\r\n    createTransformer: function (prop) {\r\n        var template = prop;\r\n        var token = 0;\r\n        var foundColors = prop.match(colorRegex);\r\n        var numColors = foundColors ? foundColors.length : 0;\r\n        if (foundColors) {\r\n            for (var i = 0; i < numColors; i++) {\r\n                template = template.replace(foundColors[i], COLOR_TOKEN);\r\n                token++;\r\n            }\r\n        }\r\n        var foundNumbers = template.match(floatRegex);\r\n        var numNumbers = foundNumbers ? foundNumbers.length : 0;\r\n        if (foundNumbers) {\r\n            for (var i = 0; i < numNumbers; i++) {\r\n                template = template.replace(foundNumbers[i], NUMBER_TOKEN);\r\n                token++;\r\n            }\r\n        }\r\n        return function (v) {\r\n            var output = template;\r\n            for (var i = 0; i < token; i++) {\r\n                output = output.replace(i < numColors ? COLOR_TOKEN : NUMBER_TOKEN, i < numColors ? color.transform(v[i]) : v[i]);\r\n            }\r\n            return output;\r\n        };\r\n    }\r\n};\n\nexport { number, scale, alpha, degrees, percent, px, vw, vh, rgba, rgbUnit, hex, hsla, color, complex };\n","var HEY_LISTEN = 'Hey, listen! ';\r\nvar warning = function () { };\r\nvar invariant = function () { };\r\nif (process.env.NODE_ENV !== 'production') {\r\n    warning = function (check, message) {\r\n        if (!check && typeof console !== 'undefined') {\r\n            console.warn(HEY_LISTEN + message);\r\n        }\r\n    };\r\n    invariant = function (check, message) {\r\n        if (!check) {\r\n            throw new Error(HEY_LISTEN.toUpperCase() + message);\r\n        }\r\n    };\r\n}\n\nexport { warning, invariant };\n","import { onFrameRender } from 'framesync';\nimport { alpha, color, degrees, scale, px, percent } from 'style-value-types';\nimport { __assign } from 'tslib';\nimport { invariant } from 'hey-listen';\n\nvar createStyler = function (_a) {\n    var onRead = _a.onRead,\n        onRender = _a.onRender,\n        _b = _a.aliasMap,\n        aliasMap = _b === void 0 ? {} : _b,\n        _c = _a.useCache,\n        useCache = _c === void 0 ? true : _c;\n    return function (props) {\n        var state = {};\n        var changedValues = [];\n        var hasChanged = false;\n        var setValue = function (unmappedKey, value) {\n            var key = aliasMap[unmappedKey] || unmappedKey;\n            var currentValue = state[key];\n            state[key] = value;\n            if (state[key] !== currentValue) {\n                if (changedValues.indexOf(key) === -1) {\n                    changedValues.push(key);\n                }\n                if (!hasChanged) {\n                    hasChanged = true;\n                    onFrameRender(render);\n                }\n            }\n        };\n        function render(forceRender) {\n            if (forceRender === void 0) {\n                forceRender = false;\n            }\n            if (forceRender || hasChanged) {\n                onRender(state, props, changedValues);\n                hasChanged = false;\n                changedValues.length = 0;\n            }\n            return this;\n        }\n        return {\n            get: function (unmappedKey) {\n                var key = aliasMap[unmappedKey] || unmappedKey;\n                return key ? useCache && state[key] !== undefined ? state[key] : onRead(key, props) : state;\n            },\n            set: function (values, value) {\n                if (typeof values === 'string') {\n                    if (value !== undefined) {\n                        setValue(values, value);\n                    } else {\n                        return function (v) {\n                            return setValue(values, v);\n                        };\n                    }\n                } else {\n                    for (var key in values) {\n                        if (values.hasOwnProperty(key)) {\n                            setValue(key, values[key]);\n                        }\n                    }\n                }\n                return this;\n            },\n            render: render\n        };\n    };\n};\n\nvar CAMEL_CASE_PATTERN = /([a-z])([A-Z])/g;\nvar REPLACE_TEMPLATE = '$1-$2';\nvar camelToDash = function (str) {\n    return str.replace(CAMEL_CASE_PATTERN, REPLACE_TEMPLATE).toLowerCase();\n};\nvar setDomAttrs = function (element, attrs) {\n    for (var key in attrs) {\n        if (attrs.hasOwnProperty(key)) {\n            element.setAttribute(key, attrs[key]);\n        }\n    }\n};\n\nvar camelCache = /*#__PURE__*/new Map();\nvar dashCache = /*#__PURE__*/new Map();\nvar prefixes = ['Webkit', 'Moz', 'O', 'ms', ''];\nvar numPrefixes = prefixes.length;\nvar testElement;\nvar testPrefix = function (key) {\n    if (typeof document === 'undefined') return;\n    testElement = testElement || document.createElement('div');\n    for (var i = 0; i < numPrefixes; i++) {\n        var prefix = prefixes[i];\n        var noPrefix = prefix === '';\n        var prefixedPropertyName = noPrefix ? key : prefix + key.charAt(0).toUpperCase() + key.slice(1);\n        if (prefixedPropertyName in testElement.style) {\n            camelCache.set(key, prefixedPropertyName);\n            dashCache.set(key, \"\" + (noPrefix ? '' : '-') + camelToDash(prefixedPropertyName));\n        }\n    }\n};\nvar prefixer = function (key, asDashCase) {\n    if (asDashCase === void 0) {\n        asDashCase = false;\n    }\n    var cache = asDashCase ? dashCache : camelCache;\n    if (!cache.has(key)) testPrefix(key);\n    return cache.get(key) || key;\n};\n\nvar axes = ['', 'X', 'Y', 'Z'];\nvar order = ['translate', 'scale', 'rotate', 'skew', 'transformPerspective'];\nvar TRANSFORM_ORIGIN_X = 'transformOriginX';\nvar TRANSFORM_ORIGIN_Y = 'transformOriginY';\nvar transformProps = /*#__PURE__*/order.reduce(function (acc, key) {\n    return axes.reduce(function (axesAcc, axesKey) {\n        axesAcc.push(key + axesKey);\n        return axesAcc;\n    }, acc);\n}, ['x', 'y', 'z']);\nvar transformPropDictionary = /*#__PURE__*/transformProps.reduce(function (dict, key) {\n    dict[key] = true;\n    return dict;\n}, {});\nvar isTransformProp = function (key) {\n    return transformPropDictionary[key] === true;\n};\nvar sortTransformProps = function (a, b) {\n    return transformProps.indexOf(a) - transformProps.indexOf(b);\n};\nvar isTransformOriginProp = function (key) {\n    return key === TRANSFORM_ORIGIN_X || key === TRANSFORM_ORIGIN_Y;\n};\n\nvar valueTypes = {\n    color: color,\n    backgroundColor: color,\n    outlineColor: color,\n    fill: color,\n    stroke: color,\n    borderColor: color,\n    borderTopColor: color,\n    borderRightColor: color,\n    borderBottomColor: color,\n    borderLeftColor: color,\n    borderRadius: px,\n    width: px,\n    maxWidth: px,\n    height: px,\n    maxHeight: px,\n    top: px,\n    left: px,\n    bottom: px,\n    right: px,\n    rotate: degrees,\n    rotateX: degrees,\n    rotateY: degrees,\n    rotateZ: degrees,\n    scale: scale,\n    scaleX: scale,\n    scaleY: scale,\n    scaleZ: scale,\n    skewX: degrees,\n    skewY: degrees,\n    distance: px,\n    translateX: px,\n    translateY: px,\n    translateZ: px,\n    perspective: px,\n    opacity: alpha,\n    transformOriginX: percent,\n    transformOriginY: percent,\n    transformOriginZ: px\n};\nvar getValueType = function (key) {\n    return valueTypes[key];\n};\n\nvar aliasMap = {\n    x: 'translateX',\n    y: 'translateY',\n    z: 'translateZ',\n    originX: 'transformOriginX',\n    originY: 'transformOriginY',\n    originZ: 'transformOriginZ'\n};\nvar NUMBER = 'number';\nvar OBJECT = 'object';\nvar COLON = ':';\nvar SEMI_COLON = ';';\nvar TRANSFORM_ORIGIN = 'transform-origin';\nvar TRANSFORM = 'transform';\nvar TRANSLATE_Z = 'translateZ';\nvar TRANSFORM_NONE = ';transform: none';\nvar styleRule = function (key, value) {\n    return \"\" + SEMI_COLON + key + COLON + value;\n};\nfunction buildStylePropertyString(state, changedValues, enableHardwareAcceleration, blacklist) {\n    if (changedValues === void 0) {\n        changedValues = true;\n    }\n    if (enableHardwareAcceleration === void 0) {\n        enableHardwareAcceleration = true;\n    }\n    var valuesToChange = changedValues === true ? Object.keys(state) : changedValues;\n    var propertyString = '';\n    var transformString = '';\n    var hasTransformOrigin = false;\n    var transformIsDefault = true;\n    var hasTransform = false;\n    var transformHasZ = false;\n    var numChangedValues = valuesToChange.length;\n    for (var i = 0; i < numChangedValues; i++) {\n        var key = valuesToChange[i];\n        if (isTransformProp(key)) {\n            hasTransform = true;\n            for (var stateKey in state) {\n                if (isTransformProp(stateKey) && valuesToChange.indexOf(stateKey) === -1) {\n                    valuesToChange.push(stateKey);\n                }\n            }\n            break;\n        }\n    }\n    valuesToChange.sort(sortTransformProps);\n    var totalNumChangedValues = valuesToChange.length;\n    for (var i = 0; i < totalNumChangedValues; i++) {\n        var key = valuesToChange[i];\n        if (blacklist.has(key)) continue;\n        var isTransformKey = isTransformProp(key);\n        var value = state[key];\n        var valueType = getValueType(key);\n        if (isTransformKey) {\n            if (valueType.default && value !== valueType.default || !valueType.default && value !== 0) {\n                transformIsDefault = false;\n            }\n        }\n        if (valueType && (typeof value === NUMBER || typeof value === OBJECT) && valueType.transform) {\n            value = valueType.transform(value);\n        }\n        if (isTransformKey) {\n            transformString += key + '(' + value + ') ';\n            transformHasZ = key === TRANSLATE_Z ? true : transformHasZ;\n        } else if (isTransformOriginProp(key)) {\n            state[key] = value;\n            hasTransformOrigin = true;\n        } else {\n            propertyString += styleRule(prefixer(key, true), value);\n        }\n    }\n    if (hasTransformOrigin) {\n        propertyString += styleRule(TRANSFORM_ORIGIN, (state.transformOriginX || 0) + \" \" + (state.transformOriginY || 0) + \" \" + (state.transformOriginZ || 0));\n    }\n    if (hasTransform) {\n        if (!transformHasZ && enableHardwareAcceleration) {\n            transformString += TRANSLATE_Z + \"(0)\";\n        }\n        propertyString += styleRule(TRANSFORM, transformIsDefault ? TRANSFORM_NONE : transformString);\n    }\n    return propertyString;\n}\n\nvar SCROLL_LEFT = 'scrollLeft';\nvar SCROLL_TOP = 'scrollTop';\nvar scrollValues = /*#__PURE__*/new Set([SCROLL_LEFT, SCROLL_TOP]);\nvar cssStyler = /*#__PURE__*/createStyler({\n    onRead: function (key, _a) {\n        var element = _a.element,\n            preparseOutput = _a.preparseOutput;\n        var valueType = getValueType(key);\n        if (isTransformProp(key)) {\n            return valueType ? valueType.default || 0 : 0;\n        } else if (scrollValues.has(key)) {\n            return element[key];\n        } else {\n            var domValue = window.getComputedStyle(element, null).getPropertyValue(prefixer(key, true)) || 0;\n            return preparseOutput && valueType && valueType.parse ? valueType.parse(domValue) : domValue;\n        }\n    },\n    onRender: function (state, _a, changedValues) {\n        var element = _a.element,\n            enableHardwareAcceleration = _a.enableHardwareAcceleration;\n        element.style.cssText += buildStylePropertyString(state, changedValues, enableHardwareAcceleration, scrollValues);\n        if (changedValues.indexOf(SCROLL_LEFT) !== -1) element.scrollLeft = state.scrollLeft;\n        if (changedValues.indexOf(SCROLL_TOP) !== -1) element.scrollTop = state.scrollTop;\n    },\n    aliasMap: aliasMap,\n    uncachedValues: scrollValues\n});\nvar css = function (element, props) {\n    return cssStyler(__assign({ element: element, enableHardwareAcceleration: true, preparseOutput: true }, props));\n};\n\nvar ZERO_NOT_ZERO = 0.0000001;\nvar percentToPixels = function (percent$$1, length) {\n    return percent$$1 / 100 * length + 'px';\n};\nvar build = function (state, dimensions, isPath, pathLength) {\n    var hasTransform = false;\n    var hasDashArray = false;\n    var props = {};\n    var dashArrayStyles = isPath ? {\n        pathLength: '0',\n        pathSpacing: \"\" + pathLength\n    } : undefined;\n    var scale$$1 = state.scale !== undefined ? state.scale || ZERO_NOT_ZERO : state.scaleX || 1;\n    var scaleY = state.scaleY !== undefined ? state.scaleY || ZERO_NOT_ZERO : scale$$1 || 1;\n    var transformOriginX = dimensions.width * ((state.originX || 50) / 100) + dimensions.x;\n    var transformOriginY = dimensions.height * ((state.originY || 50) / 100) + dimensions.y;\n    var scaleTransformX = -transformOriginX * (scale$$1 * 1);\n    var scaleTransformY = -transformOriginY * (scaleY * 1);\n    var scaleReplaceX = transformOriginX / scale$$1;\n    var scaleReplaceY = transformOriginY / scaleY;\n    var transform = {\n        translate: \"translate(\" + state.translateX + \", \" + state.translateY + \") \",\n        scale: \"translate(\" + scaleTransformX + \", \" + scaleTransformY + \") scale(\" + scale$$1 + \", \" + scaleY + \") translate(\" + scaleReplaceX + \", \" + scaleReplaceY + \") \",\n        rotate: \"rotate(\" + state.rotate + \", \" + transformOriginX + \", \" + transformOriginY + \") \",\n        skewX: \"skewX(\" + state.skewX + \") \",\n        skewY: \"skewY(\" + state.skewY + \") \"\n    };\n    for (var key in state) {\n        if (state.hasOwnProperty(key)) {\n            var value = state[key];\n            if (isTransformProp(key)) {\n                hasTransform = true;\n            } else if (isPath && (key === 'pathLength' || key === 'pathSpacing') && typeof value === 'number') {\n                hasDashArray = true;\n                dashArrayStyles[key] = percentToPixels(value, pathLength);\n            } else if (isPath && key === 'pathOffset') {\n                props['stroke-dashoffset'] = percentToPixels(-value, pathLength);\n            } else {\n                props[camelToDash(key)] = value;\n            }\n        }\n    }\n    if (hasDashArray) {\n        props['stroke-dasharray'] = dashArrayStyles.pathLength + ' ' + dashArrayStyles.pathSpacing;\n    }\n    if (hasTransform) {\n        props.transform = '';\n        for (var key in transform) {\n            if (transform.hasOwnProperty(key)) {\n                var defaultValue = key === 'scale' ? '1' : '0';\n                props.transform += transform[key].replace(/undefined/g, defaultValue);\n            }\n        }\n    }\n    return props;\n};\n\nvar valueTypes$1 = {\n    fill: color,\n    stroke: color,\n    scale: scale,\n    scaleX: scale,\n    scaleY: scale,\n    opacity: alpha,\n    fillOpacity: alpha,\n    strokeOpacity: alpha\n};\nvar getValueType$1 = function (key) {\n    return valueTypes$1[key];\n};\n\nvar svgStyler = /*#__PURE__*/createStyler({\n    onRead: function (key, _a) {\n        var element = _a.element;\n        if (!isTransformProp(key)) {\n            return element.getAttribute(key);\n        } else {\n            var valueType = getValueType$1(key);\n            return valueType ? valueType.default : 0;\n        }\n    },\n    onRender: function (state, _a, changedValues) {\n        var dimensions = _a.dimensions,\n            element = _a.element,\n            isPath = _a.isPath,\n            pathLength = _a.pathLength;\n        setDomAttrs(element, build(state, dimensions, isPath, pathLength));\n    },\n    aliasMap: {\n        x: 'translateX',\n        y: 'translateY',\n        background: 'fill'\n    }\n});\nvar svg = function (element) {\n    var _a = element.getBBox(),\n        x = _a.x,\n        y = _a.y,\n        width = _a.width,\n        height = _a.height;\n    var props = {\n        element: element,\n        dimensions: { x: x, y: y, width: width, height: height },\n        isPath: false\n    };\n    if (element.tagName === 'path') {\n        props.isPath = true;\n        props.pathLength = element.getTotalLength();\n    }\n    return svgStyler(props);\n};\n\nvar viewport = /*#__PURE__*/createStyler({\n    useCache: false,\n    onRead: function (key) {\n        return key === 'scrollTop' ? window.pageYOffset : window.pageXOffset;\n    },\n    onRender: function (_a) {\n        var _b = _a.scrollTop,\n            scrollTop = _b === void 0 ? 0 : _b,\n            _c = _a.scrollLeft,\n            scrollLeft = _c === void 0 ? 0 : _c;\n        return window.scrollTo(scrollLeft, scrollTop);\n    }\n});\n\nvar cache = /*#__PURE__*/new WeakMap();\nvar createDOMStyler = function (node, props) {\n    var styler;\n    if (node instanceof HTMLElement) {\n        styler = css(node, props);\n    } else if (node instanceof SVGElement) {\n        styler = svg(node);\n    } else if (typeof window !== 'undefined' && node === window) {\n        styler = viewport(node);\n    }\n    invariant(styler !== undefined, 'No valid node provided. Node must be HTMLElement, SVGElement or window.');\n    cache.set(node, styler);\n    return styler;\n};\nvar getStyler = function (node, props) {\n    return cache.has(node) ? cache.get(node) : createDOMStyler(node, props);\n};\nfunction index(nodeOrSelector, props) {\n    var node = typeof nodeOrSelector === 'string' ? document.querySelector(nodeOrSelector) : nodeOrSelector;\n    return getStyler(node, props);\n}\n\nexport default index;\nexport { createStyler as createStylerFactory, buildStylePropertyString as buildStyles };\n","import { __rest, __extends, __assign } from 'tslib';\nimport { currentFrameTime, timeSinceLastFrame, onFrameEnd, onFrameUpdate, currentTime, cancelOnFrameUpdate } from 'framesync';\nimport * as styleValueTypes from 'style-value-types';\nimport { color, hsla, complex, percent, degrees, vh, vw, px, number } from 'style-value-types';\nexport { styleValueTypes as valueTypes };\nimport { invariant, warning } from 'hey-listen';\nimport styler from 'stylefire';\nexport { default as styler } from 'stylefire';\n\nvar isNum = function (v) {\n    return typeof v === 'number';\n};\nvar isPoint = function (point) {\n    return point.x !== undefined && point.y !== undefined;\n};\nvar isPoint3D = function (point) {\n    return point.z !== undefined;\n};\nvar toDecimal = function (num, precision) {\n    if (precision === void 0) {\n        precision = 2;\n    }\n    precision = Math.pow(10, precision);\n    return Math.round(num * precision) / precision;\n};\nvar ZERO_POINT = {\n    x: 0,\n    y: 0,\n    z: 0\n};\nvar distance1D = function (a, b) {\n    return Math.abs(a - b);\n};\nvar angle = function (a, b) {\n    if (b === void 0) {\n        b = ZERO_POINT;\n    }\n    return radiansToDegrees(Math.atan2(b.y - a.y, b.x - a.x));\n};\nvar degreesToRadians = function (degrees$$1) {\n    return degrees$$1 * Math.PI / 180;\n};\nvar dilate = function (a, b, dilation) {\n    return a + (b - a) * dilation;\n};\nvar distance = function (a, b) {\n    if (b === void 0) {\n        b = ZERO_POINT;\n    }\n    if (isNum(a) && isNum(b)) {\n        return distance1D(a, b);\n    } else if (isPoint(a) && isPoint(b)) {\n        var xDelta = distance1D(a.x, b.x);\n        var yDelta = distance1D(a.y, b.y);\n        var zDelta = isPoint3D(a) && isPoint3D(b) ? distance1D(a.z, b.z) : 0;\n        return Math.sqrt(Math.pow(xDelta, 2) + Math.pow(yDelta, 2) + Math.pow(zDelta, 2));\n    }\n    return 0;\n};\nvar getProgressFromValue = function (from, to, value) {\n    var toFromDifference = to - from;\n    return toFromDifference === 0 ? 1 : (value - from) / toFromDifference;\n};\nvar getValueFromProgress = function (from, to, progress) {\n    return -progress * from + progress * to + from;\n};\nvar pointFromAngleAndDistance = function (origin, angle, distance) {\n    angle = degreesToRadians(angle);\n    return {\n        x: distance * Math.cos(angle) + origin.x,\n        y: distance * Math.sin(angle) + origin.y\n    };\n};\nvar radiansToDegrees = function (radians) {\n    return radians * 180 / Math.PI;\n};\nvar smooth = function (newValue, oldValue, duration, smoothing) {\n    if (smoothing === void 0) {\n        smoothing = 0;\n    }\n    return toDecimal(oldValue + duration * (newValue - oldValue) / Math.max(smoothing, duration));\n};\nvar speedPerFrame = function (xps, frameDuration) {\n    return isNum(xps) ? xps / (1000 / frameDuration) : 0;\n};\nvar speedPerSecond = function (velocity, frameDuration) {\n    return frameDuration ? velocity * (1000 / frameDuration) : 0;\n};\nvar stepProgress = function (steps, progress) {\n    var segment = 1 / (steps - 1);\n    var target = 1 - 1 / steps;\n    var progressOfTarget = Math.min(progress / target, 1);\n    return Math.floor(progressOfTarget / segment) * segment;\n};\n\nvar calc = /*#__PURE__*/Object.freeze({\n    isPoint: isPoint,\n    isPoint3D: isPoint3D,\n    angle: angle,\n    degreesToRadians: degreesToRadians,\n    dilate: dilate,\n    distance: distance,\n    getProgressFromValue: getProgressFromValue,\n    getValueFromProgress: getValueFromProgress,\n    pointFromAngleAndDistance: pointFromAngleAndDistance,\n    radiansToDegrees: radiansToDegrees,\n    smooth: smooth,\n    speedPerFrame: speedPerFrame,\n    speedPerSecond: speedPerSecond,\n    stepProgress: stepProgress\n});\n\nvar noop = function (v) {\n    return v;\n};\nvar appendUnit = function (unit) {\n    return function (v) {\n        return \"\" + v + unit;\n    };\n};\nvar applyOffset = function (from, to) {\n    var hasReceivedFrom = true;\n    if (to === undefined) {\n        to = from;\n        hasReceivedFrom = false;\n    }\n    var getOffset = function (v) {\n        return v - from;\n    };\n    var applyOffsetTo = function (v) {\n        return v + to;\n    };\n    return function (v) {\n        if (hasReceivedFrom) {\n            return applyOffsetTo(getOffset(v));\n        } else {\n            from = v;\n            hasReceivedFrom = true;\n            return to;\n        }\n    };\n};\nvar blend = function (from, to, v) {\n    var fromExpo = from * from;\n    var toExpo = to * to;\n    return Math.sqrt(v * (toExpo - fromExpo) + fromExpo);\n};\nvar blendColor = function (from, to) {\n    var fromColor = typeof from === 'string' ? color.parse(from) : from;\n    var toColor = typeof to === 'string' ? color.parse(to) : to;\n    var blended = __assign({}, fromColor);\n    var blendFunc = from.hue !== undefined || typeof from === 'string' && hsla.test(from) ? getValueFromProgress : blend;\n    return function (v) {\n        blended = __assign({}, blended);\n        for (var key in blended) {\n            if (key !== 'alpha' && blended.hasOwnProperty(key)) {\n                blended[key] = blendFunc(fromColor[key], toColor[key], v);\n            }\n        }\n        blended.alpha = getValueFromProgress(fromColor.alpha, toColor.alpha, v);\n        return blended;\n    };\n};\nvar blendArray = function (from, to) {\n    var output = from.slice();\n    var numValues = output.length;\n    var blendValue = from.map(function (fromThis, i) {\n        var toThis = to[i];\n        return typeof fromThis === 'number' ? function (v) {\n            return getValueFromProgress(fromThis, toThis, v);\n        } : blendColor(fromThis, toThis);\n    });\n    return function (v) {\n        for (var i = 0; i < numValues; i++) {\n            output[i] = blendValue[i](v);\n        }\n        return output;\n    };\n};\nvar clamp = function (min, max) {\n    return function (v) {\n        return Math.min(Math.max(v, min), max);\n    };\n};\nvar combineFunctions = function (a, b) {\n    return function (v) {\n        return b(a(v));\n    };\n};\nvar pipe = function () {\n    var transformers = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        transformers[_i] = arguments[_i];\n    }\n    return transformers.reduce(combineFunctions);\n};\nvar conditional = function (check, apply) {\n    return function (v) {\n        return check(v) ? apply(v) : v;\n    };\n};\nvar slowInterpolate = function (input, output, rangeLength, rangeEasing) {\n    var finalIndex = rangeLength - 1;\n    if (input[0] > input[finalIndex]) {\n        input.reverse();\n        output.reverse();\n    }\n    return function (v) {\n        if (v <= input[0]) {\n            return output[0];\n        }\n        if (v >= input[finalIndex]) {\n            return output[finalIndex];\n        }\n        var i = 1;\n        for (; i < rangeLength; i++) {\n            if (input[i] > v || i === finalIndex) {\n                break;\n            }\n        }\n        var progressInRange = getProgressFromValue(input[i - 1], input[i], v);\n        var easedProgress = rangeEasing ? rangeEasing[i - 1](progressInRange) : progressInRange;\n        return getValueFromProgress(output[i - 1], output[i], easedProgress);\n    };\n};\nvar fastInterpolate = function (minA, maxA, minB, maxB) {\n    return function (v) {\n        return (v - minA) * (maxB - minB) / (maxA - minA) + minB;\n    };\n};\nvar interpolate = function (input, output, rangeEasing) {\n    var rangeLength = input.length;\n    return rangeLength !== 2 ? slowInterpolate(input, output, rangeLength, rangeEasing) : fastInterpolate(input[0], input[1], output[0], output[1]);\n};\nvar generateStaticSpring = function (alterDisplacement) {\n    if (alterDisplacement === void 0) {\n        alterDisplacement = noop;\n    }\n    return function (constant, origin) {\n        return function (v) {\n            var displacement = origin - v;\n            var springModifiedDisplacement = -constant * (0 - alterDisplacement(Math.abs(displacement)));\n            return displacement <= 0 ? origin + springModifiedDisplacement : origin - springModifiedDisplacement;\n        };\n    };\n};\nvar linearSpring = /*#__PURE__*/generateStaticSpring();\nvar nonlinearSpring = /*#__PURE__*/generateStaticSpring(Math.sqrt);\nvar wrap = function (min, max) {\n    return function (v) {\n        var rangeSize = max - min;\n        return ((v - min) % rangeSize + rangeSize) % rangeSize + min;\n    };\n};\nvar smooth$1 = function (strength) {\n    if (strength === void 0) {\n        strength = 50;\n    }\n    var previousValue = 0;\n    var lastUpdated = 0;\n    return function (v) {\n        var currentFramestamp = currentFrameTime();\n        var timeDelta = currentFramestamp !== lastUpdated ? currentFramestamp - lastUpdated : 0;\n        var newValue = timeDelta ? smooth(v, previousValue, timeDelta, strength) : previousValue;\n        lastUpdated = currentFramestamp;\n        previousValue = newValue;\n        return newValue;\n    };\n};\nvar snap = function (points) {\n    if (typeof points === 'number') {\n        return function (v) {\n            return Math.round(v / points) * points;\n        };\n    } else {\n        var i_1 = 0;\n        var numPoints_1 = points.length;\n        return function (v) {\n            var lastDistance = Math.abs(points[0] - v);\n            for (i_1 = 1; i_1 < numPoints_1; i_1++) {\n                var point = points[i_1];\n                var distance$$1 = Math.abs(point - v);\n                if (distance$$1 === 0) return point;\n                if (distance$$1 > lastDistance) return points[i_1 - 1];\n                if (i_1 === numPoints_1 - 1) return point;\n                lastDistance = distance$$1;\n            }\n        };\n    }\n};\nvar steps = function (st, min, max) {\n    if (min === void 0) {\n        min = 0;\n    }\n    if (max === void 0) {\n        max = 1;\n    }\n    return function (v) {\n        var progress = getProgressFromValue(min, max, v);\n        return getValueFromProgress(min, max, stepProgress(st, progress));\n    };\n};\nvar transformMap = function (childTransformers) {\n    return function (v) {\n        var output = __assign({}, v);\n        for (var key in childTransformers) {\n            if (childTransformers.hasOwnProperty(key)) {\n                var childTransformer = childTransformers[key];\n                output[key] = childTransformer(v[key]);\n            }\n        }\n        return output;\n    };\n};\n\nvar transformers = /*#__PURE__*/Object.freeze({\n    appendUnit: appendUnit,\n    applyOffset: applyOffset,\n    blendColor: blendColor,\n    blendArray: blendArray,\n    clamp: clamp,\n    pipe: pipe,\n    conditional: conditional,\n    interpolate: interpolate,\n    generateStaticSpring: generateStaticSpring,\n    linearSpring: linearSpring,\n    nonlinearSpring: nonlinearSpring,\n    wrap: wrap,\n    smooth: smooth$1,\n    snap: snap,\n    steps: steps,\n    transformMap: transformMap\n});\n\nvar Chainable = /*#__PURE__*/function () {\n    function Chainable(props) {\n        if (props === void 0) {\n            props = {};\n        }\n        this.props = props;\n    }\n    Chainable.prototype.applyMiddleware = function (middleware) {\n        return this.create(__assign({}, this.props, { middleware: this.props.middleware ? [middleware].concat(this.props.middleware) : [middleware] }));\n    };\n    Chainable.prototype.pipe = function () {\n        var funcs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            funcs[_i] = arguments[_i];\n        }\n        var pipedUpdate = funcs.length === 1 ? funcs[0] : pipe.apply(void 0, funcs);\n        return this.applyMiddleware(function (update) {\n            return function (v) {\n                return update(pipedUpdate(v));\n            };\n        });\n    };\n    Chainable.prototype.while = function (predicate) {\n        return this.applyMiddleware(function (update, complete) {\n            return function (v) {\n                return predicate(v) ? update(v) : complete();\n            };\n        });\n    };\n    Chainable.prototype.filter = function (predicate) {\n        return this.applyMiddleware(function (update, complete) {\n            return function (v) {\n                return predicate(v) && update(v);\n            };\n        });\n    };\n    return Chainable;\n}();\n\nvar Observer = /*#__PURE__*/function () {\n    function Observer(_a, observer) {\n        var middleware = _a.middleware,\n            onComplete = _a.onComplete;\n        var _this = this;\n        this.isActive = true;\n        this.update = function (v) {\n            if (_this.observer.update) _this.updateObserver(v);\n        };\n        this.complete = function () {\n            if (_this.observer.complete && _this.isActive) _this.observer.complete();\n            if (_this.onComplete) _this.onComplete();\n            _this.isActive = false;\n        };\n        this.error = function (err) {\n            if (_this.observer.error && _this.isActive) _this.observer.error(err);\n            _this.isActive = false;\n        };\n        this.observer = observer;\n        this.updateObserver = function (v) {\n            return observer.update(v);\n        };\n        this.onComplete = onComplete;\n        if (observer.update && middleware && middleware.length) {\n            middleware.forEach(function (m) {\n                return _this.updateObserver = m(_this.updateObserver, _this.complete);\n            });\n        }\n    }\n    return Observer;\n}();\nvar createObserver = function (observerCandidate, _a, onComplete) {\n    var middleware = _a.middleware;\n    if (typeof observerCandidate === 'function') {\n        return new Observer({ middleware: middleware, onComplete: onComplete }, { update: observerCandidate });\n    } else {\n        return new Observer({ middleware: middleware, onComplete: onComplete }, observerCandidate);\n    }\n};\n\nvar Action = /*#__PURE__*/function (_super) {\n    __extends(Action, _super);\n    function Action() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Action.prototype.create = function (props) {\n        return new Action(props);\n    };\n    Action.prototype.start = function (observerCandidate) {\n        if (observerCandidate === void 0) {\n            observerCandidate = {};\n        }\n        var isComplete = false;\n        var subscription = {\n            stop: function () {\n                return undefined;\n            }\n        };\n        var _a = this.props,\n            init = _a.init,\n            observerProps = __rest(_a, [\"init\"]);\n        var observer = createObserver(observerCandidate, observerProps, function () {\n            isComplete = true;\n            subscription.stop();\n        });\n        var api = init(observer);\n        subscription = api ? __assign({}, subscription, api) : subscription;\n        if (observerCandidate.registerParent) {\n            observerCandidate.registerParent(subscription);\n        }\n        if (isComplete) subscription.stop();\n        return subscription;\n    };\n    return Action;\n}(Chainable);\nvar action = function (init) {\n    return new Action({ init: init });\n};\n\nvar BaseMulticast = /*#__PURE__*/function (_super) {\n    __extends(BaseMulticast, _super);\n    function BaseMulticast() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.subscribers = [];\n        return _this;\n    }\n    BaseMulticast.prototype.complete = function () {\n        this.subscribers.forEach(function (subscriber) {\n            return subscriber.complete();\n        });\n    };\n    BaseMulticast.prototype.error = function (err) {\n        this.subscribers.forEach(function (subscriber) {\n            return subscriber.error(err);\n        });\n    };\n    BaseMulticast.prototype.update = function (v) {\n        for (var i = 0; i < this.subscribers.length; i++) {\n            this.subscribers[i].update(v);\n        }\n    };\n    BaseMulticast.prototype.subscribe = function (observerCandidate) {\n        var _this = this;\n        var observer = createObserver(observerCandidate, this.props);\n        this.subscribers.push(observer);\n        var subscription = {\n            unsubscribe: function () {\n                var index = _this.subscribers.indexOf(observer);\n                if (index !== -1) _this.subscribers.splice(index, 1);\n            }\n        };\n        return subscription;\n    };\n    BaseMulticast.prototype.stop = function () {\n        if (this.parent) this.parent.stop();\n    };\n    BaseMulticast.prototype.registerParent = function (subscription) {\n        this.stop();\n        this.parent = subscription;\n    };\n    return BaseMulticast;\n}(Chainable);\n\nvar Multicast = /*#__PURE__*/function (_super) {\n    __extends(Multicast, _super);\n    function Multicast() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Multicast.prototype.create = function (props) {\n        return new Multicast(props);\n    };\n    return Multicast;\n}(BaseMulticast);\nvar multicast = function () {\n    return new Multicast();\n};\n\nvar isValueList = function (v) {\n    return Array.isArray(v);\n};\nvar isSingleValue = function (v) {\n    var typeOfV = typeof v;\n    return typeOfV === 'string' || typeOfV === 'number';\n};\nvar ValueReaction = /*#__PURE__*/function (_super) {\n    __extends(ValueReaction, _super);\n    function ValueReaction(props) {\n        var _this = _super.call(this, props) || this;\n        _this.scheduleVelocityCheck = function () {\n            return onFrameEnd(_this.velocityCheck);\n        };\n        _this.velocityCheck = function () {\n            if (currentFrameTime() !== _this.lastUpdated) {\n                _this.prev = _this.current;\n            }\n        };\n        _this.prev = _this.current = props.value || 0;\n        if (isSingleValue(_this.current)) {\n            _this.updateCurrent = function (v) {\n                return _this.current = v;\n            };\n            _this.getVelocityOfCurrent = function () {\n                return _this.getSingleVelocity(_this.current, _this.prev);\n            };\n        } else if (isValueList(_this.current)) {\n            _this.updateCurrent = function (v) {\n                return _this.current = v.slice();\n            };\n            _this.getVelocityOfCurrent = function () {\n                return _this.getListVelocity();\n            };\n        } else {\n            _this.updateCurrent = function (v) {\n                _this.current = {};\n                for (var key in v) {\n                    if (v.hasOwnProperty(key)) {\n                        _this.current[key] = v[key];\n                    }\n                }\n            };\n            _this.getVelocityOfCurrent = function () {\n                return _this.getMapVelocity();\n            };\n        }\n        if (props.initialSubscription) _this.subscribe(props.initialSubscription);\n        return _this;\n    }\n    ValueReaction.prototype.create = function (props) {\n        return new ValueReaction(props);\n    };\n    ValueReaction.prototype.get = function () {\n        return this.current;\n    };\n    ValueReaction.prototype.getVelocity = function () {\n        return this.getVelocityOfCurrent();\n    };\n    ValueReaction.prototype.update = function (v) {\n        _super.prototype.update.call(this, v);\n        this.prev = this.current;\n        this.updateCurrent(v);\n        this.timeDelta = timeSinceLastFrame();\n        this.lastUpdated = currentFrameTime();\n        onFrameEnd(this.scheduleVelocityCheck);\n    };\n    ValueReaction.prototype.subscribe = function (observerCandidate) {\n        var sub = _super.prototype.subscribe.call(this, observerCandidate);\n        this.update(this.current);\n        return sub;\n    };\n    ValueReaction.prototype.getSingleVelocity = function (current, prev) {\n        return typeof current === 'number' && typeof prev === 'number' ? speedPerSecond(current - prev, this.timeDelta) : speedPerSecond(parseFloat(current) - parseFloat(prev), this.timeDelta) || 0;\n    };\n    ValueReaction.prototype.getListVelocity = function () {\n        var _this = this;\n        return this.current.map(function (c, i) {\n            return _this.getSingleVelocity(c, _this.prev[i]);\n        });\n    };\n    ValueReaction.prototype.getMapVelocity = function () {\n        var velocity = {};\n        for (var key in this.current) {\n            if (this.current.hasOwnProperty(key)) {\n                velocity[key] = this.getSingleVelocity(this.current[key], this.prev[key]);\n            }\n        }\n        return velocity;\n    };\n    return ValueReaction;\n}(BaseMulticast);\nvar value = function (value, initialSubscription) {\n    return new ValueReaction({ value: value, initialSubscription: initialSubscription });\n};\n\nvar multi = function (_a) {\n    var getCount = _a.getCount,\n        getFirst = _a.getFirst,\n        getOutput = _a.getOutput,\n        mapApi = _a.mapApi,\n        setProp = _a.setProp,\n        startActions = _a.startActions;\n    return function (actions) {\n        return action(function (_a) {\n            var update = _a.update,\n                complete = _a.complete,\n                error = _a.error;\n            var numActions = getCount(actions);\n            var output = getOutput();\n            var updateOutput = function () {\n                return update(output);\n            };\n            var numCompletedActions = 0;\n            var subs = startActions(actions, function (a, name) {\n                var hasCompleted = false;\n                return a.start({\n                    complete: function () {\n                        if (!hasCompleted) {\n                            hasCompleted = true;\n                            numCompletedActions++;\n                            if (numCompletedActions === numActions) onFrameUpdate(complete);\n                        }\n                    },\n                    error: error,\n                    update: function (v) {\n                        setProp(output, name, v);\n                        onFrameUpdate(updateOutput, true);\n                    }\n                });\n            });\n            return Object.keys(getFirst(subs)).reduce(function (api, methodName) {\n                api[methodName] = mapApi(subs, methodName);\n                return api;\n            }, {});\n        });\n    };\n};\n\nvar composite = /*#__PURE__*/multi({\n    getOutput: function () {\n        return {};\n    },\n    getCount: function (subs) {\n        return Object.keys(subs).length;\n    },\n    getFirst: function (subs) {\n        return subs[Object.keys(subs)[0]];\n    },\n    mapApi: function (subs, methodName) {\n        return function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return Object.keys(subs).reduce(function (output, propKey) {\n                if (subs[propKey][methodName]) {\n                    args[0] && args[0][propKey] !== undefined ? output[propKey] = subs[propKey][methodName](args[0][propKey]) : output[propKey] = (_a = subs[propKey])[methodName].apply(_a, args);\n                }\n                return output;\n                var _a;\n            }, {});\n        };\n    },\n    setProp: function (output, name, v) {\n        return output[name] = v;\n    },\n    startActions: function (actions, starter) {\n        return Object.keys(actions).reduce(function (subs, key) {\n            subs[key] = starter(actions[key], key);\n            return subs;\n        }, {});\n    }\n});\n\nvar parallel = /*#__PURE__*/multi({\n    getOutput: function () {\n        return [];\n    },\n    getCount: function (subs) {\n        return subs.length;\n    },\n    getFirst: function (subs) {\n        return subs[0];\n    },\n    mapApi: function (subs, methodName) {\n        return function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return subs.map(function (sub, i) {\n                if (sub[methodName]) {\n                    return Array.isArray(args[0]) ? sub[methodName](args[0][i]) : sub[methodName].apply(sub, args);\n                }\n            });\n        };\n    },\n    setProp: function (output, name, v) {\n        return output[name] = v;\n    },\n    startActions: function (actions, starter) {\n        return actions.map(function (action, i) {\n            return starter(action, i);\n        });\n    }\n});\nvar parallel$1 = function () {\n    var actions = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        actions[_i] = arguments[_i];\n    }\n    return parallel(actions);\n};\n\nvar createVectorTests = function (typeTests) {\n    var testNames = Object.keys(typeTests);\n    var isVectorProp = function (prop, key) {\n        return prop !== undefined && !typeTests[key](prop);\n    };\n    var getVectorKeys = function (props) {\n        return testNames.reduce(function (vectorKeys, key) {\n            if (isVectorProp(props[key], key)) vectorKeys.push(key);\n            return vectorKeys;\n        }, []);\n    };\n    var testVectorProps = function (props) {\n        return props && testNames.reduce(function (isVector, key) {\n            return isVector || isVectorProp(props[key], key);\n        }, false);\n    };\n    return { getVectorKeys: getVectorKeys, testVectorProps: testVectorProps };\n};\nvar unitTypes = [px, percent, degrees, vh, vw];\nvar findUnitType = function (prop) {\n    return unitTypes.find(function (type) {\n        return type.test(prop);\n    });\n};\nvar isUnitProp = function (prop) {\n    return Boolean(findUnitType(prop));\n};\nvar createAction = function (action, props) {\n    return action(props);\n};\nvar reduceArrayValue = function (i) {\n    return function (props, key) {\n        props[key] = props[key][i];\n        return props;\n    };\n};\nvar createArrayAction = function (action, props, vectorKeys) {\n    var firstVectorKey = vectorKeys[0];\n    var actionList = props[firstVectorKey].map(function (v, i) {\n        var childActionProps = vectorKeys.reduce(reduceArrayValue(i), __assign({}, props));\n        return getActionCreator(v)(action, childActionProps);\n    });\n    return parallel$1.apply(void 0, actionList);\n};\nvar reduceObjectValue = function (key) {\n    return function (props, propKey) {\n        props[propKey] = props[propKey][key];\n        return props;\n    };\n};\nvar createObjectAction = function (action, props, vectorKeys) {\n    var firstVectorKey = vectorKeys[0];\n    var actionMap = Object.keys(props[firstVectorKey]).reduce(function (map, key) {\n        var childActionProps = vectorKeys.reduce(reduceObjectValue(key), __assign({}, props));\n        map[key] = getActionCreator(props[firstVectorKey][key])(action, childActionProps);\n        return map;\n    }, {});\n    return composite(actionMap);\n};\nvar createUnitAction = function (action, _a) {\n    var from = _a.from,\n        to = _a.to,\n        props = __rest(_a, [\"from\", \"to\"]);\n    var unitType = findUnitType(from) || findUnitType(to);\n    var transform = unitType.transform,\n        parse = unitType.parse;\n    return action(__assign({}, props, { from: typeof from === 'string' ? parse(from) : from, to: typeof to === 'string' ? parse(to) : to })).pipe(transform);\n};\nvar createColorAction = function (action, _a) {\n    var from = _a.from,\n        to = _a.to,\n        props = __rest(_a, [\"from\", \"to\"]);\n    return action(__assign({}, props, { from: 0, to: 1 })).pipe(blendColor(from, to), color.transform);\n};\nvar createComplexAction = function (action, _a) {\n    var from = _a.from,\n        to = _a.to,\n        props = __rest(_a, [\"from\", \"to\"]);\n    var valueTemplate = complex.createTransformer(from);\n    invariant(valueTemplate(from) === complex.createTransformer(to)(from), \"Values '\" + from + \"' and '\" + to + \"' are of different format, or a value might have changed value type.\");\n    return action(__assign({}, props, { from: 0, to: 1 })).pipe(blendArray(complex.parse(from), complex.parse(to)), valueTemplate);\n};\nvar createVectorAction = function (action, typeTests) {\n    var _a = createVectorTests(typeTests),\n        testVectorProps = _a.testVectorProps,\n        getVectorKeys = _a.getVectorKeys;\n    var vectorAction = function (props) {\n        var isVector = testVectorProps(props);\n        if (!isVector) return action(props);\n        var vectorKeys = getVectorKeys(props);\n        var testKey = vectorKeys[0];\n        var testProp = props[testKey];\n        return getActionCreator(testProp)(action, props, vectorKeys);\n    };\n    return vectorAction;\n};\nvar getActionCreator = function (prop) {\n    var actionCreator = createAction;\n    if (typeof prop === 'number') {\n        actionCreator = createAction;\n    } else if (Array.isArray(prop)) {\n        actionCreator = createArrayAction;\n    } else if (isUnitProp(prop)) {\n        actionCreator = createUnitAction;\n    } else if (color.test(prop)) {\n        actionCreator = createColorAction;\n    } else if (complex.test(prop)) {\n        actionCreator = createComplexAction;\n    } else if (typeof prop === 'object') {\n        actionCreator = createObjectAction;\n    }\n    return actionCreator;\n};\n\nvar frame = function () {\n    return action(function (_a) {\n        var update = _a.update;\n        var isActive = true;\n        var startTime = currentTime();\n        var nextFrame = function () {\n            if (!isActive) return;\n            update(Math.max(currentFrameTime() - startTime, 0));\n            onFrameUpdate(nextFrame);\n        };\n        onFrameUpdate(nextFrame);\n        return {\n            stop: function () {\n                return isActive = false;\n            }\n        };\n    });\n};\n\nvar decay = function (props) {\n    if (props === void 0) {\n        props = {};\n    }\n    return action(function (_a) {\n        var complete = _a.complete,\n            update = _a.update;\n        var _b = props.velocity,\n            velocity = _b === void 0 ? 0 : _b,\n            _c = props.from,\n            from = _c === void 0 ? 0 : _c,\n            _d = props.power,\n            power = _d === void 0 ? 0.8 : _d,\n            _e = props.timeConstant,\n            timeConstant = _e === void 0 ? 350 : _e,\n            _f = props.restDelta,\n            restDelta = _f === void 0 ? 0.5 : _f,\n            modifyTarget = props.modifyTarget;\n        var elapsed = 0;\n        var amplitude = power * velocity;\n        var idealTarget = Math.round(from + amplitude);\n        var target = typeof modifyTarget === 'undefined' ? idealTarget : modifyTarget(idealTarget);\n        var timer = frame().start(function () {\n            elapsed += timeSinceLastFrame();\n            var delta = -amplitude * Math.exp(-elapsed / timeConstant);\n            var isMoving = delta > restDelta || delta < -restDelta;\n            var current = isMoving ? target + delta : target;\n            update(current);\n            if (!isMoving) {\n                timer.stop();\n                complete();\n            }\n        });\n        return {\n            stop: function () {\n                return timer.stop();\n            }\n        };\n    });\n};\nvar vectorDecay = /*#__PURE__*/createVectorAction(decay, {\n    from: number.test,\n    modifyTarget: function (func) {\n        return typeof func === 'function';\n    },\n    velocity: number.test\n});\n\nvar DEFAULT_OVERSHOOT_STRENGTH = 1.525;\nvar createReversedEasing = function (easing) {\n    return function (p) {\n        return 1 - easing(1 - p);\n    };\n};\nvar createMirroredEasing = function (easing) {\n    return function (p) {\n        return p <= 0.5 ? easing(2 * p) / 2 : (2 - easing(2 * (1 - p))) / 2;\n    };\n};\nvar linear = function (p) {\n    return p;\n};\nvar createExpoIn = function (power) {\n    return function (p) {\n        return Math.pow(p, power);\n    };\n};\nvar easeIn = /*#__PURE__*/createExpoIn(2);\nvar easeOut = /*#__PURE__*/createReversedEasing(easeIn);\nvar easeInOut = /*#__PURE__*/createMirroredEasing(easeIn);\nvar circIn = function (p) {\n    return 1 - Math.sin(Math.acos(p));\n};\nvar circOut = /*#__PURE__*/createReversedEasing(circIn);\nvar circInOut = /*#__PURE__*/createMirroredEasing(circOut);\nvar createBackIn = function (power) {\n    return function (p) {\n        return p * p * ((power + 1) * p - power);\n    };\n};\nvar backIn = /*#__PURE__*/createBackIn(DEFAULT_OVERSHOOT_STRENGTH);\nvar backOut = /*#__PURE__*/createReversedEasing(backIn);\nvar backInOut = /*#__PURE__*/createMirroredEasing(backIn);\nvar createAnticipateEasing = function (power) {\n    var backEasing = createBackIn(power);\n    return function (p) {\n        return (p *= 2) < 1 ? 0.5 * backEasing(p) : 0.5 * (2 - Math.pow(2, -10 * (p - 1)));\n    };\n};\nvar anticipate = /*#__PURE__*/createAnticipateEasing(DEFAULT_OVERSHOOT_STRENGTH);\nvar NEWTON_ITERATIONS = 8;\nvar NEWTON_MIN_SLOPE = 0.001;\nvar SUBDIVISION_PRECISION = 0.0000001;\nvar SUBDIVISION_MAX_ITERATIONS = 10;\nvar K_SPLINE_TABLE_SIZE = 11;\nvar K_SAMPLE_STEP_SIZE = 1.0 / (K_SPLINE_TABLE_SIZE - 1.0);\nvar FLOAT_32_SUPPORTED = typeof Float32Array !== 'undefined';\nvar a = function (a1, a2) {\n    return 1.0 - 3.0 * a2 + 3.0 * a1;\n};\nvar b = function (a1, a2) {\n    return 3.0 * a2 - 6.0 * a1;\n};\nvar c = function (a1) {\n    return 3.0 * a1;\n};\nvar getSlope = function (t, a1, a2) {\n    return 3.0 * a(a1, a2) * t * t + 2.0 * b(a1, a2) * t + c(a1);\n};\nvar calcBezier = function (t, a1, a2) {\n    return ((a(a1, a2) * t + b(a1, a2)) * t + c(a1)) * t;\n};\nfunction cubicBezier(mX1, mY1, mX2, mY2) {\n    var sampleValues = FLOAT_32_SUPPORTED ? new Float32Array(K_SPLINE_TABLE_SIZE) : new Array(K_SPLINE_TABLE_SIZE);\n    var _precomputed = false;\n    var binarySubdivide = function (aX, aA, aB) {\n        var i = 0;\n        var currentX;\n        var currentT;\n        do {\n            currentT = aA + (aB - aA) / 2.0;\n            currentX = calcBezier(currentT, mX1, mX2) - aX;\n            if (currentX > 0.0) {\n                aB = currentT;\n            } else {\n                aA = currentT;\n            }\n        } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\n        return currentT;\n    };\n    var newtonRaphsonIterate = function (aX, aGuessT) {\n        var i = 0;\n        var currentSlope = 0;\n        var currentX;\n        for (; i < NEWTON_ITERATIONS; ++i) {\n            currentSlope = getSlope(aGuessT, mX1, mX2);\n            if (currentSlope === 0.0) {\n                return aGuessT;\n            }\n            currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n            aGuessT -= currentX / currentSlope;\n        }\n        return aGuessT;\n    };\n    var calcSampleValues = function () {\n        for (var i = 0; i < K_SPLINE_TABLE_SIZE; ++i) {\n            sampleValues[i] = calcBezier(i * K_SAMPLE_STEP_SIZE, mX1, mX2);\n        }\n    };\n    var getTForX = function (aX) {\n        var intervalStart = 0.0;\n        var currentSample = 1;\n        var lastSample = K_SPLINE_TABLE_SIZE - 1;\n        var dist = 0.0;\n        var guessForT = 0.0;\n        var initialSlope = 0.0;\n        for (; currentSample != lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n            intervalStart += K_SAMPLE_STEP_SIZE;\n        }\n        --currentSample;\n        dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n        guessForT = intervalStart + dist * K_SAMPLE_STEP_SIZE;\n        initialSlope = getSlope(guessForT, mX1, mX2);\n        if (initialSlope >= NEWTON_MIN_SLOPE) {\n            return newtonRaphsonIterate(aX, guessForT);\n        } else if (initialSlope === 0.0) {\n            return guessForT;\n        } else {\n            return binarySubdivide(aX, intervalStart, intervalStart + K_SAMPLE_STEP_SIZE);\n        }\n    };\n    var precompute = function () {\n        _precomputed = true;\n        if (mX1 != mY1 || mX2 != mY2) {\n            calcSampleValues();\n        }\n    };\n    var resolver = function (aX) {\n        var returnValue;\n        if (!_precomputed) {\n            precompute();\n        }\n        if (mX1 === mY1 && mX2 === mY2) {\n            returnValue = aX;\n        } else if (aX === 0) {\n            returnValue = 0;\n        } else if (aX === 1) {\n            returnValue = 1;\n        } else {\n            returnValue = calcBezier(getTForX(aX), mY1, mY2);\n        }\n        return returnValue;\n    };\n    return resolver;\n}\n\nvar easing = /*#__PURE__*/Object.freeze({\n    createReversedEasing: createReversedEasing,\n    createMirroredEasing: createMirroredEasing,\n    linear: linear,\n    createExpoIn: createExpoIn,\n    easeIn: easeIn,\n    easeOut: easeOut,\n    easeInOut: easeInOut,\n    circIn: circIn,\n    circOut: circOut,\n    circInOut: circInOut,\n    createBackIn: createBackIn,\n    backIn: backIn,\n    backOut: backOut,\n    backInOut: backInOut,\n    createAnticipateEasing: createAnticipateEasing,\n    anticipate: anticipate,\n    cubicBezier: cubicBezier\n});\n\nvar scrubber = function (_a) {\n    var _b = _a.from,\n        from = _b === void 0 ? 0 : _b,\n        _c = _a.to,\n        to = _c === void 0 ? 1 : _c,\n        _d = _a.ease,\n        ease = _d === void 0 ? linear : _d;\n    return action(function (_a) {\n        var update = _a.update;\n        return {\n            seek: function (progress) {\n                return update(progress);\n            }\n        };\n    }).pipe(ease, function (v) {\n        return getValueFromProgress(from, to, v);\n    });\n};\nvar vectorScrubber = /*#__PURE__*/createVectorAction(scrubber, {\n    ease: function (func) {\n        return typeof func === 'function';\n    },\n    from: number.test,\n    to: number.test\n});\n\nvar clampProgress = /*#__PURE__*/clamp(0, 1);\nvar tween = function (props) {\n    if (props === void 0) {\n        props = {};\n    }\n    return action(function (_a) {\n        var update = _a.update,\n            complete = _a.complete;\n        var _b = props.duration,\n            duration = _b === void 0 ? 300 : _b,\n            _c = props.ease,\n            ease = _c === void 0 ? easeOut : _c,\n            _d = props.flip,\n            flip = _d === void 0 ? 0 : _d,\n            _e = props.loop,\n            loop = _e === void 0 ? 0 : _e,\n            _f = props.yoyo,\n            yoyo = _f === void 0 ? 0 : _f;\n        var _g = props.from,\n            from = _g === void 0 ? 0 : _g,\n            _h = props.to,\n            to = _h === void 0 ? 1 : _h,\n            _j = props.elapsed,\n            elapsed = _j === void 0 ? 0 : _j,\n            _k = props.playDirection,\n            playDirection = _k === void 0 ? 1 : _k,\n            _l = props.flipCount,\n            flipCount = _l === void 0 ? 0 : _l,\n            _m = props.yoyoCount,\n            yoyoCount = _m === void 0 ? 0 : _m,\n            _o = props.loopCount,\n            loopCount = _o === void 0 ? 0 : _o;\n        var playhead = vectorScrubber({ from: from, to: to, ease: ease }).start(update);\n        var progress = 0;\n        var tweenTimer;\n        var isActive = false;\n        var reverseTween = function () {\n            return playDirection *= -1;\n        };\n        var isTweenComplete = function () {\n            var isComplete = playDirection === 1 ? isActive && elapsed >= duration : isActive && elapsed <= 0;\n            if (!isComplete) return false;\n            if (isComplete && !loop && !flip && !yoyo) return true;\n            var isStepTaken = false;\n            if (loop && loopCount < loop) {\n                elapsed = 0;\n                loopCount++;\n                isStepTaken = true;\n            } else if (flip && flipCount < flip) {\n                elapsed = duration - elapsed;\n                _a = [to, from], from = _a[0], to = _a[1];\n                playhead = vectorScrubber({ from: from, to: to, ease: ease }).start(update);\n                flipCount++;\n                isStepTaken = true;\n            } else if (yoyo && yoyoCount < yoyo) {\n                reverseTween();\n                yoyoCount++;\n                isStepTaken = true;\n            }\n            return !isStepTaken;\n            var _a;\n        };\n        var updateTween = function () {\n            progress = clampProgress(getProgressFromValue(0, duration, elapsed));\n            playhead.seek(progress);\n        };\n        var startTimer = function () {\n            isActive = true;\n            tweenTimer = frame().start(function () {\n                elapsed += timeSinceLastFrame() * playDirection;\n                updateTween();\n                if (isTweenComplete() && complete) {\n                    tweenTimer.stop();\n                    onFrameUpdate(complete, true);\n                }\n            });\n        };\n        var stopTimer = function () {\n            isActive = false;\n            if (tweenTimer) tweenTimer.stop();\n        };\n        startTimer();\n        return {\n            isActive: function () {\n                return isActive;\n            },\n            getElapsed: function () {\n                return clamp(0, duration)(elapsed);\n            },\n            getProgress: function () {\n                return progress;\n            },\n            stop: function () {\n                stopTimer();\n            },\n            pause: function () {\n                stopTimer();\n                return this;\n            },\n            resume: function () {\n                startTimer();\n                return this;\n            },\n            seek: function (newProgress) {\n                elapsed = getValueFromProgress(0, duration, newProgress);\n                onFrameUpdate(updateTween, true);\n                return this;\n            },\n            reverse: function () {\n                reverseTween();\n                return this;\n            }\n        };\n    });\n};\n\nvar clampProgress$1 = /*#__PURE__*/clamp(0, 1);\nvar defaultEasings = function (values, easing) {\n    return values.map(function () {\n        return easing || easeOut;\n    }).splice(0, values.length - 1);\n};\nvar defaultTimings = function (values) {\n    var numValues = values.length;\n    return values.map(function (value, i) {\n        return i !== 0 ? i / (numValues - 1) : 0;\n    });\n};\nvar interpolateScrubbers = function (input, scrubbers, update) {\n    var rangeLength = input.length;\n    var finalInputIndex = rangeLength - 1;\n    var finalScrubberIndex = finalInputIndex - 1;\n    var subs = scrubbers.map(function (scrub) {\n        return scrub.start(update);\n    });\n    return function (v) {\n        if (v <= input[0]) {\n            subs[0].seek(0);\n        }\n        if (v >= input[finalInputIndex]) {\n            subs[finalScrubberIndex].seek(1);\n        }\n        var i = 1;\n        for (; i < rangeLength; i++) {\n            if (input[i] > v || i === finalInputIndex) break;\n        }\n        var progressInRange = getProgressFromValue(input[i - 1], input[i], v);\n        subs[i - 1].seek(clampProgress$1(progressInRange));\n    };\n};\nvar keyframes = function (_a) {\n    var easings = _a.easings,\n        _b = _a.ease,\n        ease = _b === void 0 ? linear : _b,\n        times = _a.times,\n        values = _a.values,\n        tweenProps = __rest(_a, [\"easings\", \"ease\", \"times\", \"values\"]);\n    easings = Array.isArray(easings) ? easings : defaultEasings(values, easings);\n    times = times || defaultTimings(values);\n    var scrubbers = easings.map(function (easing, i) {\n        return vectorScrubber({\n            from: values[i],\n            to: values[i + 1],\n            ease: easing\n        });\n    });\n    return tween(__assign({}, tweenProps, { ease: ease })).applyMiddleware(function (update) {\n        return interpolateScrubbers(times, scrubbers, update);\n    });\n};\n\nvar physics = function (props) {\n    if (props === void 0) {\n        props = {};\n    }\n    return action(function (_a) {\n        var complete = _a.complete,\n            update = _a.update;\n        var _b = props.acceleration,\n            acceleration = _b === void 0 ? 0 : _b,\n            _c = props.friction,\n            friction = _c === void 0 ? 0 : _c,\n            _d = props.velocity,\n            velocity = _d === void 0 ? 0 : _d,\n            springStrength = props.springStrength,\n            to = props.to;\n        var _e = props.restSpeed,\n            restSpeed = _e === void 0 ? 0.001 : _e,\n            _f = props.from,\n            from = _f === void 0 ? 0 : _f;\n        var current = from;\n        var timer = frame().start(function () {\n            var elapsed = Math.max(timeSinceLastFrame(), 16);\n            if (acceleration) velocity += speedPerFrame(acceleration, elapsed);\n            if (friction) velocity *= Math.pow(1 - friction, elapsed / 100);\n            if (springStrength !== undefined && to !== undefined) {\n                var distanceToTarget = to - current;\n                velocity += distanceToTarget * speedPerFrame(springStrength, elapsed);\n            }\n            current += speedPerFrame(velocity, elapsed);\n            update(current);\n            var isComplete = restSpeed !== false && (!velocity || Math.abs(velocity) <= restSpeed);\n            if (isComplete) {\n                timer.stop();\n                complete();\n            }\n        });\n        return {\n            set: function (v) {\n                current = v;\n                return this;\n            },\n            setAcceleration: function (v) {\n                acceleration = v;\n                return this;\n            },\n            setFriction: function (v) {\n                friction = v;\n                return this;\n            },\n            setSpringStrength: function (v) {\n                springStrength = v;\n                return this;\n            },\n            setSpringTarget: function (v) {\n                to = v;\n                return this;\n            },\n            setVelocity: function (v) {\n                velocity = v;\n                return this;\n            },\n            stop: function () {\n                return timer.stop();\n            }\n        };\n    });\n};\nvar vectorPhysics = /*#__PURE__*/createVectorAction(physics, {\n    acceleration: number.test,\n    friction: number.test,\n    velocity: number.test,\n    from: number.test,\n    to: number.test,\n    springStrength: number.test\n});\n\nvar spring = function (props) {\n    if (props === void 0) {\n        props = {};\n    }\n    return action(function (_a) {\n        var update = _a.update,\n            complete = _a.complete;\n        var _b = props.velocity,\n            velocity = _b === void 0 ? 0.0 : _b;\n        var _c = props.from,\n            from = _c === void 0 ? 0.0 : _c,\n            _d = props.to,\n            to = _d === void 0 ? 0.0 : _d,\n            _e = props.stiffness,\n            stiffness = _e === void 0 ? 100 : _e,\n            _f = props.damping,\n            damping = _f === void 0 ? 10 : _f,\n            _g = props.mass,\n            mass = _g === void 0 ? 1.0 : _g,\n            _h = props.restSpeed,\n            restSpeed = _h === void 0 ? 0.01 : _h,\n            _j = props.restDelta,\n            restDelta = _j === void 0 ? 0.01 : _j;\n        var initialVelocity = velocity ? -(velocity / 1000) : 0.0;\n        var t = 0;\n        var delta = to - from;\n        var position = from;\n        var prevPosition = position;\n        var springTimer = frame().start(function () {\n            var timeDelta = timeSinceLastFrame();\n            t += timeDelta;\n            var dampingRatio = damping / (2 * Math.sqrt(stiffness * mass));\n            var angularFreq = Math.sqrt(stiffness / mass) / 1000;\n            prevPosition = position;\n            if (dampingRatio < 1) {\n                var envelope = Math.exp(-dampingRatio * angularFreq * t);\n                var expoDecay = angularFreq * Math.sqrt(1.0 - dampingRatio * dampingRatio);\n                position = to - envelope * ((initialVelocity + dampingRatio * angularFreq * delta) / expoDecay * Math.sin(expoDecay * t) + delta * Math.cos(expoDecay * t));\n            } else {\n                var envelope = Math.exp(-angularFreq * t);\n                position = to - envelope * (delta + (initialVelocity + angularFreq * delta) * t);\n            }\n            velocity = speedPerSecond(position - prevPosition, timeDelta);\n            var isBelowVelocityThreshold = Math.abs(velocity) <= restSpeed;\n            var isBelowDisplacementThreshold = Math.abs(to - position) <= restDelta;\n            if (isBelowVelocityThreshold && isBelowDisplacementThreshold) {\n                position = to;\n                update(position);\n                springTimer.stop();\n                complete();\n            } else {\n                update(position);\n            }\n        });\n        return {\n            stop: function () {\n                return springTimer.stop();\n            }\n        };\n    });\n};\nvar vectorSpring = /*#__PURE__*/createVectorAction(spring, {\n    from: number.test,\n    to: number.test,\n    stiffness: number.test,\n    damping: number.test,\n    mass: number.test,\n    velocity: number.test\n});\n\nvar DEFAULT_DURATION = 300;\nvar flattenTimings = function (instructions) {\n    var flatInstructions = [];\n    var lastArg = instructions[instructions.length - 1];\n    var isStaggered = typeof lastArg === 'number';\n    var staggerDelay = isStaggered ? lastArg : 0;\n    var segments = isStaggered ? instructions.slice(0, -1) : instructions;\n    var numSegments = segments.length;\n    var offset = 0;\n    segments.forEach(function (item, i) {\n        flatInstructions.push(item);\n        if (i !== numSegments - 1) {\n            var duration = item.duration || DEFAULT_DURATION;\n            offset += staggerDelay;\n            flatInstructions.push(\"-\" + (duration - offset));\n        }\n    });\n    return flatInstructions;\n};\nvar flattenArrayInstructions = function (instructions, instruction) {\n    Array.isArray(instruction) ? instructions.push.apply(instructions, flattenTimings(instruction)) : instructions.push(instruction);\n    return instructions;\n};\nvar convertDefToProps = function (props, def, i) {\n    var duration = props.duration,\n        easings = props.easings,\n        times = props.times,\n        values = props.values;\n    var numValues = values.length;\n    var prevTimeTo = times[numValues - 1];\n    var timeFrom = def.at === 0 ? 0 : def.at / duration;\n    var timeTo = (def.at + def.duration) / duration;\n    if (i === 0) {\n        values.push(def.from);\n        times.push(timeFrom);\n    } else {\n        if (prevTimeTo !== timeFrom) {\n            if (def.from !== undefined) {\n                values.push(values[numValues - 1]);\n                times.push(timeFrom);\n                easings.push(linear);\n            }\n            var from = def.from !== undefined ? def.from : values[numValues - 1];\n            values.push(from);\n            times.push(timeFrom);\n            easings.push(linear);\n        } else if (def.from !== undefined) {\n            values.push(def.from);\n            times.push(timeFrom);\n            easings.push(linear);\n        }\n    }\n    values.push(def.to);\n    times.push(timeTo);\n    easings.push(def.ease || easeInOut);\n    return props;\n};\nvar timeline = function (instructions, _a) {\n    var _b = _a === void 0 ? {} : _a,\n        duration = _b.duration,\n        elapsed = _b.elapsed,\n        ease = _b.ease,\n        loop = _b.loop,\n        flip = _b.flip,\n        yoyo = _b.yoyo;\n    var playhead = 0;\n    var calculatedDuration = 0;\n    var flatInstructions = instructions.reduce(flattenArrayInstructions, []);\n    var animationDefs = [];\n    flatInstructions.forEach(function (instruction) {\n        if (typeof instruction === 'string') {\n            playhead += parseFloat(instruction);\n        } else if (typeof instruction === 'number') {\n            playhead = instruction;\n        } else {\n            var def = __assign({}, instruction, { at: playhead });\n            def.duration = def.duration === undefined ? DEFAULT_DURATION : def.duration;\n            animationDefs.push(def);\n            playhead += def.duration;\n            calculatedDuration = Math.max(calculatedDuration, def.at + def.duration);\n        }\n    });\n    var tracks = {};\n    var numDefs = animationDefs.length;\n    for (var i = 0; i < numDefs; i++) {\n        var def = animationDefs[i];\n        var track = def.track;\n        if (track === undefined) {\n            throw new Error('No track defined');\n        }\n        if (!tracks.hasOwnProperty(track)) tracks[track] = [];\n        tracks[track].push(def);\n    }\n    var trackKeyframes = {};\n    for (var key in tracks) {\n        if (tracks.hasOwnProperty(key)) {\n            var keyframeProps = tracks[key].reduce(convertDefToProps, {\n                duration: calculatedDuration,\n                easings: [],\n                times: [],\n                values: []\n            });\n            trackKeyframes[key] = keyframes(__assign({}, keyframeProps, { duration: duration || calculatedDuration, ease: ease,\n                elapsed: elapsed,\n                loop: loop,\n                yoyo: yoyo,\n                flip: flip }));\n        }\n    }\n    return composite(trackKeyframes);\n};\n\nvar listen = function (element, events, options) {\n    return action(function (_a) {\n        var update = _a.update;\n        var eventNames = events.split(' ').map(function (eventName) {\n            element.addEventListener(eventName, update, options);\n            return eventName;\n        });\n        return {\n            stop: function () {\n                return eventNames.forEach(function (eventName) {\n                    return element.removeEventListener(eventName, update, options);\n                });\n            }\n        };\n    });\n};\n\nvar defaultPointerPos = function () {\n    return {\n        clientX: 0,\n        clientY: 0,\n        pageX: 0,\n        pageY: 0,\n        x: 0,\n        y: 0\n    };\n};\nvar eventToPoint = function (e, point) {\n    if (point === void 0) {\n        point = defaultPointerPos();\n    }\n    point.clientX = point.x = e.clientX;\n    point.clientY = point.y = e.clientY;\n    point.pageX = e.pageX;\n    point.pageY = e.pageY;\n    return point;\n};\n\nvar points = [/*#__PURE__*/defaultPointerPos()];\nvar isTouchDevice = false;\nif (typeof document !== 'undefined') {\n    var updatePointsLocation = function (_a) {\n        var touches = _a.touches;\n        isTouchDevice = true;\n        var numTouches = touches.length;\n        points.length = 0;\n        for (var i = 0; i < numTouches; i++) {\n            var thisTouch = touches[i];\n            points.push(eventToPoint(thisTouch));\n        }\n    };\n    listen(document, 'touchstart touchmove', true).start(updatePointsLocation);\n}\nvar multitouch = function (_a) {\n    var _b = _a === void 0 ? {} : _a,\n        _c = _b.preventDefault,\n        preventDefault = _c === void 0 ? true : _c,\n        _d = _b.scale,\n        scale = _d === void 0 ? 1.0 : _d,\n        _e = _b.rotate,\n        rotate = _e === void 0 ? 0.0 : _e;\n    return action(function (_a) {\n        var update = _a.update;\n        var output = {\n            touches: points,\n            scale: scale,\n            rotate: rotate\n        };\n        var initialDistance = 0.0;\n        var initialRotation = 0.0;\n        var isGesture = points.length > 1;\n        if (isGesture) {\n            var firstTouch = points[0],\n                secondTouch = points[1];\n            initialDistance = distance(firstTouch, secondTouch);\n            initialRotation = angle(firstTouch, secondTouch);\n        }\n        var updatePoint = function () {\n            if (isGesture) {\n                var firstTouch = points[0],\n                    secondTouch = points[1];\n                var newDistance = distance(firstTouch, secondTouch);\n                var newRotation = angle(firstTouch, secondTouch);\n                output.scale = scale * (newDistance / initialDistance);\n                output.rotate = rotate + (newRotation - initialRotation);\n            }\n            update(output);\n        };\n        var onMove = function (e) {\n            if (preventDefault || e.touches.length > 1) e.preventDefault();\n            onFrameUpdate(updatePoint);\n        };\n        var updateOnMove = listen(document, 'touchmove', { passive: !preventDefault }).start(onMove);\n        if (isTouchDevice) onFrameUpdate(updatePoint);\n        return {\n            stop: function () {\n                cancelOnFrameUpdate(updatePoint);\n                updateOnMove.stop();\n            }\n        };\n    });\n};\nvar getIsTouchDevice = function () {\n    return isTouchDevice;\n};\n\nvar point = /*#__PURE__*/defaultPointerPos();\nvar isMouseDevice = false;\nif (typeof document !== 'undefined') {\n    var updatePointLocation = function (e) {\n        isMouseDevice = true;\n        eventToPoint(e, point);\n    };\n    listen(document, 'mousedown mousemove', true).start(updatePointLocation);\n}\nvar mouse = function (_a) {\n    var _b = (_a === void 0 ? {} : _a).preventDefault,\n        preventDefault = _b === void 0 ? true : _b;\n    return action(function (_a) {\n        var update = _a.update;\n        var updatePoint = function () {\n            return update(point);\n        };\n        var onMove = function (e) {\n            if (preventDefault) e.preventDefault();\n            onFrameUpdate(updatePoint);\n        };\n        var updateOnMove = listen(document, 'mousemove').start(onMove);\n        if (isMouseDevice) onFrameUpdate(updatePoint);\n        return {\n            stop: function () {\n                cancelOnFrameUpdate(updatePoint);\n                updateOnMove.stop();\n            }\n        };\n    });\n};\n\nvar getFirstTouch = function (_a) {\n    var firstTouch = _a[0];\n    return firstTouch;\n};\nvar pointer = function (props) {\n    if (props === void 0) {\n        props = {};\n    }\n    return getIsTouchDevice() ? multitouch(props).pipe(function (_a) {\n        var touches = _a.touches;\n        return touches;\n    }, getFirstTouch) : mouse(props);\n};\nvar index = function (_a) {\n    if (_a === void 0) {\n        _a = {};\n    }\n    var x = _a.x,\n        y = _a.y,\n        props = __rest(_a, [\"x\", \"y\"]);\n    if (x !== undefined || y !== undefined) {\n        var applyXOffset_1 = applyOffset(x || 0);\n        var applyYOffset_1 = applyOffset(y || 0);\n        var delta_1 = { x: 0, y: 0 };\n        return pointer(props).pipe(function (point) {\n            delta_1.x = applyXOffset_1(point.x);\n            delta_1.y = applyYOffset_1(point.y);\n            return delta_1;\n        });\n    } else {\n        return pointer(props);\n    }\n};\n\nvar chain = function () {\n    var actions = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        actions[_i] = arguments[_i];\n    }\n    return action(function (_a) {\n        var update = _a.update,\n            complete = _a.complete;\n        var i = 0;\n        var current;\n        var playCurrent = function () {\n            current = actions[i].start({\n                complete: function () {\n                    i++;\n                    i >= actions.length ? complete() : playCurrent();\n                },\n                update: update\n            });\n        };\n        playCurrent();\n        return {\n            stop: function () {\n                return current && current.stop();\n            }\n        };\n    });\n};\n\nvar crossfade = function (a, b) {\n    return action(function (observer) {\n        var balance = 0;\n        var fadable = parallel$1(a, b).start(__assign({}, observer, { update: function (_a) {\n                var va = _a[0],\n                    vb = _a[1];\n                observer.update(getValueFromProgress(va, vb, balance));\n            } }));\n        return {\n            setBalance: function (v) {\n                return balance = v;\n            },\n            stop: function () {\n                return fadable.stop();\n            }\n        };\n    });\n};\n\nvar delay = function (timeToDelay) {\n    return action(function (_a) {\n        var complete = _a.complete;\n        var timeout = setTimeout(complete, timeToDelay);\n        return {\n            stop: function () {\n                return clearTimeout(timeout);\n            }\n        };\n    });\n};\n\nvar merge = function () {\n    var actions = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        actions[_i] = arguments[_i];\n    }\n    return action(function (observer) {\n        var subs = actions.map(function (thisAction) {\n            return thisAction.start(observer);\n        });\n        return {\n            stop: function () {\n                return subs.forEach(function (sub) {\n                    return sub.stop();\n                });\n            }\n        };\n    });\n};\n\nvar schedule = function (scheduler, schedulee) {\n    return action(function (_a) {\n        var update = _a.update,\n            complete = _a.complete;\n        var latest;\n        var schedulerSub = scheduler.start({\n            update: function () {\n                return latest !== undefined && update(latest);\n            },\n            complete: complete\n        });\n        var scheduleeSub = schedulee.start({\n            update: function (v) {\n                return latest = v;\n            },\n            complete: complete\n        });\n        return {\n            stop: function () {\n                schedulerSub.stop();\n                scheduleeSub.stop();\n            }\n        };\n    });\n};\n\nvar stagger = function (actions, interval) {\n    var intervalIsNumber = typeof interval === 'number';\n    var actionsWithDelay = actions.map(function (a, i) {\n        var timeToDelay = intervalIsNumber ? interval * i : interval(i);\n        return chain(delay(timeToDelay), a);\n    });\n    return parallel$1.apply(void 0, actionsWithDelay);\n};\n\nvar css = function (element, props) {\n    warning(false, 'css() is deprecated, use styler instead');\n    return styler(element, props);\n};\nvar svg = function (element, props) {\n    warning(false, 'svg() is deprecated, use styler instead');\n    return styler(element, props);\n};\n\nexport { action, multicast, value, vectorDecay as decay, keyframes, frame as everyFrame, vectorPhysics as physics, vectorSpring as spring, timeline, tween, listen, index as pointer, mouse, multitouch, chain, composite, crossfade, delay, merge, parallel$1 as parallel, schedule, stagger, calc, easing, transformers as transform, css, svg, Action, ValueReaction };\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isNum = function (v) { return typeof v === 'number'; };\nexports.isPoint = function (point) {\n    return point.x !== undefined && point.y !== undefined;\n};\nexports.isPoint3D = function (point) {\n    return point.z !== undefined;\n};\nvar toDecimal = function (num, precision) {\n    if (precision === void 0) { precision = 2; }\n    precision = Math.pow(10, precision);\n    return Math.round(num * precision) / precision;\n};\nvar ZERO_POINT = {\n    x: 0,\n    y: 0,\n    z: 0\n};\nvar distance1D = function (a, b) { return Math.abs(a - b); };\nexports.angle = function (a, b) {\n    if (b === void 0) { b = ZERO_POINT; }\n    return exports.radiansToDegrees(Math.atan2(b.y - a.y, b.x - a.x));\n};\nexports.degreesToRadians = function (degrees) { return degrees * Math.PI / 180; };\nexports.dilate = function (a, b, dilation) { return a + ((b - a) * dilation); };\nexports.distance = function (a, b) {\n    if (b === void 0) { b = ZERO_POINT; }\n    if (isNum(a) && isNum(b)) {\n        return distance1D(a, b);\n    }\n    else if (exports.isPoint(a) && exports.isPoint(b)) {\n        var xDelta = distance1D(a.x, b.x);\n        var yDelta = distance1D(a.y, b.y);\n        var zDelta = (exports.isPoint3D(a) && exports.isPoint3D(b)) ? distance1D(a.z, b.z) : 0;\n        return Math.sqrt((Math.pow(xDelta, 2)) + (Math.pow(yDelta, 2)) + (Math.pow(zDelta, 2)));\n    }\n    return 0;\n};\nexports.getProgressFromValue = function (from, to, value) {\n    var toFromDifference = to - from;\n    return toFromDifference === 0 ? 1 : (value - from) / toFromDifference;\n};\nexports.getValueFromProgress = function (from, to, progress) {\n    return (-progress * from) + (progress * to) + from;\n};\nexports.pointFromAngleAndDistance = function (origin, angle, distance) {\n    angle = exports.degreesToRadians(angle);\n    return {\n        x: distance * Math.cos(angle) + origin.x,\n        y: distance * Math.sin(angle) + origin.y\n    };\n};\nexports.radiansToDegrees = function (radians) { return radians * 180 / Math.PI; };\nexports.smooth = function (newValue, oldValue, duration, smoothing) {\n    if (smoothing === void 0) { smoothing = 0; }\n    return toDecimal(oldValue + (duration * (newValue - oldValue) / Math.max(smoothing, duration)));\n};\nexports.speedPerFrame = function (xps, frameDuration) {\n    return (isNum(xps)) ? xps / (1000 / frameDuration) : 0;\n};\nexports.speedPerSecond = function (velocity, frameDuration) {\n    return frameDuration ? velocity * (1000 / frameDuration) : 0;\n};\nexports.stepProgress = function (steps, progress) {\n    var segment = 1 / (steps - 1);\n    var target = 1 - (1 / steps);\n    var progressOfTarget = Math.min(progress / target, 1);\n    return Math.floor(progressOfTarget / segment) * segment;\n};\n//# sourceMappingURL=calc.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar framesync_1 = require(\"framesync\");\nvar style_value_types_1 = require(\"style-value-types\");\nvar calc_1 = require(\"./calc\");\nvar noop = function (v) { return v; };\nexports.appendUnit = function (unit) { return function (v) { return \"\" + v + unit; }; };\nexports.applyOffset = function (from, to) {\n    var hasReceivedFrom = true;\n    if (to === undefined) {\n        to = from;\n        hasReceivedFrom = false;\n    }\n    var getOffset = function (v) { return v - from; };\n    var applyOffsetTo = function (v) { return v + to; };\n    return function (v) {\n        if (hasReceivedFrom) {\n            return applyOffsetTo(getOffset(v));\n        }\n        else {\n            from = v;\n            hasReceivedFrom = true;\n            return to;\n        }\n    };\n};\nvar blend = function (from, to, v) {\n    var fromExpo = from * from;\n    var toExpo = to * to;\n    return Math.sqrt(v * (toExpo - fromExpo) + fromExpo);\n};\nexports.blendColor = function (from, to) {\n    var fromColor = typeof from === 'string' ? style_value_types_1.color.parse(from) : from;\n    var toColor = typeof to === 'string' ? style_value_types_1.color.parse(to) : to;\n    var blended = __assign({}, fromColor);\n    var blendFunc = from.hue !== undefined ||\n        (typeof from === 'string' && style_value_types_1.hsla.test(from))\n        ? calc_1.getValueFromProgress\n        : blend;\n    return function (v) {\n        blended = __assign({}, blended);\n        for (var key in blended) {\n            if (key !== 'alpha' && blended.hasOwnProperty(key)) {\n                blended[key] = blendFunc(fromColor[key], toColor[key], v);\n            }\n        }\n        blended.alpha = calc_1.getValueFromProgress(fromColor.alpha, toColor.alpha, v);\n        return blended;\n    };\n};\nexports.blendArray = function (from, to) {\n    var output = from.slice();\n    var numValues = output.length;\n    var blendValue = from.map(function (fromThis, i) {\n        var toThis = to[i];\n        return typeof fromThis === 'number'\n            ? function (v) { return calc_1.getValueFromProgress(fromThis, toThis, v); }\n            : exports.blendColor(fromThis, toThis);\n    });\n    return function (v) {\n        for (var i = 0; i < numValues; i++) {\n            output[i] = blendValue[i](v);\n        }\n        return output;\n    };\n};\nexports.clamp = function (min, max) { return function (v) {\n    return Math.min(Math.max(v, min), max);\n}; };\nvar combineFunctions = function (a, b) { return function (v) { return b(a(v)); }; };\nexports.pipe = function () {\n    var transformers = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        transformers[_i] = arguments[_i];\n    }\n    return transformers.reduce(combineFunctions);\n};\nexports.conditional = function (check, apply) { return function (v) {\n    return check(v) ? apply(v) : v;\n}; };\nvar slowInterpolate = function (input, output, rangeLength, rangeEasing) {\n    var finalIndex = rangeLength - 1;\n    if (input[0] > input[finalIndex]) {\n        input.reverse();\n        output.reverse();\n    }\n    return function (v) {\n        if (v <= input[0]) {\n            return output[0];\n        }\n        if (v >= input[finalIndex]) {\n            return output[finalIndex];\n        }\n        var i = 1;\n        for (; i < rangeLength; i++) {\n            if (input[i] > v || i === finalIndex) {\n                break;\n            }\n        }\n        var progressInRange = calc_1.getProgressFromValue(input[i - 1], input[i], v);\n        var easedProgress = rangeEasing\n            ? rangeEasing[i - 1](progressInRange)\n            : progressInRange;\n        return calc_1.getValueFromProgress(output[i - 1], output[i], easedProgress);\n    };\n};\nvar fastInterpolate = function (minA, maxA, minB, maxB) { return function (v) { return ((v - minA) * (maxB - minB)) / (maxA - minA) + minB; }; };\nexports.interpolate = function (input, output, rangeEasing) {\n    var rangeLength = input.length;\n    return rangeLength !== 2\n        ? slowInterpolate(input, output, rangeLength, rangeEasing)\n        : fastInterpolate(input[0], input[1], output[0], output[1]);\n};\nexports.generateStaticSpring = function (alterDisplacement) {\n    if (alterDisplacement === void 0) { alterDisplacement = noop; }\n    return function (constant, origin) { return function (v) {\n        var displacement = origin - v;\n        var springModifiedDisplacement = -constant * (0 - alterDisplacement(Math.abs(displacement)));\n        return displacement <= 0\n            ? origin + springModifiedDisplacement\n            : origin - springModifiedDisplacement;\n    }; };\n};\nexports.linearSpring = exports.generateStaticSpring();\nexports.nonlinearSpring = exports.generateStaticSpring(Math.sqrt);\nexports.wrap = function (min, max) { return function (v) {\n    var rangeSize = max - min;\n    return ((((v - min) % rangeSize) + rangeSize) % rangeSize) + min;\n}; };\nexports.smooth = function (strength) {\n    if (strength === void 0) { strength = 50; }\n    var previousValue = 0;\n    var lastUpdated = 0;\n    return function (v) {\n        var currentFramestamp = framesync_1.currentFrameTime();\n        var timeDelta = currentFramestamp !== lastUpdated ? currentFramestamp - lastUpdated : 0;\n        var newValue = timeDelta\n            ? calc_1.smooth(v, previousValue, timeDelta, strength)\n            : previousValue;\n        lastUpdated = currentFramestamp;\n        previousValue = newValue;\n        return newValue;\n    };\n};\nexports.snap = function (points) {\n    if (typeof points === 'number') {\n        return function (v) { return Math.round(v / points) * points; };\n    }\n    else {\n        var i_1 = 0;\n        var numPoints_1 = points.length;\n        return function (v) {\n            var lastDistance = Math.abs(points[0] - v);\n            for (i_1 = 1; i_1 < numPoints_1; i_1++) {\n                var point = points[i_1];\n                var distance = Math.abs(point - v);\n                if (distance === 0)\n                    return point;\n                if (distance > lastDistance)\n                    return points[i_1 - 1];\n                if (i_1 === numPoints_1 - 1)\n                    return point;\n                lastDistance = distance;\n            }\n        };\n    }\n};\nexports.steps = function (st, min, max) {\n    if (min === void 0) { min = 0; }\n    if (max === void 0) { max = 1; }\n    return function (v) {\n        var progress = calc_1.getProgressFromValue(min, max, v);\n        return calc_1.getValueFromProgress(min, max, calc_1.stepProgress(st, progress));\n    };\n};\nexports.transformMap = function (childTransformers) { return function (v) {\n    var output = __assign({}, v);\n    for (var key in childTransformers) {\n        if (childTransformers.hasOwnProperty(key)) {\n            var childTransformer = childTransformers[key];\n            output[key] = childTransformer(v[key]);\n        }\n    }\n    return output;\n}; };\n//# sourceMappingURL=transformers.js.map","import { h } from 'hyperapp'\nimport picostyle from 'picostyle'\nimport { styler, value, listen, pointer, spring, chain } from 'popmotion'\nimport { nonlinearSpring } from 'popmotion/lib/transformers'\nimport { smooth } from 'popmotion/lib/calc'\n\nfunction makeInteractive (element, {playPause, nextSong, previousSong}) {\n  const THRESHOLD = 10\n\n  const handleStyler = styler(element)\n  const handle = {\n    x: value(0, handleStyler.set('x')),\n    y: value(0, handleStyler.set('y'))\n  }\n\n  const oneDirectionalPointer = axis => pointer({[axis]: 0}).pipe(v => v[axis])\n\n  let currentHandle\n  let direction = 'none'\n  let stopPointer\n  let axis\n  let springCurve\n\n  listen(element, 'mousedown touchstart')\n    .start((e) => {\n      let {stop} = pointer({x: 0, y: 0})\n        .start(({x, y}) => {\n          if (Math.abs(x) > THRESHOLD) {\n            axis = 'x'\n            direction = (x < 0)\n              ? 'left'\n              : 'right'\n            stop()\n          } else if (Math.abs(y) > THRESHOLD) {\n            axis = 'y'\n            direction = (y < 0)\n              ? 'top'\n              : 'bottom'\n            stop()\n          }\n\n          if (direction === 'none') return\n\n          switch (direction) {\n            case 'top':\n              springCurve = nonlinearSpring(1, 0)\n              break\n            case 'bottom':\n              springCurve = nonlinearSpring(0.2, 0)\n              break\n            case 'right':\n            case 'left':\n              springCurve = nonlinearSpring(3, 0)\n          }\n\n          currentHandle = handle[axis]\n\n          stopPointer = chain(\n            oneDirectionalPointer(axis),\n            smooth(30))\n            .pipe(springCurve)\n            .start(currentHandle)\n        })\n    })\n\n  listen(document, 'mouseup touchend')\n    .start((e) => {\n      stopPointer.stop()\n\n      switch (direction) {\n        case 'top':\n          playPause()\n          break\n        case 'left':\n          previousSong()\n          break\n        case 'right':\n          nextSong()\n          break\n        default:\n          console.log('clicked!')\n      }\n      direction = 'none'\n      axis = 'none'\n      spring({\n        from: currentHandle.get(),\n        velocity: currentHandle.getVelocity()\n      })\n        .start(currentHandle)\n    })\n}\n\nconst style = picostyle(h)\n\nconst Bubble = style('div')((props) => ({\n  backgroundColor: props.playingState ? '#fce9c7' : '#fcfcff',\n  transition: 'background-color 100ms',\n  borderRadius: '20px',\n  border: '1px solid rgba(0, 0, 0, 0.1)',\n  width: '100%',\n  maxWidth: '400px',\n  padding: '0.4em',\n  display: 'flex',\n  position: 'relative',\n  height: '4em',\n  cursor: 'default',\n  boxShadow: '0 1px 17px -3px rgba(0,0,0, 0.1)'\n}))\n\nconst Indicator = () => style('div')({\n  width: '100%',\n  display: 'flex',\n  justifyContent: 'center',\n  position: 'absolute',\n  left: '0px',\n  top: '0px',\n  marginTop: '0.4em'\n})(\n  {},\n  style('div')({\n    height: '4px',\n    width: '30px',\n    backgroundColor: '#848484',\n    borderRadius: '100px'\n  })\n)\nconst SongCover = style('img')({\n  height: '100%',\n  borderRadius: '15px',\n  boxSizing: 'border-box',\n  border: '1px solid rgba(0, 0, 0, 0.16)',\n  pointerEvents: 'none'\n})\n\nconst Song = style('div')({\n  fontWeight: 'bold'\n})\n\nconst Artist = style('div')({\n  fontWeight: 'normal'\n})\n\nconst Info = style('div')({\n  paddingLeft: '1em',\n  alignSelf: 'center'\n})\n\nconst Wrapper = style('div')({\n  width: '100%',\n  display: 'flex',\n  position: 'absolute',\n  bottom: '0px',\n  padding: '1em',\n  boxSizing: 'border-box',\n  justifyContent: 'center'\n})\n\nconst ScrubBar = (props) =>\n  <Wrapper>\n    <Bubble playingState={props.playingState} oncreate={((props) => (element) => makeInteractive(element, props))(props)}>\n      <Indicator />\n      <SongCover draggable='false' src={props.image} />\n      <Info>\n        <Song>\n          {props.playingState ? ' ' : ''}{props.name}\n        </Song>\n        <Artist>\n          {props.artist}\n        </Artist>\n      </Info>\n    </Bubble>\n  </Wrapper>\n\nexport default ScrubBar\n","import placeholder from './public/placeholder.jpg'\n\nexport default [\n  {\n    name: 'Wowa CC0',\n    artist: 'Wowa',\n    albumCoverUrl: placeholder\n  },\n  {\n    name: 'Bach Collection',\n    artist: '...',\n    albumCoverUrl: placeholder\n  },\n  {\n    name: 'Wowa CC0',\n    artist: 'Wowa',\n    albumCoverUrl: placeholder\n  },\n  {\n    name: 'Bach Collection',\n    artist: '...',\n    albumCoverUrl: placeholder\n  },\n  {\n    name: 'Wowa CC0',\n    artist: 'Wowa',\n    albumCoverUrl: placeholder\n  },\n  {\n    name: 'Bach Collection',\n    artist: '...',\n    albumCoverUrl: placeholder\n  },\n  {\n    name: 'Wowa CC0',\n    artist: 'Wowa',\n    albumCoverUrl: placeholder\n  },\n  {\n    name: 'Bach Collection',\n    artist: '...',\n    albumCoverUrl: placeholder\n  }\n]\n","import { h } from 'hyperapp'\nimport picostyle from 'picostyle'\nimport albums from '../albums.js'\n\nconst style = picostyle(h)\n\nconst Header = () => style('header')({\n  fontSize: '2em',\n  maxWidth: '1100px',\n  margin: '1em',\n  '@media (min-width: 1000px)': {\n    fontSize: '3em'\n  },\n  '@media (min-width: 1250px)': {\n    margin: '0 auto'\n  },\n  ' .sub': {\n    fontSize: '0.6em',\n    marginTop: '-2em'\n  }\n})(\n  {},\n  [\n    <h1>Flamous</h1>,\n    <p class='sub'>The best of Public Domain music.</p>\n  ]\n)\n\nconst Gallery = (props) => style('div')({\n  width: '100%',\n  padding: '1em',\n  boxSizing: 'border-box',\n  marginBottom: '6em'\n})(\n  {},\n  <FlexWrapper>\n    {props.data.map((item) => {\n      return <Item image={item.albumCoverUrl} name={item.name} artist={item.artist} />\n    })}\n  </FlexWrapper>\n)\nconst FlexWrapper = style('div')({\n  display: 'flex',\n  flexWrap: 'wrap',\n  maxWidth: '1250px',\n  margin: '0 auto'\n})\n\nconst Item = (props) => style('div')({\n  color: '#212121',\n  textAlign: 'center',\n  fontWeight: 'bold',\n  fontSize: '1.3em',\n  padding: '1em',\n  width: '50%',\n  minWidth: '150px',\n  // maxWidth: '250px',\n  '@media (min-width: 1000px)': {\n    width: '250px',\n    maxWidth: '33%'\n  },\n  position: 'relative',\n  flexGrow: '1',\n  boxSizing: 'border-box',\n  ' .secondary': {\n    marginTop: '-1em',\n    color: '#848484'\n  }\n})(\n  {},\n  [\n    <Cover src={props.image} />,\n    <p>{props.name}</p>,\n    <p class='secondary'>by {props.artist}</p>\n  ]\n)\n\nconst Cover = (props) => style('img')({\n  width: '100%'\n})({\n  src: props.src\n})\n\nconst Page = style('article')({\n  height: '100%',\n  width: '100%',\n  overflowY: 'auto',\n  color: '#212121'\n})\n\nconst Home = () => {\n  return (\n    <Page>\n      <Header />\n      <Gallery data={albums} />\n    </Page>\n  )\n}\n\nexport default Home\n","import images from './public/128/*.jpg'\nimport songs from './public/songs/*.mp3'\n\nexport default [{\n  id: 0,\n  name: 'Trumpets in Your Ears',\n  artist: 'Wowa & Chris Rede',\n  album: 'Wowa CC0',\n  url: songs[0],\n  cover_art_url: images[0]\n  // audio: new Audio(),\n  // length: null,\n  // currentPosition: null\n},\n{\n  id: 1,\n  name: 'Pipo Interludo',\n  artist: 'Pipo & Wowa',\n  album: 'Wowa CC0',\n  url: songs[1],\n  cover_art_url: images[1]\n  // audio: new Audio(),\n  // length: null,\n  // currentPosition: null\n},\n{\n  id: 2,\n  name: 'Blue Sky',\n  artist: 'Wowa & Chris Rede',\n  album: 'Wowa CC0',\n  url: songs[2],\n  cover_art_url: images[2]\n  // audio: new Audio(),\n  // length: null,\n  // currentPosition: null\n},\n{\n  id: 3,\n  name: 'Voisin',\n  artist: 'Wowa',\n  album: 'Wowa CC0',\n  url: songs[3],\n  cover_art_url: images[3]\n  // audio: new Audio(),\n  // length: null,\n  // currentPosition: null\n},\n{\n  id: 4,\n  name: 'Piratos',\n  artist: 'Wowa & Chris Rede',\n  album: 'Wowa CC0',\n  url: songs[4],\n  cover_art_url: images[4]\n  // audio: new Audio(),\n  // length: null,\n  // currentPosition: null\n},\n{\n  id: 5,\n  name: 'Viviq',\n  artist: 'Wowa',\n  album: 'Wowa CC0',\n  url: songs[5],\n  cover_art_url: images[5]\n  // audio: new Audio(),\n  // length: null,\n  // currentPosition: null\n},\n{\n  id: 6,\n  name: 'Kring',\n  artist: 'Wowa',\n  album: 'Wowa CC0',\n  url: songs[6],\n  cover_art_url: images[6]\n  // audio: new Audio(),\n  // length: null,\n  // currentPosition: null\n},\n{\n  id: 7,\n  name: 'Just Cool',\n  artist: 'Wowa & eckskwisit',\n  album: 'Wowa CC0',\n  url: songs[7],\n  cover_art_url: images[7]\n  // audio: new Audio(),\n  // length: null,\n  // currentPosition: null\n}\n]\n","// import { h, app } from 'hyperapp'\n// import songList from './songs.js'\n// import ScrubBar from './components/ScrubBar.js'\n\n// console.log(songList)\n\n// const state = {\n//   pages: [ // High level state of pages\n//   ],\n//   music: {\n//     history: [],\n//     isPlaying: false,\n//     shuffle: true,\n//     playingContext: null,\n//     songs: songList\n//   }\n// }\n\n// const actions = {\n//   addPage: () => ({pages}) => ({\n//     pages: (pages.push({id: pages.length}), pages)\n//   }),\n//   removePage: () => ({pages}) => ({\n//     pages: (pages.pop(), pages)\n//   }),\n//   music: {\n//     play: (id) => (state) => {\n//       console.log(state)\n//       console.log(id)\n//       switch (id) {\n//         case undefined:\n//           if (state.playingContext) {\n//             console.log('would continue to play song')\n//           }\n//           if (!state.playingContext) {\n//             console.log('would start shuffle play')\n//           }\n//           break\n\n//         default:\n//           console.log('default')\n//       }\n//     },\n//     pause: () => ({playingContext}) => {\n//       if (!playingContext) {\n//         console.log('nothing to pause')\n//         return\n//       }\n\n//       console.log('would pause now')\n//     }\n//   }\n// }\n\n// const Page = ({id: pageNumber, addPage, removePage}) =>\n//   h('div', { class: 'page-container' }, [\n//     h('h1', {}, pageNumber),\n//     h('button', {onclick: addPage}, '+ Add Page'),\n//     h('button', {onclick: removePage}, '- Remove Page')\n//   ])\n\n// // const view = ({pages}, {addPage, removePage, music: {play, pause}}) =>\n// //   h('div', {}, [\n// //     h('h1', {}, 'Lowest level'),\n// //     h('button', {onclick: () => play()}, 'play'),\n// //     h('button', {onclick: () => pause()}, 'pause'),\n// //     h('button', {onclick: addPage}, '+ Add Page'),\n// //     // console.log(state)\n// //     pages.map(({id}) => (\n// //       Page({id, addPage, removePage})\n// //     ))\n// //   ])\n\n// const view =\n//   <main>\n//     <ScrubBar />\n//     <p>This is some Bodytext</p>\n//   </main>\n\n// console.info(ScrubBar)\n// app(state, actions, view, document.body)\n\nimport { h, app } from 'hyperapp'\nimport Amplitude from 'amplitudejs'\nimport picostyle from 'picostyle'\nimport ScrubBar from './components/ScrubBar.js'\nimport Home from './components/Home.js'\nimport songList from './songs.js'\nimport placeholder from './public/song_placeholder.svg'\n\nconst style = picostyle(h)\n\nconst AppShell = style('div')({\n  height: '100%',\n  width: '100%',\n  position: 'relative'\n})\n\nAmplitude.setDebug(true)\nAmplitude.init({\n  songs: songList,\n  default_album_art: placeholder,\n  callbacks: {\n    song_change: () => {\n      let meta = JSON.parse(JSON.stringify(Amplitude.getActiveSongMetadata())) // Deep copy so we don't modify the original object\n      let image = new window.Image()\n\n      if (meta.cover_art_url) {\n        image.src = meta.cover_art_url\n\n        if (!image.complete) {\n          meta.cover_art_url = placeholder\n          image.onload = () => {\n            meta.cover_art_url = image.src\n            flamous.updateMetaData(meta)\n          }\n        }\n      }\n\n      flamous.updateMetaData(meta)\n    },\n    before_play: () => {\n      flamous.setPlayState(true)\n    },\n    before_pause: () => {\n      flamous.setPlayState(false)\n    }\n  }\n})\n\nconst flamous = app(\n  {\n    playingState: false,\n    playingContext: {\n      artist: songList[0].artist,\n      name: songList[0].name,\n      cover_art_url: songList[0].cover_art_url || Amplitude.getDefaultAlbumArt()\n    }\n  },\n  {\n    updateMetaData: (metaData) => {\n      if ('mediaSession' in navigator) {\n        navigator.mediaSession.metadata = new window.MediaMetadata({\n          title: metaData.name,\n          artist: metaData.artist,\n          artwork: [{\n            src: metaData.cover_art_url\n          }]\n        })\n      }\n\n      return {\n        playingContext: {\n          artist: metaData.artist,\n          name: metaData.name,\n          cover_art_url: metaData.cover_art_url || Amplitude.getDefaultAlbumArt()\n        }\n      }\n    },\n    setPlayState: (isPlaying) => {\n      return {\n        playingState: isPlaying\n      }\n    }\n  },\n  ({playingContext, playingState}) =>\n    <AppShell>\n      <Home />\n      <ScrubBar\n        playingState={playingState}\n        playPause={playPause}\n        nextSong={Amplitude.next}\n        previousSong={Amplitude.prev}\n        artist={playingContext.artist}\n        name={playingContext.name}\n        image={playingContext.cover_art_url} />\n    </AppShell>,\n  document.body\n)\n\nfunction playPause () {\n  console.log(Amplitude.audio())\n  if (!Amplitude.audio().paused) {\n    console.info('paused')\n    Amplitude.pause()\n  } else {\n    console.info('playing')\n    Amplitude.play()\n  }\n}\n\nif ('mediaSession' in navigator) {\n  let meta = navigator.mediaSession.setActionHandler\n  meta('play', Amplitude.play)\n  meta('pause', Amplitude.pause)\n  meta('previoustrack', Amplitude.prev)\n  meta('nexttrack', Amplitude.next)\n}\n"]}